define.alias("@glimmer/component/-private/ember-component-manager","msg-ui/component-managers/glimmer")
define.alias("artdeco-button/components/artdeco-button","msg-ui/components/artdeco-button")
define.alias("artdeco-card/components/artdeco-card-image","msg-ui/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","msg-ui/components/artdeco-card")
define.alias("artdeco-carousel/components/artdeco-carousel-item","msg-ui/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","msg-ui/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","msg-ui/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","msg-ui/components/artdeco-carousel")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","msg-ui/components/artdeco-confirmation-dialog")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","msg-ui/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","msg-ui/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","msg-ui/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","msg-ui/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","msg-ui/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","msg-ui/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","msg-ui/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","msg-ui/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","msg-ui/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","msg-ui/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","msg-ui/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","msg-ui/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","msg-ui/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","msg-ui/components/artdeco-entity-lockup")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","msg-ui/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","msg-ui/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","msg-ui/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","msg-ui/components/artdeco-loader")
define.alias("artdeco-modal/components/container","msg-ui/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","msg-ui/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","msg-ui/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","msg-ui/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","msg-ui/components/artdeco-modal")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","msg-ui/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","msg-ui/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","msg-ui/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","msg-ui/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","msg-ui/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","msg-ui/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","msg-ui/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","msg-ui/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","msg-ui/components/artdeco-pill-toggle")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","msg-ui/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","msg-ui/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","msg-ui/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","msg-ui/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","msg-ui/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","msg-ui/components/artdeco-tabs")
define.alias("artdeco-toast/components/artdeco-toast-item","msg-ui/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","msg-ui/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","msg-ui/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","msg-ui/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","msg-ui/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","msg-ui/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","msg-ui/components/artdeco-typeahead")
define("msg-ui/components/away-message-reminder-banner",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","ember-lifeline","@glimmer/component"],function(e,t,s,n,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,c,p,d,u,g,h,b,f
const v=Ember.HTMLBars.template({id:"98Pi3Hvv",block:'{"symbols":["assetLoader"],"statements":[[4,"if",[[23,0,["msgDataManager","awayMessageSettings","length"]]],null,{"statements":[[0,"  "],[5,"artdeco-inline-feedback@artdeco-inline-feedback",[[12,"class","msg-away-message-reminder-banner"],[3,"did-insert",[[28,"fn",[[23,0,["handleStartTime"]],[23,0,["msgDataManager","awayMessageSettings","firstObject","timeRange","start"]]],null]]],[3,"did-update",[[28,"fn",[[23,0,["handleStartTime"]],[23,0,["msgDataManager","awayMessageSettings","firstObject","timeRange","start"]]],null]]]],[["@message","@linkText","@onClick"],[[28,"if",[[23,0,["isActive"]],[28,"t",["i18n_away_message_on","msg-ui/components/away-message-reminder-banner"],null],[28,"t",["i18n_away_message_scheduled","msg-ui/components/away-message-reminder-banner"],null]],null],[28,"t",["i18n_update","msg-ui/components/away-message-reminder-banner"],null],[28,"ember-cli-pemberly-tracking@tracked-action",["away_message_update",[28,"ember-simple-set-helper@set",[[23,0,[]],"awayMessageSettingsModalIsOpen",true],null]],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["awayMessageSettingsModalIsOpen"]]],null,{"statements":[[0,"  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"      "],[5,"msg-shared-modals@away-message-settings-modal",[],[["@closeModal"],[[28,"ember-simple-set-helper@set",[[23,0,[]],"awayMessageSettingsModalIsOpen",false],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"  "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"msg-ui/components/away-message-reminder-banner.hbs"}})
let y=(m=Ember.inject.service("msg-data@data-manager"),c=Ember._tracked,p=Ember._tracked,d=Ember._action,u=(f=new WeakMap,class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"currentTime",h,this);(0,t.default)(this,"isActive",b,this)
f.set(this,{writable:!0,value:null})}handleStartTime(e){if((0,i.default)(this,f)){(0,o.cancelTask)(this,(0,i.default)(this,f));(0,n.default)(this,f,null)}const t=e-Date.now()
if(t>0){this.isActive=!1
Ember.testing||(0,n.default)(this,f,(0,o.runTask)(this,()=>{this.isDestroying||(this.isActive=!0)},t))}else this.isActive=!0}willDestroy(){super.willDestroy.apply(this,arguments);(0,o.runDisposables)(this)}}),g=(0,r.default)(u.prototype,"msgDataManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,r.default)(u.prototype,"currentTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,r.default)(u.prototype,"isActive",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(u.prototype,"handleStartTime",[d],Object.getOwnPropertyDescriptor(u.prototype,"handleStartTime"),u.prototype),u)
e.default=y
Ember._setComponentTemplate(v,y)})
define("msg-ui/components/binary-reply-options",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"YjwXtQKm",block:'{"symbols":["@promptText","@rejectText","@rejectA11yText","@isReplyPending","@rejectTrackingKey","@actionTrackingPrefix","@sendRejectReply","@acceptText","@acceptA11yText","@acceptTrackingKey","@sendAcceptReply"],"statements":[[0,"\\n"],[7,"div",true],[10,"class","msg-binary-reply-options__prompts t-12 t-normal"],[8],[0,"\\n  "],[1,[23,1,[]],false],[0,"\\n"],[9],[0,"\\n"],[7,"div",true],[10,"class","msg-binary-reply-options__actions display-flex"],[8],[0,"\\n  "],[5,"artdeco-button@artdeco-button",[[12,"aria-label",[23,3,[]]],[12,"data-control-name",[28,"concat",[[23,6,[]],[23,5,[]]],null]],[3,"on",["click",[23,7,[]]]]],[["@text","@color","@type","@class","@disabled"],[[23,2,[]],"muted","tertiary","msg-binary-reply-options__reject-button full-width",[23,4,[]]]],{"statements":[[0,"\\n    "],[1,[23,2,[]],false],[0,"\\n  "]],"parameters":[]}],[0,"\\n  "],[5,"artdeco-button@artdeco-button",[[12,"aria-label",[23,9,[]]],[12,"data-control-name",[28,"concat",[[23,6,[]],[23,10,[]]],null]],[3,"on",["click",[23,11,[]]]]],[["@text","@type","@class","@disabled"],[[23,8,[]],"tertiary","msg-binary-reply-options__accept-button full-width",[23,4,[]]]],{"statements":[[0,"\\n    "],[1,[23,8,[]],false],[0,"\\n  "]],"parameters":[]}],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/binary-reply-options.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","global-helpers/helpers/name"],function(e,t,s,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,c,p,d,u,g,h,b,f,v,y,_,E,w,M,k,C,T
const x=Ember.HTMLBars.template({id:"0HgnuGgz",block:'{"symbols":["assetLoader","elements","@bubbleId","@bubble","@shouldShowExpandedTypeahead"],"statements":[[0,"\\n"],[4,"if",[[23,0,["isInMailCompose"]]],null,{"statements":[[0,"  "],[5,"artdeco-entity-lockup@artdeco-entity-lockup",[],[["@classNames","@size"],["msg-compose__inmail-compose-entity-lockup",2]],{"statements":[[0,"\\n"],[4,"ember-engines@link-to-external",["profile.view",[23,0,["firstRecipient","publicIdentifier"]]],null,{"statements":[[0,"      "],[6,[23,2,["image"]],[],[["@type"],["circle"]],{"statements":[[0,"\\n        "],[5,"presence@entity-with-presence",[],[["@classNames","@miniProfile","@size"],["mr2",[23,0,["firstRecipient"]],2]]],[0,"\\n      "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},null],[0,"    "],[6,[23,2,["content"]],[],[[],[]],{"statements":[[0,"\\n      "],[6,[23,2,["title"]],[],[["@altLink"],[true]],{"statements":[[0,"\\n"],[4,"ember-engines@link-to-external",["profile.view",[23,0,["firstRecipient","publicIdentifier"]]],[["class"],["msg-compose__profile-link"]],{"statements":[[0,"          "],[1,[28,"ember-cli-pemberly-i18n@format-name",null,[["firstName","lastName","type"],[[23,0,["firstRecipient","firstName"]],[23,0,["firstRecipient","lastName"]],"full"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"      "]],"parameters":[]}],[0,"\\n      "],[6,[23,2,["subtitle"]],[[12,"class","msg-compose__occupation"]],[[],[]],{"statements":[[0,"\\n        "],[1,[23,0,["firstRecipient","occupation"]],false],[0,"\\n      "]],"parameters":[]}],[0,"\\n    "]],"parameters":[]}],[0,"\\n  "]],"parameters":[2]}],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showGroupEditScreen"]]],null,{"statements":[[0,"    "],[5,"msg-ui@msg-group-form/msg-group-form",[],[["@onNext","@prefilledRecipients","@prefilledMsgGroupName","@classNames","@nextButtonDataControlName","@onRecipientsChanged","@actionTrackingPrefix"],[[28,"action",[[23,0,[]],"createDraftGroupConversation"],null],[23,0,["messageRecipients"]],[23,0,["draftConversation","name"]],"msg-group-form--v2",[23,0,["nextButtonDataControlName"]],[28,"action",[[23,0,[]],"recipientsChanged"],null],[23,0,["actionTrackingPrefix"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showConnectionsTypeahead"]]],null,{"statements":[[0,"    "],[5,"msg-typeahead@connections-typeahead",[[12,"class","mbA"]],[["@a11yText","@placeholder","@addRecipientControlName","@openConversationControlName","@addNonConnectionControlName","@beginSearchControlName","@plusIconControlName","@quickOpenConversationControlName","@quickAddRecipientControlName","@prefilledRecipients","@recipientsChanged","@openConversation","@composeToNonConnection","@setComposeContext","@includeCoworkerResults","@includeGroupConversationResults","@includeNonConnectionResults","@enableGroupMessageRequests","@recipientSuggestionEnabled","@showJumboExpandedSearchResults","@onFocusInTypeahead","@onFocusOutTypeahead","@withSuggestedList"],[[28,"t",["i18n_new_compose_recipients_label","msg-ui/components/compose"],null],[28,"if",[[23,0,["messageBarText"]],[23,0,["messageBarText"]],[28,"t",["i18n_type_name_or_multiple_names","msg-ui/components/compose"],null]],null],[28,"concat",[[23,0,["actionTrackingPrefix"]],"search_add"],null],[28,"concat",[[23,0,["actionTrackingPrefix"]],"search_add_group"],null],[28,"concat",[[23,0,["actionTrackingPrefix"]],"search_add_nonconnection"],null],[28,"concat",[[23,0,["actionTrackingPrefix"]],"begin_recipient_search"],null],[28,"concat",[[23,0,["actionTrackingPrefix"]],"plus_icon"],null],[28,"concat",[[23,0,["actionTrackingPrefix"]],"quick_add_group"],null],[28,"concat",[[23,0,["actionTrackingPrefix"]],"quick_add"],null],[23,0,["messageRecipients"]],[23,0,["recipientsChanged"]],[23,0,["openConversation"]],[23,0,["composeToNonConnection"]],[23,0,["setComposeContext"]],true,true,true,true,[23,0,["recipientSuggestionEnabled"]],[23,5,[]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isFocusInTypeahead",true],null],[28,"ember-simple-set-helper@set",[[23,0,[]],"isFocusInTypeahead",false],null],[23,0,["enableComposeRecipientSuggestion"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showSuggestedRecipientTray"]]],null,{"statements":[[0,"    "],[5,"msg-conversation-ui@suggested-recipients-tray",[],[["@addRecipientToTypeahead","@suggestedRecipients","@isFocusInTypeahead"],[[23,0,["addRecipientToTypeahead"]],[23,0,["suggestedRecipients"]],[23,0,["isFocusInTypeahead"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showNewConversationRename"]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","msg-s-thread-actions-tray__item msg-s-thread-actions-tray__item--rename msg-s-thread-actions-tray__item--rename-is-for-new-conversation pv2 ph3"],[8],[0,"\\n      "],[7,"label",true],[10,"class","mb2 mt0"],[8],[1,[28,"t",["i18n_group_name","msg-ui/components/compose"],null],false],[9],[0,"\\n      "],[5,"input",[[12,"placeholder",[28,"t",["i18n_group_name","msg-ui/components/compose"],null]]],[["@type","@maxlength","@value","@classNames"],["text","300",[23,0,["draftConversation","name"]],"msg-s-thread-actions-tray__rename-input t-20 t-black t-light"]]],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showGroupProfileCard"]]],null,{"statements":[[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"msg-conversation-ui@profile-card-group",[],[["@class","@isOverlay","@conversation","@recipientProfiles","@recipientNames","@showDraftGroupConversation","@customRollupClickAction"],["ph3 pv4",[23,0,["isOverlay"]],[23,0,["draftConversation"]],[23,0,["draftConversation","recipients"]],[23,0,["draftConversation","participantNames"]],[23,0,["showDraftGroupConversation"]],[28,"action",[[23,0,[]],"openEditGroupScreen"],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"\\n"],[4,"if",[[23,0,["showPremiumUpsell"]]],null,{"statements":[[0,"  "],[5,"msg-ui@premium-upsell",[],[["@contextUrn"],[[23,0,["firstRecipient","entityUrn"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"unless",[[28,"global-helpers@or",[[23,0,["showGroupEditScreen"]],[23,0,["showPremiumUpsell"]]],null]],null,{"statements":[[0,"  "],[5,"msg-ui@thread",[],[["@bubbleId","@bubble","@draftConversation","@openConversation","@composeIsFullyExpanded","@composeToNonConnection","@showRenameConversationForm","@toggleShowRenameConversation","@renamePageKey","@mutePageKey","@addParticipantsPageKey","@isOverlay","@handleSuccessfulDiscardRequest","@isOriginalSize","@quickRepliesUseCase","@width","@messagingSettings","@messageActions","@composeViewContext","@onMouseUp","@forwardedEvent","@invitationUrn","@isOpenedFromMsgButton","@firstMessageTrackingReferrer","@hasDraft","@hasPrefilledConversationName","@conversation","@messageRecipients","@messageContext","@isNew","@isInMailCompose","@msgAdapterOptions","@customPlaceholderText","@prefilledAttachments","@prefilledMessage","@showOneToOneProfileCard","@subject","@update","@smpContent","@fetchedEventsProxy","@isMessageRequestCompose","@didSubmitMessage","@dragAndDropTrackingKeys","@sendMessageControlName","@customTrackingObject","@conversationDetailModuleKey","@muteConversationControlName","@fileUploadControlName","@imageUploadControlName","@isInmail","@imagePasteControlName","@composeModuleKey","@actionTrackingPrefix","@recruiterInmailBinaryReplyUiPageKey","@contextByRecipients"],[[23,3,[]],[23,4,[]],[23,0,["draftConversation"]],[23,0,["openConversation"]],[28,"global-helpers@or",[[23,0,["composeIsFullyExpanded"]],[23,0,["isInMailCompose"]]],null],[23,0,["composeToNonConnection"]],[23,0,["showRenameConversationForm"]],[23,0,["toggleShowRenameConversation"]],[23,0,["renamePageKey"]],[23,0,["mutePageKey"]],[23,0,["addParticipantsPageKey"]],[23,0,["isOverlay"]],[23,0,["handleSuccessfulDiscardRequest"]],[23,0,["isOriginalSize"]],[23,0,["quickRepliesUseCase"]],[23,0,["width"]],[23,0,["messagingSettings"]],[23,0,["messageActions"]],[23,0,["composeViewContext"]],[23,0,["onMouseUp"]],[23,0,["forwardedEvent"]],[23,0,["invitationUrn"]],[23,0,["isOpenedFromMsgButton"]],[23,0,["firstMessageTrackingReferrer"]],[23,0,["hasDraft"]],[23,0,["hasPrefilledConversationName"]],[23,0,["conversation"]],[23,0,["messageRecipients"]],[23,0,["messageContext"]],[23,0,["isNew"]],[23,0,["isInMailCompose"]],[23,0,["msgAdapterOptions"]],[23,0,["customPlaceholderText"]],[23,0,["prefilledAttachments"]],[23,0,["prefilledMessage"]],[23,0,["showOneToOneProfileCard"]],[23,0,["subject"]],[23,0,["update"]],[23,0,["smpContent"]],[23,0,["fetchedEventsProxy"]],[23,0,["isMessageRequestCompose"]],[23,0,["didSubmitMessage"]],[23,0,["dragAndDropTrackingKeys"]],[23,0,["sendMessageControlName"]],[23,0,["customTrackingObject"]],[23,0,["conversationDetailModuleKey"]],[23,0,["muteConversationControlName"]],[23,0,["fileUploadControlName"]],[23,0,["imageUploadControlName"]],[23,0,["isInMail"]],[23,0,["imagePasteControlName"]],[23,0,["composeModuleKey"]],[23,0,["actionTrackingPrefix"]],[23,0,["recruiterInmailBinaryReplyUiPageKey"]],[23,0,["contextByRecipients"]]]]],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"msg-ui/components/compose.hbs"}})
let P=(a=Ember.inject.service("jet"),o=Ember.inject.service("lix"),l=Ember.inject.service("msg-data@data-manager"),m=Ember.computed("enableComposeTraySuggestion","isNew","messageRecipients.length","conversation.id","showDraftGroupConversation").readOnly(),c=Ember.computed("enableComposeTraySuggestion","isNew","hasEnoughRecipientsToTriggerSuggestionsTray","showDraftGroupConversation").readOnly(),p=Ember.computed("enableFeedSendPrivateOneParticipantRequirement","update","messageRecipients.length").readOnly(),d=Ember.computed("isNew","isMessageRequestCompose","showDraftGroupConversation","showGroupEditScreen","isOpenedFromMsgButton").readOnly(),u=Ember.computed.readOnly("messageRecipients.0"),g=Ember.computed("isInMailCompose","loadingConvoHistory","messageRecipients.length").readOnly(),h=Ember.computed("showDraftGroupConversation","conversation.id").readOnly(),b=Ember.computed.bool("messageContext").readOnly(),f=Ember._action,v=Ember._action,y=Ember._action,_=Ember._action,E=class extends Ember.Component{constructor(){super(...arguments);(0,s.default)(this,"tagName","");(0,t.default)(this,"jet",w,this);(0,t.default)(this,"lix",M,this);(0,t.default)(this,"msgDataManager",k,this);(0,t.default)(this,"firstRecipient",C,this);(0,t.default)(this,"isMessageRequestCompose",T,this);(0,s.default)(this,"isDraftThreadActionsDropdownOpen",!1);(0,s.default)(this,"noConvoHistoryInNewBubble",!1);(0,s.default)(this,"loadingConvoHistory",!1)}init(){super.init()
Ember.setProperties(this,{_initialConversation:this.conversation,enableComposeRecipientSuggestion:this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-recipient-suggestion"),enableComposeTraySuggestion:this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-tray-suggestions")})
this.hasPrefilledConversationName||!Ember.get(this,"messageRecipients.length")||this.groupConversationName||this.showGroupEditScreen||this._setConvoHistoryWithRecipients(this.messageRecipients)}get showNewConversationRename(){var e
return this.isNew&&(null===(e=this.messageRecipients)||void 0===e?void 0:e.length)>1&&!Ember.get(this,"conversation.id")&&!this.showDraftGroupConversation}get showSuggestedRecipientTray(){return this.enableComposeTraySuggestion&&this.isNew&&this.hasEnoughRecipientsToTriggerSuggestionsTray&&!this.showDraftGroupConversation}get hasEnoughRecipientsToTriggerSuggestionsTray(){var e
const t=(null===(e=this.messageRecipients)||void 0===e?void 0:e.length)||0
return!!(this.update&&t>=1&&this.lix.getTreatmentIsEnabled("voyager.web.messaging-feed-send-private-tray-one-participant"))||t>1}get showConnectionsTypeahead(){return this.isNew&&!(this.isMessageRequestCompose&&this.isOpenedFromMsgButton)&&!this.showDraftGroupConversation&&!this.showGroupEditScreen}get showOneToOneProfileCard(){return!this.isInMailCompose&&!this.loadingConvoHistory&&this.messageRecipients&&1===this.messageRecipients.length}get showGroupProfileCard(){return this.showDraftGroupConversation&&!Ember.get(this,"conversation.id")}_setConvoHistoryWithRecipients(e){if(!e||!e.length){Ember.setProperties(this,{noConvoHistoryInNewBubble:!1,composeIsFullyExpanded:!1,conversation:this._initialConversation})
return Ember.RSVP.reject()}Ember.setProperties(this,{loadingConvoHistory:!0})
return this.msgDataManager.fetchLatestConversationByRecipients(e).then(e=>{if(this.isDestroying)return
let t
if(e){const s=Ember.get(e,"id")
t=this.msgDataManager.initEventCollection({name:s,conversationId:s}).fetch()}if(e){if(this.isInMailCompose){this.jet.logError(new Error("Loaded conversation history with InMail compose"),[],{shouldRethrow:!1})
Ember.set(this,"isInMailCompose",!1)
Ember.set(this,"isNew",!1)}if(this.invitationUrn){this.jet.logError(new Error("Loaded conversation history with invitation urn"),[],{shouldRethrow:!1})
Ember.set(this,"isInMailCompose",!1)
Ember.set(this,"isNew",!1)}Ember.setProperties(this,{conversation:e,fetchedEventsProxy:t,invitationUrn:void 0})}else Ember.setProperties(this,{conversation:this._initialConversation,fetchedEventsProxy:void 0})
Ember.setProperties(this,{noConvoHistoryInNewBubble:!e,composeIsFullyExpanded:!e})},()=>{this.isDestroying||Ember.setProperties(this,{conversation:this._initialConversation,fetchedEventsProxy:void 0})}).finally(()=>{Ember.set(this,"loadingConvoHistory",!1)})}_fetchSuggestedRecipients(){const e=this.messageRecipients.map(e=>Ember.get(e,"entityUrn"))
return this.msgDataManager.fetchSuggestedRecipients(!1,e)}_filterOutSelectedRecipients(e){const t=new Set(this.messageRecipients.map(e=>Ember.get(e,"entityUrn")))
return e.filter(e=>!t.has(Ember.get(e,"entityUrn")))}openEditGroupScreen(){Ember.setProperties(this,{isDraftThreadActionsDropdownOpen:!1,showGroupEditScreen:!0,showDraftGroupConversation:!1})}createDraftGroupConversation(e){let{recipients:t,msgGroupName:s,contextByRecipients:n}=e
Ember.setProperties(this,{contextByRecipients:n,messageRecipients:t,showGroupEditScreen:!1,showDraftGroupConversation:!0})
const i={groupChat:!0,participantNames:t.map(r.getName),recipients:t,participants:t.map(e=>({miniProfile:e})),name:s,totalParticipantsCount:t&&t.length}
Ember.set(this,"draftConversation",i)
this.onCreateDraftGroupConversation({recipients:t,msgGroupName:s})}recipientsChanged(e,t){Ember.setProperties(this,{contextByRecipients:t,messageRecipients:e,invitationUrn:void 0})
this.hasPrefilledConversationName||this._setConvoHistoryWithRecipients(e)
this.enableComposeTraySuggestion&&this.hasEnoughRecipientsToTriggerSuggestionsTray&&this._fetchSuggestedRecipients().then(e=>{if(!this.isDestroying){const t=this._filterOutSelectedRecipients(e)
Ember.set(this,"suggestedRecipients",t)}})}addRecipientToTypeahead(e){this.messageRecipients.addObject(e)
this.recipientsChanged(this.messageRecipients)}},w=(0,n.default)(E.prototype,"jet",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,n.default)(E.prototype,"lix",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,n.default)(E.prototype,"msgDataManager",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(E.prototype,"showNewConversationRename",[m],Object.getOwnPropertyDescriptor(E.prototype,"showNewConversationRename"),E.prototype),(0,n.default)(E.prototype,"showSuggestedRecipientTray",[c],Object.getOwnPropertyDescriptor(E.prototype,"showSuggestedRecipientTray"),E.prototype),(0,n.default)(E.prototype,"hasEnoughRecipientsToTriggerSuggestionsTray",[p],Object.getOwnPropertyDescriptor(E.prototype,"hasEnoughRecipientsToTriggerSuggestionsTray"),E.prototype),(0,n.default)(E.prototype,"showConnectionsTypeahead",[d],Object.getOwnPropertyDescriptor(E.prototype,"showConnectionsTypeahead"),E.prototype),C=(0,n.default)(E.prototype,"firstRecipient",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(E.prototype,"showOneToOneProfileCard",[g],Object.getOwnPropertyDescriptor(E.prototype,"showOneToOneProfileCard"),E.prototype),(0,n.default)(E.prototype,"showGroupProfileCard",[h],Object.getOwnPropertyDescriptor(E.prototype,"showGroupProfileCard"),E.prototype),T=(0,n.default)(E.prototype,"isMessageRequestCompose",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(E.prototype,"openEditGroupScreen",[f],Object.getOwnPropertyDescriptor(E.prototype,"openEditGroupScreen"),E.prototype),(0,n.default)(E.prototype,"createDraftGroupConversation",[v],Object.getOwnPropertyDescriptor(E.prototype,"createDraftGroupConversation"),E.prototype),(0,n.default)(E.prototype,"recipientsChanged",[y],Object.getOwnPropertyDescriptor(E.prototype,"recipientsChanged"),E.prototype),(0,n.default)(E.prototype,"addRecipientToTypeahead",[_],Object.getOwnPropertyDescriptor(E.prototype,"addRecipientToTypeahead"),E.prototype),E)
e.default=P
Ember._setComponentTemplate(x,P)})
define("msg-ui/components/conversation-error-state",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"6SBoRw87",block:'{"symbols":["@bubble"],"statements":[[7,"article",true],[10,"class","flex-1"],[8],[0,"\\n  "],[7,"section",true],[10,"class","msg-overlay-conversation-error-state relative flex-grow-1"],[8],[0,"\\n      "],[5,"artdeco-empty-state@artdeco-empty-state",[],[["@actionText","@headline","@illustration","@mercadoSize","@message","@onButtonClick","@size"],[[28,"t",["i18n_try_again","msg-ui/components/conversation-error-state"],null],[28,"t",["i18n_load_failed_headline","msg-ui/components/conversation-error-state"],null],"error-crossing",2,[28,"t",["i18n_load_failed_message","msg-ui/components/conversation-error-state"],null],[28,"fn",[[23,1,["retryMethod"]],[23,1,["paramsForRetryMethod"]]],null],2]]],[0,"\\n    "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/conversation-error-state.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/conversation-loading-state",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"lQlWjMdT",block:'{"symbols":[],"statements":[[7,"article",true],[10,"class","msg-overlay-conversation-loading-state flex-1"],[8],[0,"\\n  "],[7,"section",true],[10,"class","msg-overlay-conversation-loading-state__loader"],[8],[0,"\\n    "],[5,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]]],[0,"\\n  "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/conversation-loading-state.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/conversation-preview",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","urn-utils","extended/config/environment","msg-shared/utils/user-visible-exception-helper"],function(e,t,s,n,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,c,p,d,u,g,h,b,f,v,y,_,E,w,M,k,C,T
const x=Ember.HTMLBars.template({id:"xooRvlty",block:'{"symbols":["participant"],"statements":[[4,"if",[[23,0,["isLoading"]]],null,{"statements":[[0,"  "],[7,"section",true],[10,"class","msg-overlay-conversation-preview__loader"],[8],[0,"\\n    "],[5,"artdeco-loader@artdeco-loader",[[12,"class","center-both"]],[[],[]]],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["isVoyagerApiUserVisibleError"]]],null,{"statements":[[0,"  "],[7,"section",true],[10,"class","msg-overlay-conversation-preview__section relative flex-grow-1"],[8],[0,"\\n    "],[7,"div",true],[10,"class","msg-overlay-conversation-preview__user-visible-error"],[8],[0,"\\n      "],[7,"div",true],[10,"class","msg-overlay-conversation-preview__user-visible-error-illustration"],[8],[9],[0,"\\n      "],[7,"p",true],[10,"class","msg-overlay-conversation-preview__user-visible-error-text"],[8],[0,"\\n        "],[1,[23,0,["localizedErrorMessageFromApi"]],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["isNotJoinableError"]]],null,{"statements":[[0,"  "],[7,"section",true],[10,"class","msg-overlay-conversation-preview__section relative flex-grow-1"],[8],[0,"\\n    "],[5,"artdeco-empty-state@artdeco-empty-state",[[12,"class","msg-overlay-conversation-preview__error-state"]],[["@headline","@illustration","@message","@size"],[[28,"t",["i18n_error_not_joinable_headline","msg-ui/components/conversation-preview"],null],"missing-piece",[28,"t",["i18n_error_not_joinable_message","msg-ui/components/conversation-preview"],null],2]]],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["isRetrievalError"]]],null,{"statements":[[0,"  "],[7,"section",true],[10,"class","msg-overlay-conversation-preview__section relative flex-grow-1"],[8],[0,"\\n    "],[5,"artdeco-empty-state@artdeco-empty-state",[[12,"class","msg-overlay-conversation-preview__error-state"]],[["@headline","@illustration","@message","@size"],[[28,"t",["i18n_error_preview_failed_headline","msg-ui/components/conversation-preview"],null],"sad-browser",[28,"t",["i18n_error_preview_failed_message","msg-ui/components/conversation-preview"],null],2]]],[0,"\\n    "],[7,"button",false],[12,"class","artdeco-button artdeco-button--secondary artdeco-button--2 block mt2 mhA"],[12,"type","button"],[3,"on",["click",[23,0,["retryPreview"]]]],[8],[0,"\\n      "],[1,[28,"t",["i18n_error_preview_retry_message","msg-ui/components/conversation-preview"],null],false],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[7,"div",true],[10,"class","display-flex flex-column flex-grow-1 relative"],[8],[0,"\\n    "],[7,"section",true],[10,"class","msg-overlay-conversation-preview__header-box flex-grow-zero text-align-center p4"],[8],[0,"\\n      "],[7,"h3",true],[10,"class","t-18 t-bold mb2"],[8],[1,[23,0,["preview","title"]],false],[9],[0,"\\n      "],[7,"h4",true],[10,"class","t-12 t-black--light"],[8],[1,[23,0,["preview","subtitle"]],false],[9],[0,"\\n    "],[9],[0,"\\n\\n    "],[7,"h3",true],[10,"class","t-14 t-black mt4 mb2 ml3"],[8],[1,[28,"t",["i18n_people_header","msg-ui/components/conversation-preview"],null],false],[9],[0,"\\n    "],[7,"section",true],[10,"class","msg-overlay-conversation-preview__participants-section relative flex-grow-1"],[8],[0,"\\n      "],[7,"div",true],[10,"class","msg-overlay-conversation-preview__participants-box scrollable"],[8],[0,"\\n        "],[7,"ul",true],[10,"class","msg-overlay-conversation-preview__participant-list pl3"],[8],[0,"\\n"],[4,"each",[[23,0,["preview","participants"]]],null,{"statements":[[0,"          "],[7,"li",true],[10,"class","msg-overlay-conversation-preview__participant-card display-flex"],[8],[0,"\\n"],[4,"ember-engines@link-to-external",["profile.view",[23,1,["messagingMember","miniProfile","publicIdentifier"]]],[["class","data-control-name"],["mr2 pv2 flex-shrink-zero","overlay.ltj_preview_click_profile"]],{"statements":[[0,"              "],[5,"presence@entity-with-presence",[],[["@imageClasses","@miniProfile","@size"],["overlay-conversation-preview__participant-img",[23,1,["messagingMember","miniProfile"]],3]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[0,"            "],[7,"div",true],[10,"class","msg-overlay-conversation-preview__participant-name-headline flex-grow-1 overflow-hidden pv2 pr3"],[8],[0,"\\n"],[4,"ember-engines@link-to-external",["profile.view",[23,1,["messagingMember","miniProfile","publicIdentifier"]]],[["data-control-name"],["overlay.ltj_preview_click_profile"]],{"statements":[[0,"                "],[7,"span",true],[10,"class","t-14 t-black t-bold"],[8],[0,"\\n                  "],[1,[28,"t",["i18n_participant_fullname","msg-ui/components/conversation-preview"],[["participant"],[[28,"global-helpers@name",[[23,1,["messagingMember","miniProfile"]]],null]]]],false],[0,"\\n                "],[9],[0,"\\n"]],"parameters":[]},null],[0,"              "],[7,"span",true],[10,"class","t-12 t-black--light pl1"],[8],[0,"\\n                "],[1,[28,"t",["i18n_participant_distance","msg-ui/components/conversation-preview"],[["distance"],[[23,1,["distance","value"]]]]],false],[0,"\\n              "],[9],[0,"\\n              "],[7,"p",true],[10,"class","t-14 t-black--light t-normal overflow-hidden truncate"],[8],[0,"\\n                "],[1,[23,1,["messagingMember","miniProfile","occupation"]],false],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[9],[0,"\\n    "],[9],[0,"\\n    "],[9],[0,"\\n"],[4,"if",[[23,0,["isJoinRequestLoading"]]],null,{"statements":[[0,"      "],[7,"section",true],[10,"class","msg-overlay-conversation-preview__loader\\n            msg-overlay-conversation-preview__loader-with-mask"],[8],[0,"\\n        "],[5,"artdeco-loader@artdeco-loader",[[12,"class","center-both"]],[[],[]]],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},null],[0,"  "],[9],[0,"\\n  "],[7,"footer",true],[10,"class","msg-overlay-conversation-preview__footer flex-grow-zero"],[8],[0,"\\n"],[4,"if",[[23,0,["voyagerApiNotJoinableReason"]]],null,{"statements":[[0,"      "],[7,"div",true],[10,"class","msg-overlay-conversation-preview__not-joinable-display"],[8],[0,"\\n        "],[5,"artdeco-inline-feedback",[],[["@type","@message"],["note",[23,0,["voyagerApiNotJoinableReason"]]]]],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},null],[0,"    "],[7,"div",true],[10,"class","pv3 ph4"],[8],[0,"\\n      "],[7,"button",false],[12,"class","artdeco-button artdeco-button--primary artdeco-button--3 full-width"],[12,"disabled",[23,0,["isJoinButtonDisabled"]]],[12,"data-control-name","overlay.ltj_preview_join_groupchat"],[12,"type","button"],[3,"on",["click",[23,0,["onJoin"]]]],[8],[0,"\\n        "],[1,[28,"t",["i18n_join_group_chat","msg-ui/components/conversation-preview"],null],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"msg-ui/components/conversation-preview.hbs"}})
let P=(m=(0,r.classNames)("msg-overlay-conversation-preview display-flex flex-column flex-1"),c=(0,r.tagName)("article"),p=Ember.computed.or("voyagerApiNotJoinableReason","isJoinRequestLoading"),d=Ember.inject.service("store"),u=Ember.inject.service("i18n"),g=Ember.inject.service("jet"),h=Ember.inject.service("msg-data@data-manager"),b=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),f=Ember._action,v=Ember._action,m(y=c(y=(_=class extends Ember.Component{constructor(){super(...arguments);(0,s.default)(this,"isLoading",!0);(0,s.default)(this,"isVoyagerApiUserVisibleError",!1);(0,s.default)(this,"isRetrievalError",!1);(0,s.default)(this,"isNotJoinableError",!1);(0,s.default)(this,"conversationPreviewURL","/messaging/conversationAccessCodePreviews?q=accessCode&accessCode=");(0,s.default)(this,"conversationJoinURL","/messaging/conversations?action=addViewerThroughAccessCode");(0,s.default)(this,"isJoinRequestLoading",!1);(0,t.default)(this,"isJoinButtonDisabled",E,this);(0,t.default)(this,"store",w,this);(0,t.default)(this,"i18n",M,this);(0,t.default)(this,"jet",k,this);(0,t.default)(this,"msgDataManager",C,this);(0,t.default)(this,"persistentToastManager",T,this);(0,s.default)(this,"data-test-msg-overlay-conversation-preview",!0)}init(){super.init.apply(this,arguments)
this._getConversationPreviewData(this.bubble.previewKey).finally(()=>{this.isDestroying||Ember.set(this,"isLoading",!1)})}_getDisplayString(e,t){return this.i18n.lookupTranslation("component","msg-ui@conversation-preview",e)([t])}_showConversation(e){return this.msgDataManager.fetchConversation(e).then(t=>{if(!this.isDestroying){const s=this.msgDataManager.initEventCollection({name:e,conversationId:e}).load()
Ember.setProperties(this,{"bubble.conversation":t,"bubble.fetchedEventsProxy":s,"bubble.isConversationPreview":!1,"bubble.isNew":!1})}})}_getConversationPreviewData(e){return this.store.queryURL(`/${o.default.namespace}${this.conversationPreviewURL}${e}`,{reload:!0,method:"GET"}).then(e=>{if(!this.isDestroying){const t=Ember.get(e,"elements.firstObject")
if(t){if(Ember.get(t,"viewerInConversation")){const e=(0,a.extractEntityInfoFromUrn)(Ember.get(t,"conversationUrn")).id
return this._showConversation(e)}this.preview={title:Ember.get(t,"conversationTitle.text"),subtitle:Ember.get(t,"conversationSubtitle.text"),participants:Ember.get(t,"participants")}
Ember.get(t,"conversationJoinable")||Ember.set(this,"voyagerApiNotJoinableReason",Ember.get(t,"conversationNotJoinableReason.text"))}else Ember.setProperties(this,{isRetrievalError:!0,errorDetail:"Preview data was not returned by the API"})}}).catch(t=>{if(!this.isDestroying){const s=(0,l.default)(t)
if(s){Ember.setProperties(this,{isVoyagerApiUserVisibleError:!0,localizedErrorMessageFromApi:s})
this.jet.logError(new Error("Failed to load group chat preview"),[s,e])}else{const s=Ember.get(t,"errors.firstObject.status")
if(s){404===parseInt(s,10)?Ember.setProperties(this,{isNotJoinableError:!0,errorDetail:"Preview could not be found for accessCode"}):Ember.setProperties(this,{isRetrievalError:!0,errorDetail:`Preview could not be retrieved - ${s}`})
this.jet.logError(new Error("Failed to load group chat preview"),[s,e])}else{let e
e="Network request failed"===t.message?"Preview could not be retrieved due to a network error":"Aborted"===t.message?"Preview could not be retrieved because the request was aborted":"Preview could not be retrieved for an unknown reason"
Ember.setProperties(this,{isRetrievalError:!0,errorDetail:e})}}}throw t})}retryPreview(){if(this.bubble.previewKey){Ember.setProperties(this,{isLoading:!0,isVoyagerApiUserVisibleError:!1,isNotJoinableError:!1,isRetrievalError:!1,errorDetail:void 0})
this._getConversationPreviewData(this.bubble.previewKey).finally(()=>{this.isDestroying||Ember.set(this,"isLoading",!1)})}}onJoin(){Ember.set(this,"isJoinRequestLoading",!0)
this.store.adapterFor("-ember-m3").ajax(`/${o.default.namespace}${this.conversationJoinURL}`,"POST",{data:{accessCode:this.bubble.previewKey}}).then(e=>{const t=(0,a.extractEntityInfoFromUrn)(Ember.get(e,"data.value")).id
this._showConversation(t)}).catch(e=>{if(!this.isDestroying){const t=(0,l.default)(e)
if(t){this.persistentToastManager.error({message:t})
Ember.set(this,"errorDetail",t)
this.jet.logError(new Error("Failed to join group chat"),[t,this.bubble.previewKey])}else{const t=Ember.get(e,"errors.firstObject.status"),s=this._getDisplayString("i18n_join_failed_message")
if(t){this.persistentToastManager.error({message:s})
404===parseInt(t,10)?Ember.set(this,"errorDetail","Conversation could not be found for provided accessCode"):Ember.set(this,"errorDetail",`Unexpected join failure - ${t}`)
this.jet.logError(new Error("Failed to join group chat"),[s,this.bubble.previewKey])}else{let t
t="Network request failed"===e.message?"Preview could not be retrieved due to a network error":"Aborted"===e.message?"Preview could not be retrieved because the request was aborted":"Preview could not be retrieved for an unknown reason"
this.persistentToastManager.error({message:s})
Ember.set(this,"errorDetail",t)}}}throw e}).finally(()=>{this.isDestroying||Ember.set(this,"isJoinRequestLoading",!1)})}},E=(0,n.default)(_.prototype,"isJoinButtonDisabled",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,n.default)(_.prototype,"store",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,n.default)(_.prototype,"i18n",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,n.default)(_.prototype,"jet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(_.prototype,"msgDataManager",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(_.prototype,"persistentToastManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(_.prototype,"retryPreview",[f],Object.getOwnPropertyDescriptor(_.prototype,"retryPreview"),_.prototype),(0,n.default)(_.prototype,"onJoin",[v],Object.getOwnPropertyDescriptor(_.prototype,"onJoin"),_.prototype),_))||y)||y)
e.default=P
Ember._setComponentTemplate(x,P)})
define("msg-ui/components/conversation-unspam",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/custom-tracking","msg-shared/utils/constants"],function(e,t,s,n,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,m,c,p,d,u,g,h,b,f,v,y
const _=Ember.HTMLBars.template({id:"r2wpYQXY",block:'{"symbols":["&attrs"],"statements":[[7,"div",false],[12,"class","msg-s-conversation-unspam pt2 pb3 ph3 text-align-center"],[13,1],[8],[0,"\\n  "],[7,"p",true],[10,"class","t-12 t-black t-normal pb2"],[8],[0,"\\n    "],[1,[28,"t",["i18n_spam_info_message","msg-ui/components/conversation-unspam"],null],false],[0,"\\n  "],[9],[0,"\\n  "],[5,"artdeco-button@artdeco-button",[],[["@class","@click","@type"],["full-width",[28,"fn",[[23,0,["unspamConversation"]]],null],"secondary"]],{"statements":[[0,"\\n    "],[1,[28,"t",["i18n_move_to_inbox","msg-ui/components/conversation-unspam"],null],false],[0,"\\n  "]],"parameters":[]}],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-ui/components/conversation-unspam.hbs"}}),{ACTION_TYPES:E,CONTROL_NAMES:w}=o.default
let M=(l=Ember.inject.service("msg-data@data-manager"),m=Ember.inject.service("i18n"),c=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),p=Ember.inject.service("tracking"),d=Ember.inject.service("lix"),u=Ember._action,g=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",h,this);(0,t.default)(this,"i18n",b,this);(0,t.default)(this,"persistentToastManager",f,this);(0,t.default)(this,"tracking",v,this);(0,t.default)(this,"lix",y,this)
this.enableOlympusKeys=this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-backend-urn")}unspamConversation(){this.msgDataManager.unspamConversation(this.args.conversation).then(()=>{var e,t
const s=this.i18n.lookupTranslation("component","msg-ui@i18n-shared","i18n_unspam_success")()
this.persistentToastManager.success({message:s})
a.default.fireDetailActionEvent({actionType:E.UNSPAM,controlName:w.CONVERSATION.UNSPAM,conversation:this.args.conversation,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
null===(e=(t=this.args).redirectToActiveConversation)||void 0===e||e.call(t,Ember.get(this.args,"conversation.id"))}).catch(e=>{const t=this.i18n.lookupTranslation("component","msg-ui@i18n-shared","i18n_unspam_failed")()
this.persistentToastManager.error({message:t})
throw e})}},h=(0,n.default)(g.prototype,"msgDataManager",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,n.default)(g.prototype,"i18n",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.default)(g.prototype,"persistentToastManager",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,n.default)(g.prototype,"tracking",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.default)(g.prototype,"lix",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(g.prototype,"unspamConversation",[u],Object.getOwnPropertyDescriptor(g.prototype,"unspamConversation"),g.prototype),g)
e.default=M
Ember._setComponentTemplate(_,M)})
define.alias("ember-vector-images/components/custom-image","msg-ui/components/custom-image")
define("msg-ui/components/declined-message-request-accept-banner",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],function(e,t,s,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m
const c=Ember.HTMLBars.template({id:"Q7vYd2b8",block:'{"symbols":["&attrs","@senderName"],"statements":[[7,"div",false],[12,"class","msg-declined-message-request-accept-banner"],[13,1],[8],[0,"\\n  "],[7,"div",true],[10,"class","msg-declined-message-request-accept-banner__description t-12 t-black--light t-normal"],[8],[0,"\\n    "],[1,[28,"t",["i18n_declined_message_request_description_v2","msg-ui/components/declined-message-request-accept-banner"],[["senderName"],[[23,2,[]]]]],false],[0,"\\n  "],[9],[0,"\\n  "],[5,"artdeco-button@artdeco-button",[[12,"aria-label",[28,"t",["i18n_a11y_accept","msg-ui/components/declined-message-request-accept-banner"],[["senderName"],[[23,2,[]]]]]]],[["@text","@size","@type","@class","@click","@disabled"],[[28,"t",["i18n_accept","msg-ui/components/declined-message-request-accept-banner"],null],3,"secondary","full-width",[23,0,["acceptDeclinedMessageRequest"]],[23,0,["isReplyPending"]]]],{"statements":[[0,"\\n    "],[1,[28,"t",["i18n_accept","msg-ui/components/declined-message-request-accept-banner"],null],false],[0,"\\n  "]],"parameters":[]}],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/declined-message-request-accept-banner.hbs"}})
let p=(a=Ember._tracked,o=Ember._action,l=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"isReplyPending",m,this)}acceptDeclinedMessageRequest(){this.isReplyPending=!0
this.args.acceptMessageRequest().finally(()=>{this.isDestroying||(this.isReplyPending=!1)})}},m=(0,n.default)(l.prototype,"isReplyPending",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(l.prototype,"acceptDeclinedMessageRequest",[o],Object.getOwnPropertyDescriptor(l.prototype,"acceptDeclinedMessageRequest"),l.prototype),l)
e.default=p
Ember._setComponentTemplate(c,p)})
define.alias("ember-wormhole/components/ember-wormhole","msg-ui/components/ember-wormhole")
define("msg-ui/components/forward-preview",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],function(e,t,s,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,c,p,d
const u=Ember.HTMLBars.template({id:"mMR1/rBf",block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","msg-s-forward-preview__forwarded-item mv2 t-14 t-black"],[8],[0,"\\n  "],[7,"div",true],[10,"class","msg-s-forward-preview__forwarded-from"],[8],[0,"\\n    "],[5,"msg-ui@primitives/event-listitem-avatar",[],[["@sender","@size"],[[23,0,["from"]],1]]],[0,"\\n    "],[7,"div",true],[8],[0,"\\n      "],[5,"ember-engines@link-to-external",[[3,"ember-cli-pemberly-tracking@track-interaction",["view_profile"]]],[["@route","@model","@class"],["profile.view",[23,0,["publicIdentifier"]],"msg-s-message-group__profile-link"]],{"statements":[[0,"\\n        "],[7,"span",true],[10,"class","msg-s-message-group__name t-14 t-black t-bold hoverable-link-text"],[8],[0,"\\n          "],[1,[23,0,["from","fullName"]],false],[0,"\\n        "],[9],[0,"\\n      "]],"parameters":[]}],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"],[0,"  "],[7,"p",true],[10,"class","msg-s-forward-preview__forwarded-body msg-form__reshared-content t-14 t-normal"],[8],[0,"\\n    "],[1,[23,0,["message"]],false],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","msg-s-forward-preview__forwarded-details t-12 t-black--light t-normal"],[8],[0,"\\n    "],[7,"span",true],[8],[0,"\\n      "],[1,[28,"t",["i18n_forwarded_label","msg-ui/components/forward-preview"],null],false],[0,"\\n    "],[9],[0,"\\n    "],[7,"time",true],[10,"class","msg-s-message-group__timestamp"],[8],[0,"\\n      "],[1,[28,"t",["i18n_original_sent_date","msg-ui/components/forward-preview"],[["dayMonth","hourMinute"],[[28,"ember-cli-pemberly-i18n@format-date",[[23,0,["createdAt"]]],[["format","useTimeZone"],["fmt_md_medium",true]]],[28,"ember-cli-pemberly-i18n@format-time",[[23,0,["createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],false],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/forward-preview.hbs"}})
let g=(a=Ember.inject.service("formatter"),o=Ember.inject.service("msg-data@data-manager"),l=Ember.inject.service("authentication@authenticated-user"),m=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"formatter",c,this);(0,t.default)(this,"msgDataManager",p,this);(0,t.default)(this,"authenticatedUser",d,this)
if(this.args.forwardedEvent)Ember.setProperties(this,{from:Ember.get(this.args.forwardedEvent,"from"),publicIdentifier:Ember.get(this.args.forwardedEvent,"from.miniProfile.publicIdentifier"),createdAt:Ember.get(this.args.forwardedEvent,"createdAt"),message:Ember.get(this.args.forwardedEvent,"eventContent.attributedBody.text")})
else{const e=Ember.get(this.args.forwardedContent,"originalFrom"),t=this.msgDataManager.viewModelWrappers.wrapMessagingEntity(e),s=Ember.get(this.args.forwardedContent,"originalFrom.miniProfile.publicIdentifier"),n=Ember.get(this.args.forwardedContent,"originalCreatedAt"),i=Ember.get(this.args.forwardedContent,"forwardedBody.text")
Ember.setProperties(this,{from:t,publicIdentifier:s,createdAt:n,message:i})}}},c=(0,n.default)(m.prototype,"formatter",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,n.default)(m.prototype,"msgDataManager",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,n.default)(m.prototype,"authenticatedUser",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m)
e.default=g
Ember._setComponentTemplate(u,g)})
define("msg-ui/components/i18n-shared",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"A+6gNLoR",block:'{"symbols":[],"statements":[[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-ui/components/i18n-shared.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/inbox-onboarding-widget",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],function(e,t,s,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,c,p,d,u,g
const h=Ember.HTMLBars.template({id:"Ybn4t9eJ",block:'{"symbols":["@primaryActionText","&default","&attrs","@title","@onDismiss","@text","@onPrimary"],"statements":[[4,"if",[[23,0,["widgetTrackingToken"]]],null,{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,0,["widgetType"]],"simple"],null]],null,{"statements":[[0,"    "],[7,"div",false],[12,"class","msg-inbox-onboarding-widget--simple-layout"],[13,3],[8],[0,"\\n      "],[7,"p",true],[10,"class","t-14 t-black--light"],[8],[0,"\\n        "],[1,[23,6,[]],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,0,["widgetType"]],"basic"],null]],null,{"statements":[[0,"    "],[7,"div",false],[12,"class","msg-inbox-onboarding-widget--basic-layout"],[13,3],[8],[0,"\\n      "],[5,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@class","@message","@linkText","@onClick","@type"],["mr1",[23,6,[]],[23,1,[]],[28,"fn",[[23,0,["legoWidgetPrimaryAction"]]],null],"note"]]],[0,"\\n      "],[5,"artdeco-button@artdeco-button",[],[["@class","@icon","@type","@color","@size","@circle","@click"],["msg-inbox-onboarding-widget--basic-cancel","cancel-icon","tertiary","muted",[23,0,["dismissButtonSize"]],true,[28,"fn",[[23,0,["legoWidgetDismissAction"]]],null]]]],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,0,["widgetType"]],"full"],null]],null,{"statements":[[0,"    "],[7,"div",false],[12,"class","msg-inbox-onboarding-widget"],[13,3],[8],[0,"\\n"],[4,"if",[[25,2]],null,{"statements":[[0,"        "],[7,"div",true],[10,"class","msg-inbox-onboarding-widget__left-section-container"],[8],[0,"\\n            "],[14,2,[[28,"hash",null,[["leftSection"],[[28,"component",["dummy-yield-wrapper@dummy-yield-wrapper"],null]]]]]],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},null],[0,"      "],[7,"div",true],[10,"class","pt3"],[8],[0,"\\n        "],[7,"div",true],[10,"class","display-flex justify-space-between align-items-center"],[8],[0,"\\n          "],[7,"span",true],[10,"class","t-14 t-bold t-black mb1"],[8],[0,"\\n            "],[1,[23,4,[]],false],[0,"\\n          "],[9],[0,"\\n\\n"],[4,"if",[[23,5,[]]],null,{"statements":[[0,"            "],[7,"div",true],[10,"class","pr1"],[8],[0,"\\n              "],[5,"artdeco-button@artdeco-button",[],[["@icon","@type","@color","@size","@circle","@click"],["cancel-icon","tertiary","muted",1,true,[28,"fn",[[23,0,["legoWidgetDismissAction"]]],null]]]],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},null],[0,"        "],[9],[0,"\\n\\n        "],[7,"p",true],[10,"class","t-12 t-black--light pr3 pb4"],[8],[0,"\\n          "],[1,[23,6,[]],false],[0,"\\n        "],[9],[0,"\\n\\n"],[4,"if",[[23,7,[]]],null,{"statements":[[0,"          "],[5,"artdeco-button@artdeco-button",[],[["@text","@type","@size","@click"],[[23,1,[]],"secondary",1,[28,"fn",[[23,0,["legoWidgetPrimaryAction"]]],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"      "],[9],[0,"\\n    "],[9],[0,"\\n  "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"msg-ui/components/inbox-onboarding-widget.hbs"}})
let b=(a=Ember.inject.service("lego@resolver"),o=Ember.inject.service("lego@tracking"),l=Ember._tracked,m=Ember._action,c=Ember._action,p=class extends r.default{get widgetType(){var e
return null!==(e=this.args.type)&&void 0!==e?e:"full"}get dismissButtonSize(){var e
return null!==(e=this.args.dismissButtonSize)&&void 0!==e?e:1}constructor(){super(...arguments);(0,t.default)(this,"legoResolver",d,this);(0,t.default)(this,"legoTracking",u,this);(0,t.default)(this,"widgetTrackingToken",g,this)
this._fetchLegoWidget()}_fetchLegoWidget(){return this.legoResolver.fireLegoCall(this.args.legoConfig).then(e=>{if(!this.isDestroying){if(!e){var t,s
null===(t=(s=this.args).onDismiss)||void 0===t||t.call(s)
return Ember.RSVP.reject()}this.widgetTrackingToken=Ember.get(e,"trackingToken")
if(this.widgetTrackingToken){var n,i
this._sendLegoImpression()
null===(n=(i=this.args).onImpression)||void 0===n||n.call(i)
this.args.dismissOnImpression&&this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}else{var r,a
null===(r=(a=this.args).onDismiss)||void 0===r||r.call(a)}return e}})}_sendLegoImpression(){this.legoTracking.sendLegoImpression(this.widgetTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}legoWidgetPrimaryAction(){var e,t
this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_PRIMARY,1)
null===(e=(t=this.args).onPrimary)||void 0===e||e.call(t)}legoWidgetDismissAction(){var e,t
this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)
null===(e=(t=this.args).onDismiss)||void 0===e||e.call(t)}},d=(0,n.default)(p.prototype,"legoResolver",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,n.default)(p.prototype,"legoTracking",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,n.default)(p.prototype,"widgetTrackingToken",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,n.default)(p.prototype,"legoWidgetPrimaryAction",[m],Object.getOwnPropertyDescriptor(p.prototype,"legoWidgetPrimaryAction"),p.prototype),(0,n.default)(p.prototype,"legoWidgetDismissAction",[c],Object.getOwnPropertyDescriptor(p.prototype,"legoWidgetDismissAction"),p.prototype),p)
e.default=b
Ember._setComponentTemplate(h,b)})
define("msg-ui/components/inmail-reply-panel",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants"],function(e,t,s,n,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,m
const c=Ember.HTMLBars.template({id:"kwzfLvNH",block:'{"symbols":["@trackingPrefix","@quickReply","@cancel","@send"],"statements":[[7,"div",true],[10,"class","msg-inmail-reply-panel display-flex flex-column pt1 ph3"],[8],[0,"\\n  "],[7,"div",true],[10,"class","msg-inmail-reply-panel__header display-flex justify-space-between align-items-center"],[8],[0,"\\n    "],[7,"span",true],[11,"class",[28,"concat",["msg-inmail-reply-panel__signal-text t-14 ",[28,"if",[[23,0,["isMercadoEnabled"]],"t-black--medium","t-black--light"],null]],null]],[8],[1,[23,2,["text"]],false],[9],[0,"\\n    "],[5,"artdeco-button@artdeco-button",[[12,"data-control-name",[28,"concat",[[23,1,[]],[23,0,["inmailType"]],"_inmail_",[23,0,["signal"]],"_back"],null]]],[["@class","@type","@color","@size","@circle","@icon","@click","@text"],["msg-inmail-reply-panel__cancel-icon","tertiary","muted","1","true","cancel-icon",[28,"fn",[[23,3,[]]],null],[28,"t",["a11y_cancel_button","msg-ui/components/inmail-reply-panel"],null]]]],[0,"\\n  "],[9],[0,"\\n  "],[5,"textarea",[[12,"class","msg-inmail-reply-panel__message mb2"],[12,"data-control-name",[28,"concat",[[23,1,[]],[23,0,["inmailType"]],"_inmail_",[23,0,["signal"]],"_edit"],null]],[3,"on",["input",[23,0,["textInputHandler"]]]]],[["@value"],[[23,0,["messageBody"]]]]],[0,"  "],[7,"div",true],[10,"class","msg-inmail-reply-panel__footer display-flex justify-flex-end pb2"],[8],[0,"\\n"],[4,"if",[[23,0,["isDecline"]]],null,{"statements":[[0,"      "],[5,"artdeco-button@artdeco-button",[[12,"data-control-name",[28,"concat",[[23,1,[]],[23,0,["inmailType"]],"_inmail_no_send_no_message"],null]]],[["@class","@type","@size","@click","@disabled","@text","@aria-label"],["msg-inmail-reply-panel__decline-without-a-message-button mr2","secondary","1",[28,"action",[[23,0,[]],[23,0,["sendDeclineWithoutMessageBody"]]],null],[23,0,["sendInProgress"]],[28,"t",["i18n_decline_without_a_message_button_text","msg-ui/components/inmail-reply-panel"],null],[28,"t",["a11y_decline_without_a_message_button","msg-ui/components/inmail-reply-panel"],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "],[5,"artdeco-button@artdeco-button",[[12,"data-control-name",[28,"concat",[[23,1,[]],[23,0,["inmailType"]],"_inmail_",[23,0,["signal"]],"_send"],null]]],[["@class","@type","@size","@click","@text","@aria-label","@disabled"],["msg-inmail-reply-panel__send-button","primary","1",[28,"fn",[[23,4,[]],[23,2,["reply"]],[23,0,["messageBody"]]],null],[28,"t",["i18n_send_button_text","msg-ui/components/inmail-reply-panel"],null],[28,"if",[[23,0,["isAccept"]],[28,"t",["a11y_send_accept","msg-ui/components/inmail-reply-panel"],null],[28,"t",["a11y_send_decline","msg-ui/components/inmail-reply-panel"],null]],null],[28,"global-helpers@or",[[23,0,["sendInProgress"]],[28,"global-helpers@eq",[[23,0,["messageBody"]],""],null]],null]]]],[0,"\\n  "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/inmail-reply-panel.hbs"}}),{SMART_ACTIONS:p}=a.default
let d=(o=Ember.inject.service("lix"),l=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"lix",m,this)
this.replyType=Ember.get(this.args.quickReply.reply,"replyType")
this.isAccept=this.replyType===p.INMAIL_ACCEPT
this.isDecline=this.replyType===p.INMAIL_DECLINE
Ember.get(this.args.replyTo,"isRecruiterInMail")?this.inmailType="lts":Ember.get(this.args.replyTo,"isSalesInMail")?this.inmailType="lss":this.inmailType="premium"
this.signal=this.isAccept?"yes":"no"
Ember.set(this,"sendInProgress",!1)
this.messageBody=Ember.get(this.args.quickReply.reply,"quickActionPrefillText")}get isMercadoEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.infraux-mercado-theme")}sendDeclineWithoutMessageBody(){Ember.set(this,"sendInProgress",!0)
this.args.send(Ember.get(this.args.quickReply,"reply"),"").finally(()=>{Ember.set(this,"sendInProgress",!1)})}textInputHandler(e){const t=e.target
t.style.height="auto"
t.scrollHeight!==t.clientHeight&&(t.style.height=`${t.scrollHeight+2}px`)}},m=(0,n.default)(l.prototype,"lix",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=d
Ember._setComponentTemplate(c,d)})
define.alias("ember-vector-images/components/lazy-background","msg-ui/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","msg-ui/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","msg-ui/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","msg-ui/components/linkedin-logo")
define("msg-ui/components/message-list-scroller",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","msg-shared/utils/constants","global-utils/utils/scroller","infinite-scroll/components/infinite-scroll-container","infinite-scroll/mixins/infinite-scroll","ember-batcher","global-helpers/helpers/load","global-utils/utils/intersection-observer","global-utils/utils/is-browser"],function(e,t,s,n,i,r,a,o,l,m,c,p,d,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,h,b,f,v,y,_,E,w,M,k,C,T,x,P,O,S,I,D,R,A,j,N,F,L
const U=Ember.HTMLBars.template({id:"QyWMsXHk",block:'{"symbols":["&default"],"statements":[[0,"\\n"],[14,1,[[28,"hash",null,[["props","actions"],[[28,"hash",null,[["isLoading","hasNewMessages","scrollingPastThreshold"],[[23,0,["isLoading"]],[23,0,["hasNewMessages"]],[23,0,["scrollingPastThreshold"]]]]],[28,"hash",null,[["scrollToNewMessages"],[[28,"fn",[[23,0,["scrollToNewMessages"]]],null]]]]]]]]]],"hasEval":false}',meta:{moduleName:"msg-ui/components/message-list-scroller.hbs"}}),{MESSAGE_LIST_SCROLLBLOCK_THRESHOLD:q}=a.default
let z=(g=(0,r.classNames)("msg-s-message-list-container","relative","display-flex"),h=(0,r.classNameBindings)("showMessagesStartingFromTop:mbA:mtA","composeIsFullyExpanded:message-list-container--collapsed"),b=(0,r.tagName)("div"),f=Ember.inject.service("i18n"),v=Ember.inject.service("lix"),y=Ember.inject.service("global-services@a11y-notification"),_=Ember.inject.service("rum"),E=Ember.computed("elementId"),w=Ember.computed.reads("eventTarget"),M=Ember.computed("conversation.id","_lastConversationId").readOnly(),k=Ember.computed("latestEvent.id","_lastEventId").readOnly(),C=Ember.computed("renderingNewEvent").readOnly(),T=Ember.computed.gte("typingParticipants.length",1).readOnly(),x=Ember.computed.or("conversation.isInMail","conversation.isSponsoredConversation").readOnly(),P=Ember.computed("initialEventsState.isLoading"),O=Ember._action,g(S=h(S=b(S=(I=class extends l.default{constructor(){super(...arguments);(0,s.default)(this,"pageKey","flagship3_messaging_comp_message_list");(0,s.default)(this,"rumComponentId","messaging/message-list-scroller");(0,t.default)(this,"i18n",D,this);(0,t.default)(this,"lix",R,this);(0,t.default)(this,"a11yNotification",A,this);(0,t.default)(this,"rum",j,this);(0,s.default)(this,"scrollBuffer",250);(0,s.default)(this,"triggerOnInsert",!1);(0,s.default)(this,"infiniteScrollDirection",m.SCROLL_DIRECTIONS.UP);(0,t.default)(this,"scrollingElementSelector",N,this);(0,s.default)(this,"_lastConversationId","-1");(0,s.default)(this,"_lastEventId","-1");(0,s.default)(this,"hasNewMessages",!1);(0,s.default)(this,"hasMoreMessagesToLoad",!0);(0,t.default)(this,"showTypingIndicators",F,this);(0,t.default)(this,"showMessagesStartingFromTop",L,this)}get eventTarget(){return`#${this.elementId} .msg-s-message-list`}get renderingNewConversation(){return this.conversation.id!==this._lastConversationId}get renderingNewEvent(){const e=Ember.get(this,"latestEvent.id")
return!e||e!==this._lastEventId}get receivedNewEventFromSomeone(){return this.renderingNewEvent&&!Ember.get(this,"latestEvent.from.isLoggedInUser")}get eventsLoading(){return this.initialEventsState&&this.initialEventsState.isLoading}scroll(){if(!this.renderingNewConversation){super.scroll.apply(this,arguments)
const{scrollingElement:e}=this;(0,c.readDOM)(()=>{if(!this.isDestroying&&e){const t=Math.abs(e.scrollHeight-e.offsetHeight-e.scrollTop)
this.userIsScrolling=t>0
Ember.set(this,"scrollingPastThreshold",t>=q)
this.scrollingPastThreshold||Ember.set(this,"hasNewMessages",!1)}})}}didInsertElement(){super.didInsertElement.apply(this,arguments)
this._registerIntersectionObserver()}didReceiveAttrs(){super.didReceiveAttrs.apply(this,arguments)
this.initialEventsRequest&&"function"==typeof this.initialEventsRequest.then&&Ember.set(this,"initialEventsState",(0,p.load)(this.initialEventsRequest))}didRender(){super.didRender.apply(this,arguments)
this._resetScrollPosition()
if(!this.eventsLoading&&this.perfMeasurement&&!this.perfMeasurement.isClosed){this.perfMeasurement.spanEnd("events-load")
this.rum.endPerfMeasurement(this.perfMeasurement)}}willDestroyElement(){var e
super.willDestroyElement.apply(this,arguments)
null===(e=this._observer)||void 0===e||e.disconnect()}_resetScrollPosition(){const{renderingNewConversation:e}=this
if(e){const e=Ember.get(this,"conversation.eventCollection")
if(Ember.get(e,"hasPendingFetch")){this.perfMeasurement&&this.perfMeasurement.spanStart("events-load")
e.loadFetched().then(()=>{this.isDestroying||this._scrollToBottom()})}this.resetInfiniteScroll()
this._scrollToBottom()}else this.renderingNewEvent?!this.scrollingPastThreshold||Ember.get(this,"latestEvent.from.isLoggedInUser")?this._scrollToBottom({animate:!0}):Ember.set(this,"hasNewMessages",this.receivedNewEventFromSomeone&&this.scrollingPastThreshold):this.userIsScrolling||this._scrollToBottom({animate:!0})
Ember.setProperties(this,{_lastConversationId:Ember.get(this,"conversation.id"),_lastEventId:Ember.get(this,"latestEvent.id")})}infiniteScroll(){return!(this.renderingNewConversation||!this.hasMoreMessagesToLoad)&&this.loadMore(this.conversation).then(e=>{const t=e.length
if(!this.isDestroying){const e=this.i18n.lookupTranslation("component","msg-ui@i18n-shared","i18n_a11y_infinite_scroll_messages")
this.a11yNotification.setTextInLiveRegion(e([{newRecordCount:t}]))
Ember.set(this,"hasMoreMessagesToLoad",!!t)}return t})}_scrollToBottom(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.readDOM)(()=>{if(this.isDestroying)return
const{scrollingElement:s}=this
e=s.scrollHeight
if(Ember.get(this,"latestEvent.isInMail"))if(Ember.get(this,"latestEvent.isFirstMessageInThread"))e=0
else{const t=s.querySelector("li:last-of-type")
e=t.offsetTop-45}Ember.set(this,"hasNewMessages",!1)
this._scrollTo(e,t)})}_scrollTo(e,t){let{animate:s=!1}=t;(0,c.mutateDOM)(()=>{if(this.isDestroying)return
const{scrollingElement:t}=this
t&&o.default.scrollTo(t,{animate:s,top:e})})}_registerIntersectionObserver(){const{scrollingElement:e}=this,t=t=>{!this.isDestroying&&e&&t.forEach(e=>{1===e.intersectionRatio&&Ember.set(this,"scrollingPastThreshold",!1)})}
if(u.default){this._observer=new d.default(t)
this._observer.observe(this.element.querySelector(".msg-s-message-list__bottom-of-list"))}}scrollToNewMessages(){return this._scrollToBottom({animate:!0})}},D=(0,n.default)(I.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,n.default)(I.prototype,"lix",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(I.prototype,"a11yNotification",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,n.default)(I.prototype,"rum",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(I.prototype,"eventTarget",[E],Object.getOwnPropertyDescriptor(I.prototype,"eventTarget"),I.prototype),N=(0,n.default)(I.prototype,"scrollingElementSelector",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(I.prototype,"renderingNewConversation",[M],Object.getOwnPropertyDescriptor(I.prototype,"renderingNewConversation"),I.prototype),(0,n.default)(I.prototype,"renderingNewEvent",[k],Object.getOwnPropertyDescriptor(I.prototype,"renderingNewEvent"),I.prototype),(0,n.default)(I.prototype,"receivedNewEventFromSomeone",[C],Object.getOwnPropertyDescriptor(I.prototype,"receivedNewEventFromSomeone"),I.prototype),F=(0,n.default)(I.prototype,"showTypingIndicators",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,n.default)(I.prototype,"showMessagesStartingFromTop",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(I.prototype,"eventsLoading",[P],Object.getOwnPropertyDescriptor(I.prototype,"eventsLoading"),I.prototype),(0,n.default)(I.prototype,"scrollToNewMessages",[O],Object.getOwnPropertyDescriptor(I.prototype,"scrollToNewMessages"),I.prototype),I))||S)||S)||S)
e.default=z
Ember._setComponentTemplate(U,z)})
define("msg-ui/components/message-list",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","msg-ui/utils/events-grouper"],function(e,t,s,n,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,m,c,p,d,u,g,h,b,f,v,y,_,E
const w=Ember.HTMLBars.template({id:"jHgkTLHg",block:'{"symbols":["assetLoader","groupedEvent","index","receipt","item","assetLoader","assetLoader","@blockedByNoResponse","&default"],"statements":[[7,"ul",true],[11,"class",[29,["msg-s-message-list-content ",[28,"if",[[23,0,["conversation","hasTopBanner"]]," full-height"],null]," list-style-none full-width"]]],[8],[0,"\\n"],[4,"if",[[23,0,["conversation","hasTopBanner"]]],null,{"statements":[[0,"    "],[7,"li",true],[10,"class","msg-s-message-list__top-banner"],[8],[0,"\\n      "],[7,"div",true],[10,"class","display-flex"],[8],[0,"\\n"],[4,"unless",[[23,0,["conversation","isSponsoredConversation"]]],null,{"statements":[[0,"          "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size","class"],["linkedin-inbug-color-icon","small","mr2"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"        "],[7,"p",true],[10,"class","t-12 t-black--light t-normal"],[8],[0,"\\n"],[4,"if",[[23,0,["conversation","isRecruiterInmail"]]],null,{"statements":[[0,"            "],[1,[28,"t",["i18n_top_banner_recruiter","msg-ui/components/message-list"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["conversation","isSponsoredConversation"]]],null,{"statements":[[0,"            "],[1,[28,"if",[[23,0,["conversation","sponsoredConversationMetadata","advertiserLabel"]],[28,"t",[[23,0,["conversation","sponsoredConversationMetadata","advertiserLabel"]],"msg-ui/components/message-list"],null],[28,"t",["i18n_top_banner_sponsored","msg-ui/components/message-list"],null]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[1,[28,"t",["i18n_top_banner_sales","msg-ui/components/message-list"],null],false],[0,"\\n          "]],"parameters":[]}]],"parameters":[]}],[0,"        "],[9],[0,"\\n      "],[9],[0,"\\n      "],[7,"time",true],[10,"class","white-space-nowrap pl3 t-12 t-black--light t-normal"],[8],[0,"\\n        "],[1,[28,"ember-cli-pemberly-i18n@format-date",[[23,0,["conversation","oldestEvent","createdAt"]]],[["format","useTimeZone"],[[28,"if",[[28,"msg-ui@is-current-year",[[23,0,["conversation","oldestEvent","createdAt"]]],null],"fmt_md_medium","fmt_mdy_medium"],null],true]]],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},null],[4,"if",[[23,0,["showProfileCard"]]],null,{"statements":[[0,"    "],[7,"li",true],[8],[0,"\\n      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,7,["state","fulfilled"]]],null,{"statements":[[4,"if",[[23,0,["conversation","groupChat"]]],null,{"statements":[[0,"            "],[5,"msg-conversation-ui@profile-card-group",[],[["@class","@isOverlay","@conversation","@recipientProfiles","@recipientNames","@addParticipantsPageKey","@actionTrackingPrefix","@toggleShowRenameConversation"],["ph3",[23,0,["isOverlay"]],[23,0,["conversation"]],[23,0,["recipientProfiles"]],[28,"msg-ui@participant-names-with-self",[[23,0,["conversation"]]],null],[23,0,["addParticipantsPageKey"]],[23,0,["actionTrackingPrefix"]],[23,0,["toggleShowRenameConversation"]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[5,"msg-conversation-ui@profile-card-one-to-one",[[12,"class","ph3"]],[["@inlineLayout","@recipientProfile","@contextText"],[[23,0,["inlineProfileCardLayout"]],[23,0,["conversation","participants","firstObject","miniProfile"]],[23,0,["conversation","contextText"]]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null],[0,"      "]],"parameters":[7]}],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["enableConversationHiring"]]],null,{"statements":[[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-hiring"]],{"statements":[[0,"\\n"],[4,"if",[[23,6,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"msg-hiring@msg-job-card",[],[["@conversation"],[[23,0,["conversation"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[6]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[0,"  "],[7,"li",true],[11,"class",[29,["msg-s-message-list__loader",[28,"unless",[[23,0,["isLoading"]]," hidden"],null]]]],[8],[0,"\\n    "],[5,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]]],[0,"\\n  "],[9],[0,"\\n"],[4,"each",[[23,0,["groupedEvents"]]],[["key"],["id"]],{"statements":[[0,"    "],[7,"li",true],[10,"class","msg-s-message-list__event clearfix"],[8],[0,"\\n"],[4,"if",[[23,2,["dateBoundary"]]],null,{"statements":[[0,"        "],[7,"time",true],[10,"class","msg-s-message-list__time-heading t-12 t-black--light t-bold"],[8],[0,"\\n          "],[1,[28,"msg-ui@date-group-heading",[[23,2,["dateBoundary","timestamp"]]],null],false],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},null],[4,"if",[[23,2,["senderGroupMessageCount"]]],null,{"statements":[[0,"        "],[7,"span",true],[10,"class","msg-s-event-listitem--group-a11y-heading visually-hidden"],[8],[0,"\\n          "],[1,[28,"t",["i18n_a11y_pre_message_text","msg-ui/components/message-list"],[["actorName","count","timestamp"],[[28,"global-helpers@name",[[23,2,["event","from","miniProfile"]]],null],[23,2,["senderGroupMessageCount"]],[28,"ember-cli-pemberly-i18n@format-time",[[23,2,["event","createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],false],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},null],[0,"      "],[5,"msg-ui@primitives/event-listitem",[[12,"data-event-urn",[23,2,["event","entityUrn"]]]],[["@blockedByNoResponse","@event","@isLastInGroup","@messageIndex","@isOverlay","@moduleKey","@trackingPrefix","@resendMessage"],[[23,8,[]],[23,2,["event"]],[23,2,["isLastInGroup"]],[23,2,["messageIndex"]],[23,0,["isOverlay"]],[28,"if",[[23,0,["isOverlay"]],"overlay_compose"],null],[28,"if",[[23,0,["isOverlay"]],"overlay.",""],null],[23,0,["resendMessage"]]]],{"statements":[[0,"\\n"],[4,"if",[[23,2,["showMeta"]]],null,{"statements":[[0,"          "],[1,[28,"component",[[28,"ember-holy-futuristic-template-namespacing-batman@-translate-dynamic-2",[[23,5,["avatar"]]],null]],[["sender","showPresence","size","isCompanySender"],[[23,2,["event","from"]],[23,0,["conversation","groupChat"]],"2",[23,0,["isCompanySender"]]]]],false],[0,"\\n          "],[7,"div",true],[10,"class","msg-s-message-group__meta"],[8],[0,"\\n"],[4,"if",[[23,2,["event","isSponsoredMessage"]]],null,{"statements":[[4,"if",[[23,0,["isCompanySender"]]],null,{"statements":[[0,"                "],[5,"ember-engines@link-to-external",[],[["@route","@model"],["companies.company",[28,"global-helpers@urn-to-id",[[23,2,["event","from","miniCompany","entityUrn"]]],null]]],{"statements":[[0,"\\n                  "],[7,"span",true],[10,"class","msg-s-message-group__name hoverable-link-text t-14 t-black t-bold"],[8],[0,"\\n                    "],[1,[23,2,["event","from","miniCompany","name"]],false],[0,"\\n                  "],[9],[0,"\\n                "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                "],[7,"span",true],[10,"class","msg-s-message-group__name t-14 t-black t-bold"],[8],[0,"\\n                  "],[1,[23,2,["event","from","fullName"]],false],[0,"\\n                "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"ember-engines@link-to-external",["profile.view",[23,2,["event","from","miniProfile","publicIdentifier"]]],[["class","data-control-name"],["msg-s-message-group__profile-link","view_profile"]],{"statements":[[4,"if",[[28,"global-helpers@name",[[23,2,["event","from","miniProfile"]]],null]],null,{"statements":[[0,"                  "],[7,"span",true],[10,"class","msg-s-message-group__name t-14 t-black t-bold hoverable-link-text"],[8],[0,"\\n                    "],[1,[28,"t",["i18n_default_listitem_actor_full_name","msg-ui/components/message-list"],[["actorName"],[[28,"global-helpers@name",[[23,2,["event","from","miniProfile"]]],null]]]],false],[0,"\\n                  "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]}],[4,"if",[[28,"global-helpers@or",[[28,"unless",[[23,0,["conversation","hasTopBanner"]],true],null],[23,3,[]]],null]],null,{"statements":[[0,"              "],[7,"time",true],[10,"class","msg-s-message-group__timestamp t-12 t-black--light t-normal"],[8],[0,"\\n                "],[1,[28,"ember-cli-pemberly-i18n@format-time",[[23,2,["event","createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]],false],[0,"\\n              "],[9],[0,"\\n"]],"parameters":[]},null],[0,"          "],[9],[0,"\\n"]],"parameters":[]},null],[0,"        "],[1,[28,"component",[[28,"ember-holy-futuristic-template-namespacing-batman@-translate-dynamic-2",[[23,5,["messageBody"]]],null]],[["event","handleSuccessfulDiscardRequest","redirectToActiveConversation","showMessageEditForm"],[[23,2,["event"]],[23,0,["handleSuccessfulDiscardRequest"]],[23,0,["redirectToActiveConversation"]],[23,0,["showMessageEditForm"]]]]],false],[0,"\\n        "],[14,9,[[28,"hash",null,[["props"],[[28,"hash",null,[["groupedEvent"],[[23,2,[]]]]]]]]]],[0,"\\n      "]],"parameters":[5]}],[0,"\\n"],[4,"if",[[23,2,["event","seenReceipts"]]],null,{"statements":[[0,"        "],[7,"div",true],[10,"class","msg-s-event-listitem__seen-receipts t-12 t-black--light t-normal"],[8],[0,"\\n"],[4,"each",[[23,2,["event","seenReceipts"]]],[["key"],["id"]],{"statements":[[4,"if",[[23,4,["miniProfile"]]],null,{"statements":[[0,"              "],[5,"ember-vector-images@lazy-image",[],[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[23,4,["miniProfile","picture"]],[28,"t",["i18n_seen_receipt_alt_and_title_text","msg-ui/components/message-list"],[["senderName","seenAt"],[[28,"global-helpers@name",[[23,4,["miniProfile"]]],null],[23,4,["seenAt"]]]]],[28,"t",["i18n_seen_receipt_alt_and_title_text","msg-ui/components/message-list"],[["senderName","seenAt"],[[28,"global-helpers@name",[[23,4,["miniProfile"]]],null],[28,"ember-cli-pemberly-i18n@format-time",[[23,4,["seenAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],"msg-s-event-listitem__seen-receipt-photo EntityPhoto-circle-1",100,100,"person"]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[4]},null],[0,"        "],[9],[0,"\\n"]],"parameters":[]},null],[0,"    "],[9],[0,"\\n"]],"parameters":[2,3]},null],[9],[0,"\\n\\n"],[7,"div",true],[11,"class",[28,"if",[[23,0,["conversation","latestEvent","seenReceipts"]],"msg-s-message-list__typing-indicator-container--with-seen-receipt","msg-s-message-list__typing-indicator-container--without-seen-receipt"],null]],[8],[0,"\\n"],[4,"if",[[23,0,["conversation","typingParticipants","length"]]],null,{"statements":[[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"msg-conversation-ui@typing-indicators",[],[["@typingParticipants"],[[23,0,["conversation","typingParticipants"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]},null],[9],[0,"\\n\\n"],[4,"if",[[23,0,["enableDismissQRWhenScrolling"]]],null,{"statements":[[4,"if",[[23,0,["showQuickReplies"]]],null,{"statements":[[4,"if",[[23,0,["enableNewQuickReplies"]]],null,{"statements":[[0,"      "],[5,"msg-ui@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@contextWidth"],[[23,0,["conversation"]],[23,0,["conversation","latestEvent","id"]],[23,0,["quickRepliesList"]],[23,0,["quickRepliesUseCase"]],[23,0,["actionTrackingPrefix"]],"mebc_quick_reply",[23,0,["submitQuickReply"]],[23,0,["openGIFPopover"]],[23,0,["openInMailReplyPanel"]],[23,0,["showInmailDeclineReasonModal"]],[23,0,["contextWidth"]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[5,"conversations@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@contextWidth"],[[23,0,["conversation"]],[23,0,["conversation","latestEvent","id"]],[23,0,["quickRepliesList"]],[23,0,["quickRepliesUseCase"]],[23,0,["actionTrackingPrefix"]],"mebc_quick_reply",[23,0,["submitQuickReply"]],[23,0,["openGIFPopover"]],[23,0,["handleInMailReplySmartAction"]],[23,0,["handleInMailDeclineSmartAction"]],[23,0,["contextWidth"]]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[7,"div",true],[10,"class","msg-s-message-list__bottom-of-list"],[8],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-ui/components/message-list.hbs"}})
let M=(o=(0,r.classNames)("msg-s-message-list","full-width","scrollable"),l=(0,r.classNameBindings)("conversation.oldestEvent.isFirstMessageInThread::msg-s-message-list--scroll-buffer"),m=Ember.inject.service("global-services@a11y-notification"),c=Ember.inject.service("i18n"),p=Ember.inject.service("lix"),d=Ember.inject.service("authentication@authenticated-user"),u=Ember.computed("conversation.eventCollection.data.[]").readOnly(),g=Ember.computed("conversation.oldestEvent.isFirstMessageInThread","conversation.isInMail","conversation.isSponsoredConversation","isLoading").readOnly(),h=Ember.computed("conversation.viewerCurrentParticipant","conversation.participants").readOnly(),o(b=l(b=(f=class extends Ember.Component{constructor(){super(...arguments);(0,s.default)(this,"rumComponentId","messaging/message-list");(0,t.default)(this,"a11yNotification",v,this);(0,t.default)(this,"i18n",y,this);(0,t.default)(this,"lix",_,this);(0,t.default)(this,"authenticatedUser",E,this);(0,s.default)(this,"_lastTypingParticipants",0);(0,s.default)(this,"data-test-message-list",!0)}get groupedEvents(){return a.default.groupEvents(Ember.get(this,"conversation.eventCollection.data"))}get showProfileCard(){return Ember.get(this,"conversation.oldestEvent.isFirstMessageInThread")&&!this.isLoading&&!Ember.get(this,"conversation.isSponsoredConversation")&&(!Ember.get(this,"conversation.isInMail")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-inmail-headers"))}get recipientProfiles(){const e=Ember.get(this,"conversation.participants").mapBy("miniProfile")
Ember.get(this,"conversation.viewerCurrentParticipant")&&e.push(Ember.get(this,"authenticatedUser.miniProfile"))
return e}init(){super.init.apply(this,arguments)
this.enableConversationHiring=this.lix.getTreatmentIsEnabled("voyager.web.messaging-conversation-hiring")
this.enableDismissQRWhenScrolling=this.lix.getTreatmentIsEnabled("voyager.web.messaging-dismiss-quick-replies-scrolling")}willUpdate(){this._checkTypingParticipants()}_checkTypingParticipants(){if(!Ember.get(this,"conversation.latestEvent.isInMail")){const e=Ember.getWithDefault(this,"_lastTypingParticipants",0),t=Ember.getWithDefault(this,"conversation.typingParticipants.length",0)
if(e!==t){this._announceTypingIndicators(t)
Ember.set(this,"_lastTypingParticipants",t)}}}_a11yNotify(e,t){const s=this.i18n.lookupTranslation("component","msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(s([t]))}_announceTypingIndicators(e){1===e?this._a11yNotify("i18n_a11y_user_is_typing",{user:Ember.get(this,"conversation.typingParticipants.firstObject.name")}):this._a11yNotify("i18n_a11y_users_are_typing",{usercount:e})}},v=(0,n.default)(f.prototype,"a11yNotification",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.default)(f.prototype,"i18n",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,n.default)(f.prototype,"lix",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(f.prototype,"authenticatedUser",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(f.prototype,"groupedEvents",[u],Object.getOwnPropertyDescriptor(f.prototype,"groupedEvents"),f.prototype),(0,n.default)(f.prototype,"showProfileCard",[g],Object.getOwnPropertyDescriptor(f.prototype,"showProfileCard"),f.prototype),(0,n.default)(f.prototype,"recipientProfiles",[h],Object.getOwnPropertyDescriptor(f.prototype,"recipientProfiles"),f.prototype),f))||b)||b)
e.default=M
Ember._setComponentTemplate(w,M)})
define("msg-ui/components/message-request-banner-v2",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"z4t3Vsv/",block:'{"symbols":["@openMessageRequestConversationList","@trackingKey","@messageRequestBundle","&attrs"],"statements":[[7,"div",false],[12,"class","msg-message-request-banner-v2"],[13,4],[8],[0,"\\n  "],[7,"span",true],[10,"class","t-14 t-bold t-black"],[8],[0,"\\n    "],[1,[28,"t",["i18n_inbox_label","msg-ui/components/message-request-banner-v2"],null],false],[0,"\\n  "],[9],[0,"\\n\\n"],[4,"if",[[23,3,[]]],null,{"statements":[[0,"    "],[7,"button",false],[12,"class","msg-message-request-banner-v2__mr-inbox-cta t-14 t-bold"],[12,"type","button"],[3,"on",["click",[23,1,[]]]],[3,"ember-cli-pemberly-tracking@track-interaction",[[23,2,[]]]],[8],[0,"\\n      "],[5,"text-view-model@text-view-model-v2",[],[["@tvm"],[[23,3,["heading"]]]]],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},null],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/message-request-banner-v2.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/message-request-banner",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","msg-shared/utils/constants"],function(e,t,s,n,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,m,c,p,d,u,g,h,b,f,v,y
const _=Ember.HTMLBars.template({id:"4EGncoqU",block:'{"symbols":["dropdown","@overlaySpaciousSidebarEnabled"],"statements":[[7,"div",true],[10,"class","msg-message-request-banner__illustration"],[8],[0,"\\n"],[4,"unless",[[23,0,["isMercado"]]],null,{"statements":[[0,"    "],[5,"image-view-model@image-view-model-base",[],[["@images","@imgWidth","@imgHeight"],[[23,0,["messageRequestBundle","icon"]],40,40]]],[0,"\\n"]],"parameters":[]},null],[9],[0,"\\n"],[7,"div",true],[11,"class",[29,["msg-message-request-banner__content-wrapper display-flex flex-grow-1 full-height align-items-center ",[28,"if",[[23,2,[]],"ml4"],null]]]],[8],[0,"\\n  "],[7,"div",true],[10,"class","msg-message-request-banner__content overflow-hidden full-width"],[8],[0,"\\n    "],[7,"h4",true],[10,"class","msg-message-request-title t-black"],[10,"aria-hidden","true"],[8],[0,"\\n      "],[1,[28,"text-view-model@text-view-model",[[23,0,["messageRequestBundle","heading"]]],null],false],[0,"\\n    "],[9],[0,"\\n    "],[7,"p",true],[10,"class","msg-message-request-subtitle"],[10,"aria-hidden","true"],[8],[0,"\\n      "],[1,[28,"text-view-model@text-view-model",[[23,0,["messageRequestBundle","description"]]],null],false],[0,"\\n    "],[9],[0,"\\n    "],[7,"span",true],[10,"class","visually-hidden"],[8],[0,"\\n      "],[1,[23,0,["messageRequestBundle","heading","text"]],false],[0," "],[1,[23,0,["messageRequestBundle","description","text"]],false],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","align-self-center ml3"],[8],[0,"\\n    "],[5,"artdeco-dropdown@artdeco-dropdown",[],[["@isOpen","@onVisibilityChange","@placement","@justification","@class"],[[23,0,["isDropDownOpen"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isDropDownOpen"],null],"bottom","right","msg-message-request-banner__dropdown"]],{"statements":[[0,"\\n      "],[6,[23,1,["dropdown-trigger"]],[],[["@onClick"],[[28,"action",[[23,0,[]],"openDropDown"],null]]],{"statements":[[0,"\\n        "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","class","size","color","a11y-text"],["ellipsis-horizontal-icon","artdeco-button__icon","small",true,[28,"t",[[23,0,["a11yText","openOptions"]],"msg-ui/components/message-request-banner"],[["names"],[[28,"t",[[23,0,["a11yText","names","key"]],"msg-ui/components/message-request-banner"],[["names"],[[23,0,["a11yText","names","param"]]]]]]]]]]],false],[0,"\\n      "]],"parameters":[]}],[0,"\\n      "],[6,[23,1,["dropdown-content"]],[],[["@class","@arrowDir"],["msg-message-request-banner__dropdown-content","right"]],{"statements":[[0,"\\n        "],[5,"artdeco-dropdown-item",[],[["@itemSelected"],[[28,"action",[[23,0,[]],"collapseMessageRequests"],null]]],{"statements":[[0,"\\n          "],[1,[28,"t",["i18n_hide_message_requests","msg-ui/components/message-request-banner"],null],false],[0,"\\n        "]],"parameters":[]}],[0,"\\n      "]],"parameters":[]}],[0,"\\n    "]],"parameters":[1]}],[0,"\\n    "],[7,"div",true],[10,"class","msg-message-request-banner__unread mr1"],[8],[0,"\\n      "],[7,"div",true],[10,"class","msg-message-request-banner__unread-dot"],[8],[9],[0,"\\n      "],[7,"span",true],[10,"class","visually-hidden"],[8],[0,"\\n        "],[1,[28,"t",["i18n_a11y_unread_message_requests_notification","msg-ui/components/message-request-banner"],null],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/message-request-banner.hbs"}}),{KEYCODES:E}=a.default
let w=(o=(0,r.attributeBindings)("tabindex","role"),l=(0,r.classNames)("msg-message-request-banner"),m=(0,r.classNameBindings)("collapsed:hidden","hasUnreadMessageRequest:msg-message-request-banner--has-unread"),c=Ember.inject.service("lix"),p=Ember.inject.service("global-services@local-storage"),d=Ember.computed.bool("messageRequestBundle.count").readOnly(),u=Ember._action,g=Ember._action,o(h=l(h=m(h=(b=class extends Ember.Component{constructor(){super(...arguments);(0,s.default)(this,"tabindex","0");(0,s.default)(this,"role","button");(0,t.default)(this,"lix",f,this);(0,t.default)(this,"localStorage",v,this);(0,s.default)(this,"isDropDownOpen",!1);(0,s.default)(this,"collapsed",!1);(0,s.default)(this,"data-test-message-request-banner",!0);(0,t.default)(this,"hasUnreadMessageRequest",y,this)}init(){super.init.apply(this,arguments)
this.isMercado=this.lix.getTreatmentIsEnabled("voyager.web.infraux-mercado-theme")}didReceiveAttrs(){super.didReceiveAttrs.apply(this,arguments)
const e=this.localStorage.getItem("messageRequestLastActivityTimeStampWhenCollapsed"),t=Ember.get(this,"messageRequestBundle.lastActivityAt")
Ember.set(this,"collapsed",e&&e>=t)}didInsertElement(){super.didInsertElement.apply(this,arguments)
this.dropdown=this.element.querySelector("artdeco-dropdown")}click(){this.openMessageRequestConversationList()}keyDown(e){if(e.keyCode===E.ENTER){if(this.dropdown.contains(e.target))return
e.preventDefault()
this.openMessageRequestConversationList()}}collapseMessageRequests(e){e.stopPropagation()
Ember.set(this,"collapsed",!0)
this.localStorage.setItem("messageRequestLastActivityTimeStampWhenCollapsed",Ember.get(this,"messageRequestBundle.lastActivityAt"))}openDropDown(e){e.stopPropagation()
Ember.set(this,"isDropDownOpen",!0)}},f=(0,n.default)(b.prototype,"lix",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,n.default)(b.prototype,"localStorage",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.default)(b.prototype,"hasUnreadMessageRequest",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(b.prototype,"collapseMessageRequests",[u],Object.getOwnPropertyDescriptor(b.prototype,"collapseMessageRequests"),b.prototype),(0,n.default)(b.prototype,"openDropDown",[g],Object.getOwnPropertyDescriptor(b.prototype,"openDropDown"),b.prototype),b))||h)||h)||h)
e.default=w
Ember._setComponentTemplate(_,w)})
define("msg-ui/components/message-request-list-header",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"EbKvW95L",block:'{"symbols":["@isDeclinedList","@goBack"],"statements":[[7,"div",true],[10,"class","msg-message-request-list-header p3"],[8],[0,"\\n  "],[7,"div",true],[10,"class","visually-hidden"],[10,"aria-live","polite"],[8],[0,"\\n    "],[1,[28,"if",[[23,1,[]],[28,"t",["i18n_a11y_declined_mesage_requests","msg-ui/components/message-request-list-header"],null],[28,"t",["i18n_a11y_message_requests","msg-ui/components/message-request-list-header"],null]],null],false],[0,"\\n  "],[9],[0,"\\n  "],[7,"h4",true],[10,"class","t-14 t-bold"],[8],[0,"\\n    "],[1,[28,"if",[[23,1,[]],[28,"t",["i18n_declined_mesage_requests","msg-ui/components/message-request-list-header"],null],[28,"t",["i18n_message_requests","msg-ui/components/message-request-list-header"],null]],null],false],[0,"\\n  "],[9],[0,"\\n  "],[7,"p",true],[10,"class","t-12 pt1"],[8],[0,"\\n    "],[1,[28,"if",[[23,1,[]],[28,"t",["i18n_declined_message_request_description","msg-ui/components/message-request-list-header"],null],[28,"t",["i18n_message_request_description","msg-ui/components/message-request-list-header"],null]],null],false],[0,"\\n  "],[9],[0,"\\n  "],[7,"button",false],[12,"class","msg-message-request-list-header__back-button t-14 t-bold pt1"],[12,"type","button"],[3,"on",["click",[23,2,[]]]],[8],[0,"\\n    "],[1,[28,"if",[[23,1,[]],[28,"t",["i18n_back_to_message_request_inbox","msg-ui/components/message-request-list-header"],null],[28,"t",["i18n_back_to_main_inbox","msg-ui/components/message-request-list-header"],null]],null],false],[0,"\\n  "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/message-request-list-header.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/message-snippet",["exports","@glimmer/component"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=Ember.HTMLBars.template({id:"9e2yvmAz",block:'{"symbols":["@latestEvent","@conversation","&attrs"],"statements":[[0,"\\n"],[7,"span",false],[13,3],[8],[0,"\\n"],[4,"if",[[23,1,["eventContent","recalledAt"]]],null,{"statements":[[0,"    "],[1,[28,"t",["i18n_message_deleted","msg-ui/components/message-snippet"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["isSystemMessageBodyRenderFormat"]]],null,{"statements":[[0,"      "],[1,[28,"text-view-model@text-view-model",[[23,1,["eventContent","attributedBody"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["isParticipantChange"]]],null,{"statements":[[4,"if",[[23,1,["addedParticipantNames","length"]]],null,{"statements":[[0,"      "],[7,"span",true],[10,"class","msg-conversation-card__message-snippet-body"],[8],[0,"\\n        "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size","class"],["connect-icon","small","msg-conversation-card__message-snippet-icon"]]],false],[0,"\\n"],[4,"if",[[28,"global-helpers@eq",[[23,1,["addedParticipantNames","length"]],1],null]],null,{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["from","entityUrn"]],[23,1,["eventContent","addedParticipants","firstObject","entityUrn"]]],null]],null,{"statements":[[0,"            "],[1,[28,"if",[[28,"msg-ui@is-authenticated-user",[[23,1,["from"]]],null],[28,"t",["i18n_you_joined_conversation","msg-ui/components/message-snippet"],null],[28,"t",["i18n_other_user_joined_conversation","msg-ui/components/message-snippet"],[["usersName","joinedUserName"],[[23,1,["from","fullName"]],[23,1,["addedParticipantNames","firstObject"]]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[1,[28,"if",[[28,"msg-ui@is-authenticated-user",[[23,1,["from"]]],null],[28,"t",["i18n_you_added_single_participant_to_conversation","msg-ui/components/message-snippet"],[["addedUserName"],[[23,1,["addedParticipantNames","firstObject"]]]]],[28,"t",["i18n_other_user_added_single_participant_to_conversation","msg-ui/components/message-snippet"],[["usersName","addedUserName"],[[23,1,["from","fullName"]],[23,1,["addedParticipantNames","firstObject"]]]]]],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"          "],[1,[28,"if",[[28,"msg-ui@is-authenticated-user",[[23,1,["from"]]],null],[28,"t",["i18n_you_added_multiple_participants_to_conversation","msg-ui/components/message-snippet"],[["addedUserNames"],[[23,1,["addedParticipantNames"]]]]],[28,"t",["i18n_other_user_added_multiple_participants_to_conversation","msg-ui/components/message-snippet"],[["usersName","addedUserNames"],[[23,1,["from","fullName"]],[23,1,["addedParticipantNames"]]]]]],null],false],[0,"\\n"]],"parameters":[]}],[0,"      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["from","id"]],[23,1,["eventContent","removedParticipants","firstObject","id"]]],null]],null,{"statements":[[0,"      "],[7,"span",true],[10,"class","msg-conversation-card__message-snippet-body"],[8],[0,"\\n        "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size","class"],["leave-icon","small","msg-conversation-card__message-snippet-icon"]]],false],[0,"\\n"],[4,"if",[[28,"global-helpers@eq",[[23,1,["removedParticipantNames","length"]],1],null]],null,{"statements":[[0,"          "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_left_conversation","msg-ui/components/message-snippet"],null],[28,"t",["i18n_single_other_user_left_conversation","msg-ui/components/message-snippet"],[["removedUserName"],[[23,1,["removedParticipantNames","firstObject"]]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[1,[28,"t",["i18n_multiple_other_users_left_conversation","msg-ui/components/message-snippet"],[["removedUserNames"],[[23,1,["removedParticipantNames"]]]]],false],[0,"\\n"]],"parameters":[]}],[0,"      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[28,"msg-ui@is-authenticated-user",[[23,1,["eventContent","removedParticipants","firstObject"]]],null]],null,{"statements":[[0,"      "],[7,"span",true],[10,"class","msg-conversation-card__message-snippet-body"],[8],[0,"\\n        "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size","class"],["leave-icon","small","msg-conversation-card__message-snippet-icon"]]],false],[0,"\\n        "],[1,[28,"t",["i18n_you_were_removed","msg-ui/components/message-snippet"],[["removersName"],[[23,1,["from","name"]]]]],false],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[7,"span",true],[10,"class","msg-conversation-card__message-snippet-body"],[8],[0,"\\n        "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size","class"],["leave-icon","small","msg-conversation-card__message-snippet-icon"]]],false],[0,"\\n"],[4,"if",[[28,"global-helpers@eq",[[23,1,["removedParticipantNames","length"]],1],null]],null,{"statements":[[0,"          "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_removed_single_participant_from_conversation","msg-ui/components/message-snippet"],[["removedUserName"],[[23,1,["removedParticipantNames","firstObject"]]]]],[28,"t",["i18n_other_user_removedd_single_participant_from_conversation","msg-ui/components/message-snippet"],[["removersName","removedUserName"],[[23,1,["from","name"]],[23,1,["removedParticipantNames","firstObject"]]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_removed_multiple_participants_from_conversation","msg-ui/components/message-snippet"],[["removedUserNames"],[[23,1,["removedParticipantNames"]]]]],[28,"t",["i18n_other_user_removed_multiple_participants_from_conversation","msg-ui/components/message-snippet"],[["removersName","removedUserNames"],[[23,1,["from","fullName"]],[23,1,["removedParticipantNames"]]]]]],null],false],[0,"\\n"]],"parameters":[]}],[0,"      "],[9],[0,"\\n    "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,0,["shouldObfuscateMessage"]]],null,{"statements":[[0,"    "],[1,[23,1,["obfuscatedMessageWarning","text"]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,2,["isSpinMail"]]],null,{"statements":[[0,"    "],[7,"span",true],[10,"class","msg-conversation-card__pill t-14 t-black t-bold pr1"],[8],[0,"\\n      "],[1,[28,"if",[[23,1,["eventContent","customContent","advertiserLabel"]],[28,"t",["i18n_spinmail_advertiser_label","msg-ui/components/message-snippet"],[["label"],[[23,1,["eventContent","customContent","advertiserLabel"]]]]],[28,"t",["i18n_spinmail_label","msg-ui/components/message-snippet"],null]],null],false],[0,"\\n    "],[9],[0,"\\n    "],[1,[23,1,["eventContent","subject"]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["isInMail"]]],null,{"statements":[[0,"    "],[7,"span",true],[10,"class","msg-conversation-card__pill t-14 t-black t-bold pr1"],[8],[1,[28,"t",["i18n_inmail_label","msg-ui/components/message-snippet"],null],false],[9],[1,[28,"if",[[23,1,["eventContent","subject"]],[23,1,["eventContent","subject"]],[23,1,["eventContent","attributedBody","text"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["hasForward"]]],null,{"statements":[[4,"if",[[23,1,["from","isOtherUser"]]],null,{"statements":[[0,"      "],[1,[28,"t",["i18n_other_user_forwarded","msg-ui/components/message-snippet"],[["usersName"],[[28,"global-helpers@name",[[23,1,["from","miniProfile"]]],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"t",["i18n_you_forwarded","msg-ui/components/message-snippet"],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"    "],[7,"span",true],[10,"class","msg-conversation-card__message-snippet-body"],[8],[0,"\\n"],[4,"if",[[23,2,["isSponsoredConversation"]]],null,{"statements":[[0,"        "],[7,"span",true],[10,"class","msg-conversation-card__pill t-14 t-black t-bold pr1"],[8],[0,"\\n          "],[1,[28,"if",[[23,2,["sponsoredConversationMetadata","advertiserLabel"]],[28,"t",["i18n_spinmail_advertiser_label","msg-ui/components/message-snippet"],[["label"],[[23,2,["sponsoredConversationMetadata","advertiserLabel"]]]]],[28,"t",["i18n_spinmail_label","msg-ui/components/message-snippet"],null]],null],false],[0,"\\n        "],[9],[0,"\\n        "],[7,"span",true],[10,"class","msg-conversation-card__pill t-14 t-black pr1"],[8],[0,"\\n          "],[1,[23,1,["eventContent","attributedBody","text"]],false],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["eventContent","attachments","length"]]],null,{"statements":[[0,"          "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size","class"],["paperclip-icon","small","msg-conversation-card__message-snippet-icon msg-conversation-card__message-snippet-icon--attachment"]]],false],[0,"\\n          "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_sent_x_attachments","msg-ui/components/message-snippet"],[["count"],[[23,1,["eventContent","attachments","length"]]]]],[28,"t",["i18n_sender_sent_x_attachments_v2","msg-ui/components/message-snippet"],[["senderName","count"],[[23,1,["from","familiarName"]],[23,1,["eventContent","attachments","length"]]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["eventContent","customContent","media"]]],null,{"statements":[[0,"          "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_sent_gif","msg-ui/components/message-snippet"],null],[28,"t",["i18n_sender_sent_gif","msg-ui/components/message-snippet"],[["senderName"],[[28,"global-helpers@name",[[23,1,["from","miniProfile"]]],null]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["eventContent","mediaAttachments"]]],null,{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["eventContent","mediaAttachments","firstObject","mediaType"]],"AUDIO"],null]],null,{"statements":[[0,"            "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_sent_voice_message","msg-ui/components/message-snippet"],null],[28,"t",["i18n_sender_sent_voice_message","msg-ui/components/message-snippet"],[["senderName"],[[28,"global-helpers@name",[[23,1,["from","miniProfile"]]],null]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["eventContent","mediaAttachments","firstObject","mediaType"]],"VIDEO"],null]],null,{"statements":[[0,"            "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_sent_video","msg-ui/components/message-snippet"],null],[28,"t",["i18n_sender_sent_video","msg-ui/components/message-snippet"],[["senderName"],[[28,"global-helpers@name",[[23,1,["from","miniProfile"]]],null]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_sent_x_attachments","msg-ui/components/message-snippet"],[["count"],[[23,1,["eventContent","mediaAttachments","length"]]]]],[28,"t",["i18n_sender_sent_x_attachments_v2","msg-ui/components/message-snippet"],[["senderName","count"],[[23,1,["from","familiarName"]],[23,1,["eventContent","mediaAttachments","length"]]]]]],null],false],[0,"\\n          "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,1,["hasLocationSharePreview"]]],null,{"statements":[[0,"          "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size","class"],["map-marker-icon","small","msg-conversation-card__message-snippet-icon msg-conversation-card__message-snippet-icon--location"]]],false],[0,"\\n          "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_sent_location","msg-ui/components/message-snippet"],null],[28,"t",["i18n_sender_sent_location","msg-ui/components/message-snippet"],[["senderName"],[[28,"global-helpers@name",[[23,1,["from","miniProfile"]]],null]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showStorySentSnippet"]]],null,{"statements":[[4,"if",[[23,1,["from","isOtherUser"]]],null,{"statements":[[0,"            "],[1,[28,"t",["i18n_sent_you_story","msg-ui/components/message-snippet"],[["senderName"],[[28,"global-helpers@name",[[23,1,["from","miniProfile"]]],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[1,[28,"t",["i18n_you_sent_story","msg-ui/components/message-snippet"],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,1,["eventContent","attributedBody","text"]]],null,{"statements":[[0,"            "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_said_message","msg-ui/components/message-snippet"],[["body"],[[23,1,["eventContent","attributedBody","text"]]]]],[28,"t",["i18n_sender_said_message_v2","msg-ui/components/message-snippet"],[["senderName","body"],[[23,1,["from","familiarName"]],[23,1,["eventContent","attributedBody","text"]]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["eventContent","sticker"]]],null,{"statements":[[0,"              "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_sent_sticker","msg-ui/components/message-snippet"],null],[28,"t",["i18n_sender_sent_sticker_v2","msg-ui/components/message-snippet"],[["senderName"],[[23,1,["from","familiarName"]]]]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["shareContentType"]]],null,{"statements":[[0,"              "],[1,[28,"if",[[23,1,["from","isLoggedInUser"]],[28,"t",["i18n_you_sent_share_content_v3","msg-ui/components/message-snippet"],[["shareContentType"],[[23,1,["shareContentType"]]]]],[28,"t",["i18n_sender_share_content_v3","msg-ui/components/message-snippet"],[["senderName","shareContentType"],[[23,1,["from","familiarName"]],[23,1,["shareContentType"]]]]]],null],false],[0,"\\n            "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}],[0,"        "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[0,"    "],[9],[0,"\\n  "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-ui/components/message-snippet.hbs"}})
class n extends t.default{get shouldObfuscateMessage(){return Ember.get(this.args,"latestEvent.obfuscatedMessageWarning")&&!Ember.get(this.args,"latestEvent.conversation.blocked")}get showStorySentSnippet(){return Ember.get(this.args,"latestEvent.eventContent.storyItemUrn")&&!Ember.get(this.args,"latestEvent.eventContent.replyToContent")}}e.default=n
Ember._setComponentTemplate(s,n)})
define("msg-ui/components/msg-edit-form/msg-edit-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],function(e,t,s,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,c,p,d,u,g,h,b,f
const v=Ember.HTMLBars.template({id:"2NJ1CU2u",block:'{"symbols":["components","actions","props","assetLoader","assetLoader","@conversation","@prefilledMessage","@saveEditControlName"],"statements":[[7,"div",true],[10,"class","msg-edit-form"],[8],[0,"\\n  "],[5,"msg-ui@msg-form/base-form",[],[["@classNames","@conversation","@prefilledMessage","@isMessageEditForm","@validateForm","@submitMessage"],["msg-edit-form__base-form",[23,6,[]],[23,7,[]],true,[23,0,["validateFormForEdits"]],[28,"fn",[[23,0,["onSaveEditedMessage"]]],null]]],{"statements":[[0,"\\n"],[4,"if",[[23,3,["isOverCharLimit"]]],null,{"statements":[[0,"      "],[5,"msg-ui@msg-form/primitives/character-limit-banner",[],[["@isEditForm"],[true]]],[0,"\\n"]],"parameters":[]},null],[0,"    "],[7,"div",true],[10,"class","t-14 t-black pl3 pv2"],[8],[0,"\\n      "],[1,[28,"t",["i18n_edit_message","msg-ui/components/msg-edit-form/msg-edit-form"],null],false],[0,"\\n    "],[9],[0,"\\n"],[4,"if",[[23,3,["showMentionsPicker"]]],null,{"statements":[[0,"      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-mentions"]],{"statements":[[0,"\\n"],[4,"if",[[23,5,["state","fulfilled"]]],null,{"statements":[[0,"          "],[6,[23,1,["mentionsPicker"]],[],[[],[]]],[0,"\\n"]],"parameters":[]},null],[0,"      "]],"parameters":[5]}],[0,"\\n"]],"parameters":[]},null],[0,"    "],[7,"div",true],[10,"class","msg-edit-form__content-container ph3"],[8],[0,"\\n      "],[6,[23,1,["messageContentContainer"]],[],[["@classNames","@expandButtonSize"],["msg-form__message-texteditor msg-edit-form__message-texteditor relative flex-grow-1 display-flex",1]]],[0,"\\n    "],[9],[0,"\\n    "],[7,"footer",true],[10,"class","msg-edit-form__footer flex-shrink-zero"],[8],[0,"\\n      "],[7,"div",true],[10,"class","msg-form__left-actions display-flex"],[8],[0,"\\n        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["emoji-picker"]],{"statements":[[0,"\\n"],[4,"if",[[23,4,["state","fulfilled"]]],null,{"statements":[[0,"            "],[5,"emoji-picker@emoji-hoverable",[],[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[28,"action",[[23,0,[]],[23,2,["updateTextarea"]]],null],"msg_pillar_emoji",[28,"action",[[23,0,[]],[23,2,["focusTextarea"]]],null],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]]],[0,"\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[4]}],[0,"\\n      "],[9],[0,"\\n      "],[7,"div",true],[10,"class","msg-form__right-actions display-flex align-items-center"],[8],[0,"\\n        "],[5,"artdeco-button@artdeco-button",[],[["@class","@controlType","@size","@type","@text","@click"],["msg-edit-form__dismiss-button","button",1,"secondary",[28,"t",["i18n_cancel_button","msg-ui/components/msg-edit-form/msg-edit-form"],null],[28,"fn",[[23,0,["onDismissForm"]]],null]]]],[0,"\\n        "],[5,"artdeco-button@artdeco-button",[[3,"ember-cli-pemberly-tracking@track-interaction",[[23,8,[]]]]],[["@class","@controlType","@size","@text","@disabled"],["msg-edit-form__save-button ml1","submit",1,[28,"t",["i18n_save_button","msg-ui/components/msg-edit-form/msg-edit-form"],null],[28,"if",[[23,3,["enableSend"]],false,true],null]]]],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "]],"parameters":[1,2,3]}],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-edit-form/msg-edit-form.hbs"}})
let y=(a=Ember.inject.service("msg-data@data-manager"),o=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),l=Ember.inject.service("i18n"),m=Ember.inject.service("lix"),c=Ember._action,p=Ember._action,d=Ember._action,u=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"persistentToastManager",h,this);(0,t.default)(this,"i18n",b,this);(0,t.default)(this,"lix",f,this)}willDestroy(){super.willDestroy.apply(this,arguments)
Ember.set(this.args.event.conversation,"_draftMessage",void 0)}_showEditErrorToast(e){const t=e||"i18n_edit_generic_error",s=this.i18n.lookupTranslation("component","msg-ui@msg-edit-form/msg-edit-form",t)()
this.persistentToastManager.error({message:s})}onSaveEditedMessage(e){if((e=>Date.now()-e>36e5)(this.args.event.get("createdAt")))this._showEditErrorToast("i18n_edit_timebox_expired_error")
else{this.actions.onDismissForm.call(this)
const t=this.args.event.conversation.id,s=Ember.get(this.args.event,"entityUrn")
t&&s&&e&&e.text||this._showEditErrorToast()
this.msgDataManager.editMessage(t,s,e).catch(e=>{this._showEditErrorToast()
throw e})}}validateFormForEdits(e){return this.args.prefilledMessage!==e}onDismissForm(){Ember.set(this.args.event.conversation,"_draftMessage",void 0)
this.args.onDismissEditForm()}},g=(0,n.default)(u.prototype,"msgDataManager",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,n.default)(u.prototype,"persistentToastManager",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,n.default)(u.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.default)(u.prototype,"lix",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(u.prototype,"onSaveEditedMessage",[c],Object.getOwnPropertyDescriptor(u.prototype,"onSaveEditedMessage"),u.prototype),(0,n.default)(u.prototype,"validateFormForEdits",[p],Object.getOwnPropertyDescriptor(u.prototype,"validateFormForEdits"),u.prototype),(0,n.default)(u.prototype,"onDismissForm",[d],Object.getOwnPropertyDescriptor(u.prototype,"onDismissForm"),u.prototype),u)
e.default=y
Ember._setComponentTemplate(v,y)})
define("msg-ui/components/msg-form/base-form",["exports","@babel/runtime/helpers/esm/toConsumableArray","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","@ember-decorators/object","global-utils/utils/api-compat","msg-shared/utils/constants","msg-shared/utils/custom-tracking","msg-ui/utils/send-typing-indicator","msg-ui/utils/attributed-text-manager","global-utils/utils/is-browser","msg-shared/utils/attachments-handler","global-utils/utils/get-ie-version","global-helpers/helpers/name","msg-ui/utils/conversation-properties","msg-shared/utils/decorate-attributed-body","ember-m3-pdsc-model-builder"],function(e,t,s,n,i,r,a,o,l,m,c,p,d,u,g,h,b,f,v,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,E,w,M,k,C,T,x,P,O,S,I,D,R,A,j,N,F,L,U,q,z,B,H,W,G,V,K,Q,$,Y,J,Z,X,ee,te,se,ne,ie,re,ae,oe,le,me,ce,pe,de,ue,ge,he,be,fe,ve,ye,_e,Ee,we,Me,ke,Ce
const Te=Ember.HTMLBars.template({id:"49RcLMNF",block:'{"symbols":["&default"],"statements":[[4,"if",[[25,1]],null,{"statements":[[0,"  "],[14,1,[[28,"hash",null,[["uploadAttachmentPreviews","uploadAttachment","attachmentDragAndDrop","attachmentDragAndDropErrorDisplay","inmailQuickReplies","messageContentContainer","mentionsPicker","sendControls","sendModeToggle","inmailCreditsDisplay"],[[28,"component",["msg-rich-media@upload-attachment-previews"],[["attachments","removeAttachment"],[[23,0,["attachments"]],[28,"action",[[23,0,[]],"removeAttachment"],null]]]],[28,"component",["msg-ui@msg-form/primitives/upload-attachment"],[["addAttachment","beforeUpload","afterUpload","triggerDragAndDropLayer"],[[28,"action",[[23,0,[]],"addAttachment"],null],[28,"action",[[23,0,[]],"onBeforeUpload"],null],[28,"action",[[23,0,[]],"onValidateForm"],null],[28,"action",[[23,0,[]],"triggerDragAndDropLayer"],null]]]],[28,"component",["msg-rich-media@attachment-drag-and-drop"],[["showUserEducationLayer","addAttachment","beforeUpload","afterUpload","onError"],[[23,0,["showDragAndDropUserEducationLayer"]],[28,"action",[[23,0,[]],"addAttachment"],null],[28,"action",[[23,0,[]],"onBeforeUpload"],null],[28,"action",[[23,0,[]],"afterDragAndDropUpload"],null],[28,"action",[[23,0,[]],"handleAttachmentDropError"],null]]]],[28,"component",["msg-rich-media@attachment-drag-and-drop-error-display"],[["errorType","dismissError"],[[23,0,["attachmentDropErrorType"]],[28,"action",[[23,0,[]],"dismissAttachmentDropError"],null]]]],[28,"component",["msg-ui@msg-form/primitives/inmail-quick-replies"],[["conversation","chooseInMailResponse","overridePlaceholderValue"],[[23,0,["conversation"]],[28,"action",[[23,0,[]],"chooseInMailQuickReply"],null],[28,"action",[[23,0,[]],"overridePlaceholderValue"],null]]]],[28,"component",["msg-ui@msg-form/primitives/msg-content-container"],[["overridePlaceholder","showPlaceholder","keyDown"],[[23,0,["overridePlaceholder"]],[23,0,["showPlaceholder"]],[28,"action",[[23,0,[]],"onTextEditorKeyDown"],null]]]],[28,"component",["msg-mentions@mentions-picker"],[["connectionMentions","conversationMentions","mentionsTopPosition","mentionAll","showMentionAllOption","isTabbingThroughMentions","keyDown","selectMentionWithKeyDown","selectMention","closeMentions"],[[23,0,["connectionMentions"]],[23,0,["conversationMentions"]],[23,0,["mentionsTopPosition"]],[23,0,["mentionAll"]],[23,0,["showMentionAllOption"]],[23,0,["isTabbingThroughMentions"]],[28,"action",[[23,0,[]],"onMentionsPickerKeyDown"],null],[28,"action",[[23,0,[]],"selectMentionWithKeyDown"],null],[28,"action",[[23,0,[]],"selectMention"],null],[28,"action",[[23,0,[]],"closeMentions"],null]]]],[28,"component",["msg-ui@msg-form/primitives/send-controls"],[["enableSend"],[[23,0,["enableSend"]]]]],[28,"component",["msg-ui@msg-form/primitives/send-mode-toggle"],null],[28,"component",["msg-conversation-ui@inmail-credits-display"],null]]]],[28,"hash",null,[["beforeUpload","validateForm","focusTextarea","addAttachment","updateTextarea","updateTextareaWithEmoji","focusComposeAfterEmojiPickerClose","handleGIFSend","toggleExpandComposeField"],[[28,"action",[[23,0,[]],"onBeforeUpload"],null],[28,"action",[[23,0,[]],"onValidateForm"],null],[28,"action",[[23,0,[]],"focusTextarea"],null],[28,"action",[[23,0,[]],"addAttachment"],null],[28,"action",[[23,0,[]],"updateTextarea"],null],[28,"action",[[23,0,[]],"updateTextareaWithEmoji"],null],[28,"action",[[23,0,[]],"focusComposeAfterEmojiPickerClose"],null],[28,"action",[[23,0,[]],"handleGIFSend"],null],[23,0,["toggleExpandComposeField"]]]]],[28,"hash",null,[["attributedTextModel","showMentionsPicker","showMiniAttachmentPreviews","attachments","overridePlaceholder","showPlaceholder","isValidForm","isOverCharLimit","pressEnterToSend","showInMailQuickReplies","isNotInmail","supportedFileAttachmentTypes","supportedImageAttachmentTypes","attachmentDropErrorType","enableSend","subjectDisplay"],[[23,0,["attributedTextModel"]],[23,0,["showMentionsPicker"]],[23,0,["showMiniAttachmentPreviews"]],[23,0,["attachments"]],[23,0,["overridePlaceholder"]],[23,0,["showPlaceholder"]],[23,0,["isValidForm"]],[23,0,["isOverCharLimit"]],[23,0,["messagingSettings","pressEnterToSend"]],[23,0,["showInMailQuickReplies"]],[23,0,["isNotInmail"]],[23,0,["supportedFileAttachmentTypes"]],[23,0,["supportedImageAttachmentTypes"]],[23,0,["attachmentDropErrorType"]],[23,0,["enableSend"]],[23,0,["subjectDisplay"]]]]]]],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-form/base-form.hbs"}}),{ACTION_TYPES:xe,CONTROL_NAMES:{MENTIONS:{OPEN_DROPDOWN:Pe,SELECT_MENTION:Oe}},KEYCODES:{TAB:Se,ENTER:Ie,ESC:De,SPACEBAR:Re,UP_ARROW:Ae,DOWN_ARROW:je,Z:Ne},MESSAGE_TYPE:Fe,MESSAGING_REALTIME:{STILL_TYPING_TIMEOUT:Le}}=m.default,Ue=/(?:^|\s)([@](?:\S+\s)?(?:\S+\s)?\S*$)/
let qe=(_=(0,a.tagName)("form"),E=(0,a.classNames)("msg-form"),w=(0,a.classNameBindings)("composeIsFullyExpanded:msg-form--is-fully-expanded"),M=Ember.inject.service("global-services@a11y-notification"),k=Ember.inject.service("i18n"),C=Ember.inject.service("jet"),T=Ember.inject.service("lego@resolver"),x=Ember.inject.service("lego@tracking"),P=Ember.inject.service("lix"),O=Ember.inject.service("msg-data@data-manager"),S=Ember.inject.service("store"),I=Ember.inject.service("tracking"),D=Ember.inject.service("formatter"),R=Ember.inject.service("vector@vector-upload"),A=Ember.inject.service("msg-ui@update-message-compose"),j=Ember.computed.not("attributedTextModel.text").readOnly(),N=Ember.computed("composeIsFullyExpanded","isInMailCompose").readOnly(),F=Ember.computed("subject"),L=Ember.computed("conversation","conversation.latestEvent","conversation.latestEvent.from.isLoggedInUser").readOnly(),U=Ember.computed("conversation.latestEvent","hasInMailQuickReplies","conversation.quickReplyChosen","composeIsFullyExpanded"),q=Ember.computed("conversation.isInMail","isInMailCompose").readOnly(),z=Ember.computed("isValidForm","hasNewConversationMessageInFlight").readOnly(),B=(0,o.on)("updateMessageCompose"),H=(0,o.on)("focusMessageCompose"),W=Ember._action,G=Ember._action,V=Ember._action,K=Ember._action,Q=Ember._action,$=Ember._action,Y=Ember._action,J=Ember._action,Z=Ember._action,X=Ember._action,ee=Ember._action,te=Ember._action,se=Ember._action,ne=Ember._action,ie=Ember._action,re=Ember._action,ae=Ember._action,oe=Ember._action,le=Ember._action,me=Ember._action,ce=Ember._action,_(pe=E(pe=w(pe=(de=class extends Ember.Component{constructor(){super(...arguments);(0,n.default)(this,"pageKey","flagship3_messaging_msg_form");(0,n.default)(this,"rumComponentId","messaging/base-form");(0,n.default)(this,"data-test-msg-base-form",!0);(0,s.default)(this,"a11yNotification",ue,this);(0,s.default)(this,"i18n",ge,this);(0,s.default)(this,"jet",he,this);(0,s.default)(this,"legoResolver",be,this);(0,s.default)(this,"legoTracking",fe,this);(0,s.default)(this,"lix",ve,this);(0,s.default)(this,"msgDataManager",ye,this);(0,s.default)(this,"store",_e,this);(0,s.default)(this,"tracking",Ee,this);(0,s.default)(this,"formatter",we,this);(0,s.default)(this,"vectorUpload",Me,this);(0,s.default)(this,"updateMessageComposeService",ke,this);(0,n.default)(this,"attributedTextModel",null);(0,n.default)(this,"inMailResponseAction",null);(0,n.default)(this,"lastSeenTyping",0);(0,n.default)(this,"overridePlaceholder",null);(0,s.default)(this,"showPlaceholder",Ce,this);(0,n.default)(this,"showMentionsPicker",!1);(0,n.default)(this,"composeIsFullyExpanded",!1);(0,n.default)(this,"mentionsTopPosition",void 0);(0,n.default)(this,"supportedFileAttachmentTypes","image/*,.ai,.psd,.pdf,.doc,.docx,.csv,.zip,.rar,.ppt,.pptx,.pps,.ppsx,.odt,.rtf,.xls,.xlsx,.txt,.pub,.html,.7z,.eml");(0,n.default)(this,"supportedImageAttachmentTypes","image/*");(0,n.default)(this,"hasNewConversationMessageInFlight",!1)}get showMiniAttachmentPreviews(){return this.composeIsFullyExpanded&&!this.isInMailCompose}get subjectDisplay(){return Ember.get(this,"subject.string")||this.subject||""}set subjectDisplay(e){Ember.set(this,"subject",e)
return e}get hasInMailQuickReplies(){return!Ember.get(this,"conversation.latestEvent.from.isLoggedInUser")&&(Ember.get(this,"conversation.latestEvent.isSalesInMail")&&!this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-lss")||Ember.get(this,"conversation.latestEvent.isPremiumInMail")&&!this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-premium"))}get showInMailQuickReplies(){return this.hasInMailQuickReplies&&!Ember.get(this,"conversation.quickReplyChosen")&&!this.composeIsFullyExpanded}get isNotInmail(){return!(this.isInMailCompose||Ember.get(this,"conversation.isInMail"))}get enableSend(){return this.isValidForm&&!this.hasNewConversationMessageInFlight}init(){super.init.apply(this,arguments)
Ember.set(this,"attachments",this.prefilledAttachments||[])
this.attachmentsHandler=new g.default({vectorUpload:this.vectorUpload,tracking:this.tracking,jet:this.jet,updateUI:this._addAttachment.bind(this),beforeUpload:this.beforeUpload,afterUpload:this._validateForm.bind(this)})
Ember.set(this,"oldConvo",this.conversation)
this.AttributedTextManager=new d.default
const e=Ember.get(this,"prefilledMessage.string")||this.prefilledMessage||Ember.get(this,"conversation._draftMessage")
if(e){var t
if(this.isMessageEditForm&&(null===(t=e.get)||void 0===t?void 0:t.call(e,"text"))){const t=(0,v.default)(e,e.get("text"),{url:!0,email:!0,hashtag:!0,goLink:this.lix.getTreatmentIsEnabled("voyager.client.staff")})
let s=0
t.forEach(e=>{if(e.mention){const t=this._getMentionsEntityByAttributeChunk(e)
t&&this.AttributedTextManager.insertAttribute({entity:t,typeaheadHit:t,entityUrn:e.entityUrn,match:{start:s,length:e.value.length,text:e.value},tokenSelection:{start:s,end:s+e.value.length},type:(0,y.buildModel)("com.linkedin.pemberly.text.Entity",{urn:e.entityUrn,type:"Entity"})})}else this.AttributedTextManager.insertText(e.value,{start:s,end:s})
s+=e.value.length})}else this.AttributedTextManager.insertText(e,{start:0,end:0})}this._validateForm()
this.tracking.setupTrackableComponent(this)
this.updateMessageComposeService.setBaseFormSubscriber(this,this.isOverlay)
Ember.set(this,"enableOlympusKeys",this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-backend-urn"))}didInsertElement(){super.didInsertElement.apply(this,arguments)
const e=this._getMessageTextEditor()
this.addEventListener(this.element,"paste",t=>{e&&e.contains(t.target)&&this._handlePasteEvent(t)})
const t=this._isIeBrowser()?"keyup":"input"
this.addEventListener(this.element,t,t=>{e&&e.contains(t.target)&&this._onTextEditorChange(t)})
const s=""!==this.AttributedTextManager.getModel().text.trim()
this.updateAttributedTextModel(s)
this._validateForm()}didUpdateAttrs(){super.didUpdateAttrs.apply(this,arguments)
const e=this.oldConvo&&Ember.get(this.oldConvo,"id"),t=this.conversation&&Ember.get(this.conversation,"id")
if(e&&e!==t){const e=this.AttributedTextManager.getModel().text
e&&Ember.set(this.oldConvo,"_draftMessage",e)
this._resetForm()
Ember.set(this,"oldConvo",this.conversation)}this._validateForm()}willDestroy(){super.willDestroy.apply(this,arguments)
this.updateMessageComposeService.removeBaseFormSubscriber(this,this.isOverlay)}updateMessageComposeFromService(e){this._updateTextarea(e)}focusMessageComposeFromService(){this._focusTextarea()}change(){this._validateForm()}submit(e){var t
e.preventDefault()
null===(t=this.onBeforeFormSubmit)||void 0===t||t.call(this,this)
const s=this._constructAttributedBody()
this.isMessageEditForm?this.submitMessage(s):this._constructPayloadAndSubmitMessage({message:s.text,conversation:this.conversation,contextByRecipients:this.contextByRecipients,attributedBody:s,attachments:Ember.getWithDefault(this,"attachments",[]).rejectBy("isError"),messageReplyType:this.conversation?(0,f.getReplyMessageType)(this.conversation):Fe.M2M,adapterOptions:this.msgAdapterOptions})}shouldSubmitMessage(e){const{keyCode:t,metaKey:s,ctrlKey:n,shiftKey:i,altKey:r}=e
if(t===Ie){if(Ember.get(this,"messagingSettings.pressEnterToSend")&&!this.isInMailCompose)return!(i||r||s||n)
if(s||n)return!0}return!1}click(e){const t=this._getMessageTextEditor()
t.contains(e.target)&&this.AttributedTextManager.correctClickPosition(t)}focusOut(e){if(e.target.classList.contains("msg-form__contenteditable")){const e=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),u.default)
this._lastCursorPosition=e
this.AttributedTextManager.updateModelCursorPosition(e.start)}}_addAttachment(e){this.attachments.pushObject(e)}_updateTextarea(e){const t=Ember.isPresent(this._lastCursorPosition)?this._lastCursorPosition:this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),u.default)
this.AttributedTextManager.insertText(e,t)
this.updateAttributedTextModel()
this._focusTextarea()
this._validateForm()}_constructAttributedBody(){this.AttributedTextManager.removeMentionInProgress()
const e=this.AttributedTextManager.getModel()
let{attributes:t}=e
t=e.attributes.map(e=>{delete e.entity
return e})
return{text:e.text.trim(),attributes:t}}getMentionedMembers(){return this.AttributedTextManager.getModel().attributes.filter(e=>Ember.get(this,"mentionAll.entityUrn")!==e.urn).map(e=>{const t=this.AttributedTextManager.EntityMap[e.urn]
return Ember.get(t,"miniProfile")})}onBeforeUpload(e){let{attachment:t,isPasteEvent:s}=e
this.beforeUpload({attachment:t,isPasteEvent:s})
this.send("disableForm")}updateTextarea(e){let{body:t}=e
this._updateTextarea(t)}updateTextareaWithEmoji(e){let{body:t,triggerData:s}=e
this.updateMessageComposeService.triggerUpdateMessageCompose({bubbleId:s.bubbleId,isOverlay:this.isOverlay,messageText:t})}focusComposeAfterEmojiPickerClose(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.updateMessageComposeService.triggerFocusMessageCompose({bubbleId:e.bubbleId,isOverlay:this.isOverlay})}disableForm(){Ember.set(this,"isValidForm",!1)}handleGIFSend(e,t){return this._constructPayloadAndSubmitMessage({gif:e,conversation:t,message:"",messageReplyType:t?(0,f.getReplyMessageType)(t):Fe.M2M},!1).then(()=>{this.isDestroying||Ember.set(this,"composeIsFullyExpanded",!1)})}handleAttachmentDropError(e){Ember.setProperties(this,{attachmentDropErrorType:e,composeIsFullyExpanded:!1})}dismissAttachmentDropError(){Ember.set(this,"attachmentDropErrorType","")}onValidateForm(){this._validateForm()}afterDragAndDropUpload(){this._validateForm()
this._focusTextarea()}focusTextarea(){this._focusTextarea()}addAttachment(e){this._addAttachment(e)}removeAttachment(e){this.attachments.removeObject(e)
this._validateForm()}overridePlaceholderValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
Ember.set(this,"overridePlaceholder",e)}chooseInMailQuickReply(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ACCEPT"
const n=e.toString()
Ember.setProperties(this,{inMailResponseAction:s,overridePlaceholder:null})
Ember.set(this,"conversation.quickReplyChosen",!0)
this.AttributedTextManager.insertText(n,{start:0,end:0})
this.updateAttributedTextModel()
this.tracking.fireInteractionEvent(t)
c.default.fireDetailActionEvent({controlName:t,actionType:xe.QUICK_REPLY,conversation:this.conversation,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
this._validateForm()
this._focusTextarea()}onMentionsPickerKeyDown(e){if(!this.showMentionsPicker)return
e.preventDefault()
const{keyCode:t}=e
switch(t){case De:this._closeMentionsDropdownUI()
this._focusTextarea()
e.stopPropagation()
break
case je:this._arrowThroughDropdown(e,!1)
break
case Ae:this._arrowThroughDropdown(e,!0)
break
case Se:this._arrowThroughDropdown(e,e.shiftKey)}}onTextEditorKeyDown(e){const{keyCode:t,shiftKey:s,ctrlKey:n,metaKey:i}=e,r=this._getMessageTextEditor(),a=this.AttributedTextManager.getCaretPosition(r)
switch(t){case Ne:if(n||i){e.preventDefault()
this.AttributedTextManager.handleUndoRedo(e)
this.updateAttributedTextModel()}break
case De:if(this.showMentionsPicker){this._closeMentionsDropdownUI()
this._focusTextarea()
e.stopPropagation()}break
case je:this.showMentionsPicker&&this._arrowThroughDropdown(e,!1)
break
case Ae:this.showMentionsPicker&&this._arrowThroughDropdown(e,!0)
break
case Se:this.showMentionsPicker&&this._arrowThroughDropdown(e,s)
break
case Ie:if(this.showMentionsPicker&&this._getCurrentMentionValue()){const t=this.showMentionAllOption?this.mentionAll:Ember.get(this,"conversationMentions.firstObject")||Ember.get(this,"connectionMentions.firstObject")
if(t){e.stopPropagation()
e.preventDefault()
this._selectAndAddMention(t)
this._closeMentionsDropdownUI()
break}}if(e.target!==r)break
if(this.shouldSubmitMessage(e)){this.submit(e)
break}e.preventDefault()
this.AttributedTextManager.insertText("\n",a)
this.updateAttributedTextModel()
this._scrollToCaretPosition()}}selectMentionWithKeyDown(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(t.keyCode===Ie||t.keyCode===Re){t.stopPropagation()
t.preventDefault()
this._selectAndAddMention(e)}}selectMention(e){this._selectAndAddMention(e)}closeMentions(){this._closeMentionsDropdownUI()}triggerDragAndDropLayer(e){Ember.set(this,"showDragAndDropUserEducationLayer",e)}_isIeBrowser(){if(!Ember.testing&&u.default){const e=(0,h.default)(window.navigator.userAgent)
return!!e&&e<=11}return!1}_selectAndAddMention(e){this.tracking.fireInteractionEvent(Oe,"SHORT_PRESS")
this.AttributedTextManager.removeMentionInProgress()
this.AttributedTextManager.insertAttribute(e)
this.updateAttributedTextModel()
this._closeMentionsDropdownUI()}_sendTypingIndicator(){const e=Ember.get(this,"conversation.id")
e&&(0,p.default)(e,this.store)}_getMessageTextEditor(){return this.element.querySelector(".msg-form__contenteditable")}_getComposeScrollableArea(){return this.element.querySelector(".msg-form__msg-content-container--scrollable")}_focusTextarea(){const e=this._getMessageTextEditor()
""!==this.AttributedTextManager.getModel().text.trim()&&this.setCaretPosition()
e&&e.focus()}_resetForm(e){let t
if(e){t=""
this.conversation&&Ember.get(this,"conversation._draftMessage")&&Ember.set(this,"conversation._draftMessage",void 0)}else t=Ember.getWithDefault(this,"conversation._draftMessage","")
Ember.setProperties(this,{attachments:[],inMailResponseAction:null,isValidForm:!1,hasNewConversationMessageInFlight:!1,update:null})
this._closeMentionsDropdownUI()
this.AttributedTextManager.resetModel()
this._lastCursorPosition=null
t&&this.AttributedTextManager.insertText(t,{start:0,end:0})
this.updateAttributedTextModel()
this._updateFormState()
Ember.setProperties(this,{attachmentDropErrorType:"",composeIsFullyExpanded:!1,overridePlaceholder:null})}_updateFormState(){var e
const t=Ember.get(this,"attributedTextModel.text")
null===(e=this.updateFormState)||void 0===e||e.call(this,t)}_validateForm(){const e=Ember.getWithDefault(this,"attachments",[]),t=e.filter(e=>Ember.get(e,"isUploading")||Ember.get(e,"isError")),s=Ember.get(this,"attributedTextModel.text")
if((null==s?void 0:s.length)>=8e3&&this.lix.getTreatmentIsEnabled("voyager.web.messaging-max-character-limit")){Ember.setProperties(this,{isOverCharLimit:!0,isValidForm:!1})
return!1}Ember.set(this,"isOverCharLimit",!1)
let n=(Ember.isPresent(s)||e.length>0||this.update||this.forwardedEvent)&&0===t.length
if(this.validateForm){const e=Ember.getWithDefault(this,"subjectDisplay","").trim()
n=n&&this.validateForm(s,e)}const i=this.externallyValid
Ember.isPresent(i)&&(n=n&&i)
Ember.set(this,"isValidForm",n)
return!this.hasNewConversationMessageInFlight&&!!n}_setupInmailResponseActionPayload(e){this.hasInMailQuickReplies||!Ember.get(this,"conversation.latestEvent.isRecruiterInMail")&&!Ember.get(this,"conversation.latestEvent.isSalesInMail")?e.inMailResponseAction=this.inMailResponseAction||"ACCEPT":e.inMailResponseAction=this.inMailResponseAction||"NONE"}_constructPayloadAndSubmitMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
if(t&&!this._validateForm())return Ember.RSVP.Promise.reject()
if(this.messageContext){e.contextEntityUrn=this.messageContext.contextEntityUrn
e.contextText=this.messageContext.contextText}Ember.get(this,"conversation.latestEvent.isInMail")&&Ember.get(this,"conversation.withNonConnection")&&this._setupInmailResponseActionPayload(e)
this.isInMailCompose&&(e.subject=this.subjectDisplay)
this.update&&(e.update={id:Ember.get(this.update,"id"),type:(0,l.classNameOf)(this.update)})
this.conversation?t&&this._resetForm(!0):Ember.set(this,"hasNewConversationMessageInFlight",!0)
return this.submitMessage(e).then(()=>{this.conversation||t&&this._resetForm(!0)}).finally(()=>{this.conversation||Ember.set(this,"hasNewConversationMessageInFlight",!1)})}_handlePasteEvent(e){let{clipboardData:t}=e
if(t){const{files:s}=t
if(s&&s.length&&t.types&&t.types.length<3&&t.types.includes("Files")){e.preventDefault()
if(this.hasResharedContent||Ember.get(this,"messageContext.contextEntityUrn"))return
const[t]=s
t.type.match(/image/)&&this.attachmentsHandler.uploadAttachment(t,!0)
return}}e.preventDefault()
t&&t.getData?t=t.getData("text/plain"):u.default&&(t=window.clipboardData.getData("Text"))
const s=t.replace(/(\r\n|\n\r|\r)/g,"\n"),n=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),u.default)
this.AttributedTextManager.insertText(s,n)
this.updateAttributedTextModel()
if(this.conversation){const e=this.AttributedTextManager.getModel().text
e&&Ember.set(this.conversation,"_draftMessage",e)}this._validateForm()
this._updateFormState()}_onTextEditorChange(){const e=this._getMessageTextEditor()
this.AttributedTextManager.updateModelFromHTML(e)
this.updateAttributedTextModel()
if(this.conversation){const e=this.AttributedTextManager.getModel().text
e&&Ember.set(this.conversation,"_draftMessage",e)}this._triggerMentionDropdown()
this.debounceTask("_validateForm",150)
this.debounceTask("_updateFormState",150)
const t=Date.now()
if(t-this.lastSeenTyping>Le){this.lastSeenTyping=t
this._sendTypingIndicator()}}updateAttributedTextModel(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
const t=this.AttributedTextManager.getModel()
Ember.set(this,"attributedTextModel",t)
if(this.AttributedTextManager.didAttributesChange){const t=this._getMessageTextEditor(),s=this.AttributedTextManager.createHTMLFromModel()
jSecure.setElementContent(t,s)
e&&this.setCaretPosition()}}setCaretPosition(e){const t=this.AttributedTextManager.getModel(),s=this._getMessageTextEditor()
this.AttributedTextManager.setCaretPosition(e||t.cursor,s)}_arrowThroughDropdown(e,t){e.stopPropagation()
e.preventDefault()
const s=this.element.querySelector("[data-mentions-picker]"),n=this.element.querySelectorAll("[data-mentions-picker-option]"),i=this.element.querySelector("[data-mentions-picker-option]:focus")
let r
if(i){r=Array.from(n).indexOf(i)
r=t?--r:++r}else r=t?n.length-1:1
if(n[r]&&r>0){n[r].focus()
Ember.set(this,"isTabbingThroughMentions",!0)}else{s.scrollTop=0
this._focusTextarea()
Ember.set(this,"isTabbingThroughMentions",!1)}}_getCurrentMentionValue(){const e=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor())
return(this.AttributedTextManager.getTextBeforeCursor(e).match(Ue)||[])[1]||""}_getCurrentMentionQuery(){return this._getCurrentMentionValue().substr(1).trim()}_triggerMentionDropdown(){const{start:e,end:t}=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor())
if(t!==e||this.AttributedTextManager.mentionAtPosition(t))return
const s=this._getCurrentMentionValue()
if(Ember.isPresent(s)){const e=t-s.length,n=this._getCurrentMentionQuery()
this._fetchConversationMentions(n,{start:e,end:t})
if(n){const s=Ember.testing?0:100
this.debounceTask("_fetchConnectionMentions",n,{start:e,end:t},s)}else{const e=this.conversationMentions||[],t=this.connectionMentions||[]
Ember.set(this,"showMentionsPicker",e.length||t.length)
this.tracking.fireInteractionEvent(Pe,"KEYBOARD_SUBMIT")}this.AttributedTextManager.removeMentionInProgress()
this.AttributedTextManager.insertAttribute({mentionInProgress:!0,match:{start:e,length:s.length,text:s},tokenSelection:{start:e,end:t}})
this._setMentionsDropdownPosition()}else this._closeMentionsDropdownUI()
this.updateAttributedTextModel()}_getMentionsEntityByAttributeChunk(e){const t=Ember.get(this,"conversation.participants"),{entityUrn:s}=e
return t.findBy("miniProfile.entityUrn",s)}_fetchConversationMentions(e,t){const s=Ember.get(this,"conversation.participants")
if(!s)return
const n=s.filter(t=>{const s=(0,b.getName)(Ember.get(t,"miniProfile"))
return this.formatter.formatName(s,"full").toLowerCase().indexOf(e.toLowerCase())>=0}).map((e,s)=>{const n=`@${this.formatter.formatName((0,b.getName)(Ember.get(e,"miniProfile")),"full")}`
return{index:s,tokenSelection:t,typeaheadHit:e,entity:e,entityUrn:Ember.get(e,"miniProfile.entityUrn"),match:{start:t.start,length:n.length,text:n}}}),i=this.i18n.lookupTranslation("component","msg-ui@msg-form/base-form","i18n_mention_all")()
if(this._shouldShowMentionAllOption(e,i)){const e=this._createMentionAllEntity(t,i)
Ember.setProperties(this,{mentionAll:e,showMentionAllOption:!0})}else Ember.set(this,"showMentionAllOption",!1)
Ember.set(this,"conversationMentions",n)}_createMentionAllEntity(e,t){const s=`urn:li:fs_conversation:${Ember.get(this,"conversation.id")}`,n=Ember.Object.create({miniProfile:Ember.Object.create({firstName:t,lastName:"",entityUrn:s})})
return Ember.Object.create({tokenSelection:e,entity:n,entityUrn:Ember.get(n,"miniProfile.entityUrn"),match:{length:t.length+1,start:e.start,text:`@${t}`}})}_shouldShowMentionAllOption(e,t){return Ember.get(this,"conversation.groupChat")&&t.toLowerCase().includes(e.toLowerCase())}_fetchConnectionMentions(e,s){const n=this.conversationMentions||[],i=n.mapBy("typeaheadHit.miniProfile.id")
return this.msgDataManager.fetchTypeaheadResults(e).then(r=>{if(this.isDestroying)return
if(e!==this._getCurrentMentionQuery())return
const a=r.reduce((e,n)=>{const r=Ember.get(n,"miniProfile.id")
if(i.indexOf(r)>-1)return e
const a=`@${this.formatter.formatName((0,b.getName)(Ember.get(n,"miniProfile")),"full")}`
return[].concat((0,t.default)(e),[{index:e.length,tokenSelection:s,typeaheadHit:n,entity:n,entityUrn:Ember.get(n,"miniProfile.entityUrn"),match:{start:s.start,length:a.length,text:a}}])},[]),o=!(!a.length&&!n.length)
Ember.setProperties(this,{connectionMentions:a,showMentionsPicker:o})})}_closeMentionsDropdownUI(){if(this.showMentionsPicker){this.AttributedTextManager.removeMentionInProgress()
Ember.setProperties(this,{mentionsTopPosition:void 0,connectionMentions:null,conversationMentions:null,showMentionsPicker:!1,isTabbingThroughMentions:!1})}}_setMentionsDropdownPosition(){if(!u.default)return
if(!this.composeIsFullyExpanded){const e=this.element.offsetHeight
Ember.set(this,"mentionsTopPosition",`bottom: ${e}px`)
return}const e=this._getCaretParentOffsets()
if(e){const t=20,s=this.element.querySelector(".msg-form__footer").offsetHeight,{scrollTop:n,offsetHeight:i}=this._getMessageTextEditor(),{caretParentOffsetTop:r,caretParentOffsetHeight:a}=e
let o=Math.round(a+r+4-n),l="auto"
if((o+=this.element.offsetTop)>130){l=`${Math.round(i-r-a+s+t+n+4)}px`
o="auto"}else o=`${o}px`
Ember.set(this,"mentionsTopPosition",`top: ${o}; bottom: ${l};`)}}_scrollToCaretPosition(){const e=this._getCaretParentOffsets()
if(e){const{caretParentOffsetTop:t,caretParentOffsetHeight:s}=e,n=t+s,i=this._getComposeScrollableArea(),{scrollTop:r,offsetHeight:a}=i
n>r+a?i.scrollTop=n-a:t<r&&(i.scrollTop=t)}}_getCaretParentOffsets(){const e=this._getMessageTextEditor(),t=e.ownerDocument||e.document,s=t.defaultView||t.parentWindow
if(void 0!==s.getSelection){if(s.getSelection().rangeCount>0){const e=s.getSelection().getRangeAt(0),{offsetTop:t,offsetHeight:n}=e.commonAncestorContainer.parentNode
return{caretParentOffsetTop:t,caretParentOffsetHeight:n}}}}},ue=(0,i.default)(de.prototype,"a11yNotification",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,i.default)(de.prototype,"i18n",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,i.default)(de.prototype,"jet",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=(0,i.default)(de.prototype,"legoResolver",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=(0,i.default)(de.prototype,"legoTracking",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,i.default)(de.prototype,"lix",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,i.default)(de.prototype,"msgDataManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,i.default)(de.prototype,"store",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,i.default)(de.prototype,"tracking",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,i.default)(de.prototype,"formatter",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,i.default)(de.prototype,"vectorUpload",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,i.default)(de.prototype,"updateMessageComposeService",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,i.default)(de.prototype,"showPlaceholder",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(de.prototype,"showMiniAttachmentPreviews",[N],Object.getOwnPropertyDescriptor(de.prototype,"showMiniAttachmentPreviews"),de.prototype),(0,i.default)(de.prototype,"subjectDisplay",[F],Object.getOwnPropertyDescriptor(de.prototype,"subjectDisplay"),de.prototype),(0,i.default)(de.prototype,"hasInMailQuickReplies",[L],Object.getOwnPropertyDescriptor(de.prototype,"hasInMailQuickReplies"),de.prototype),(0,i.default)(de.prototype,"showInMailQuickReplies",[U],Object.getOwnPropertyDescriptor(de.prototype,"showInMailQuickReplies"),de.prototype),(0,i.default)(de.prototype,"isNotInmail",[q],Object.getOwnPropertyDescriptor(de.prototype,"isNotInmail"),de.prototype),(0,i.default)(de.prototype,"enableSend",[z],Object.getOwnPropertyDescriptor(de.prototype,"enableSend"),de.prototype),(0,i.default)(de.prototype,"updateMessageComposeFromService",[B],Object.getOwnPropertyDescriptor(de.prototype,"updateMessageComposeFromService"),de.prototype),(0,i.default)(de.prototype,"focusMessageComposeFromService",[H],Object.getOwnPropertyDescriptor(de.prototype,"focusMessageComposeFromService"),de.prototype),(0,i.default)(de.prototype,"onBeforeUpload",[W],Object.getOwnPropertyDescriptor(de.prototype,"onBeforeUpload"),de.prototype),(0,i.default)(de.prototype,"updateTextarea",[G],Object.getOwnPropertyDescriptor(de.prototype,"updateTextarea"),de.prototype),(0,i.default)(de.prototype,"updateTextareaWithEmoji",[V],Object.getOwnPropertyDescriptor(de.prototype,"updateTextareaWithEmoji"),de.prototype),(0,i.default)(de.prototype,"focusComposeAfterEmojiPickerClose",[K],Object.getOwnPropertyDescriptor(de.prototype,"focusComposeAfterEmojiPickerClose"),de.prototype),(0,i.default)(de.prototype,"disableForm",[Q],Object.getOwnPropertyDescriptor(de.prototype,"disableForm"),de.prototype),(0,i.default)(de.prototype,"handleGIFSend",[$],Object.getOwnPropertyDescriptor(de.prototype,"handleGIFSend"),de.prototype),(0,i.default)(de.prototype,"handleAttachmentDropError",[Y],Object.getOwnPropertyDescriptor(de.prototype,"handleAttachmentDropError"),de.prototype),(0,i.default)(de.prototype,"dismissAttachmentDropError",[J],Object.getOwnPropertyDescriptor(de.prototype,"dismissAttachmentDropError"),de.prototype),(0,i.default)(de.prototype,"onValidateForm",[Z],Object.getOwnPropertyDescriptor(de.prototype,"onValidateForm"),de.prototype),(0,i.default)(de.prototype,"afterDragAndDropUpload",[X],Object.getOwnPropertyDescriptor(de.prototype,"afterDragAndDropUpload"),de.prototype),(0,i.default)(de.prototype,"focusTextarea",[ee],Object.getOwnPropertyDescriptor(de.prototype,"focusTextarea"),de.prototype),(0,i.default)(de.prototype,"addAttachment",[te],Object.getOwnPropertyDescriptor(de.prototype,"addAttachment"),de.prototype),(0,i.default)(de.prototype,"removeAttachment",[se],Object.getOwnPropertyDescriptor(de.prototype,"removeAttachment"),de.prototype),(0,i.default)(de.prototype,"overridePlaceholderValue",[ne],Object.getOwnPropertyDescriptor(de.prototype,"overridePlaceholderValue"),de.prototype),(0,i.default)(de.prototype,"chooseInMailQuickReply",[ie],Object.getOwnPropertyDescriptor(de.prototype,"chooseInMailQuickReply"),de.prototype),(0,i.default)(de.prototype,"onMentionsPickerKeyDown",[re],Object.getOwnPropertyDescriptor(de.prototype,"onMentionsPickerKeyDown"),de.prototype),(0,i.default)(de.prototype,"onTextEditorKeyDown",[ae],Object.getOwnPropertyDescriptor(de.prototype,"onTextEditorKeyDown"),de.prototype),(0,i.default)(de.prototype,"selectMentionWithKeyDown",[oe],Object.getOwnPropertyDescriptor(de.prototype,"selectMentionWithKeyDown"),de.prototype),(0,i.default)(de.prototype,"selectMention",[le],Object.getOwnPropertyDescriptor(de.prototype,"selectMention"),de.prototype),(0,i.default)(de.prototype,"closeMentions",[me],Object.getOwnPropertyDescriptor(de.prototype,"closeMentions"),de.prototype),(0,i.default)(de.prototype,"triggerDragAndDropLayer",[ce],Object.getOwnPropertyDescriptor(de.prototype,"triggerDragAndDropLayer"),de.prototype),de))||pe)||pe)||pe)
e.default=qe
Ember._setComponentTemplate(Te,qe)})
define("msg-ui/components/msg-form/primitives/character-limit-banner",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"YGWKUPeS",block:'{"symbols":["@isEditForm"],"statements":[[5,"artdeco-inline-feedback@artdeco-inline-feedback",[[12,"class",[29,["msg-character-limit-banner ph1 pv2 ",[28,"if",[[23,1,[]],"msg-character-limit-banner__edit-form"],null]]]],[12,"data-character-limit-warning",""]],[["@message","@type"],[[28,"t",["i18n_character_limit_warning","msg-ui/components/msg-form/primitives/character-limit-banner"],null],"yield"]]]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-form/primitives/character-limit-banner.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/msg-form/primitives/inmail-quick-replies",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","ember-batcher","msg-shared/utils/constants"],function(e,t,s,n,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,m,c,p,d,u,g,h,b,f,v,y,_
const E=Ember.HTMLBars.template({id:"VNmMM/Y2",block:'{"symbols":[],"statements":[[7,"p",true],[10,"class","mb2 t-14 t-black t-normal"],[8],[0,"\\n  "],[1,[28,"t",["i18n_start_your_reply_by_choosing_one","msg-ui/components/msg-form/primitives/inmail-quick-replies"],null],false],[0,"\\n"],[9],[0,"\\n"],[7,"div",true],[10,"class","msg-inmail-quick-replies__options-carousel-container"],[8],[0,"\\n  "],[7,"button",false],[12,"class","msg-inmail-quick-replies__options-carousel-nav msg-inmail-quick-replies__options-carousel-nav-prev"],[12,"disabled","true"],[12,"type","button"],[3,"action",[[23,0,[]],"scrollOptionsStart"]],[8],[0,"\\n    "],[7,"span",true],[10,"class","a11y-text"],[8],[0,"\\n      "],[1,[28,"t",["i18n_previous_suggestions","msg-ui/components/msg-form/primitives/inmail-quick-replies"],null],false],[0,"\\n    "],[9],[0,"\\n    "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size"],["chevron-left-icon","small"]]],false],[0,"\\n  "],[9],[0,"\\n  "],[7,"button",false],[12,"class","msg-inmail-quick-replies__options-carousel-nav msg-inmail-quick-replies__options-carousel-nav-next"],[12,"type","button"],[3,"action",[[23,0,[]],"scrollOptionsEnd"]],[8],[0,"\\n    "],[7,"span",true],[10,"class","a11y-text"],[8],[0,"\\n      "],[1,[28,"t",["i18n_next_suggestions","msg-ui/components/msg-form/primitives/inmail-quick-replies"],null],false],[0,"\\n    "],[9],[0,"\\n    "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size"],["chevron-right-icon","small"]]],false],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n\\n"],[7,"div",true],[10,"class","msg-inmail-quick-replies__options-box"],[8],[0,"\\n  "],[7,"ul",true],[10,"class","msg-inmail-quick-replies__options display-flex align-items-flex-start flex-wrap"],[8],[0,"\\n    "],[7,"li",false],[12,"class","msg-inmail-quick-replies__option msg-inmail-quick-replies__option--yes list-style-none flex-shrink-zero mr2 mb2"],[3,"action",[[23,0,[]],"setPlaceHolderText",[23,0,["quickRepliesI18nText","interestedFullText"]]],[["on"],["mouseEnter"]]],[3,"action",[[23,0,[]],"clearPlaceHolderText"],[["on"],["mouseLeave"]]],[8],[0,"\\n      "],[5,"artdeco-button@artdeco-button",[],[["@controlType","@class","@type","@color","@size","@click","@text","@icon","@iconRight"],["button","msg-inmail-quick-replies__option-button ph2","secondary","muted",1,[28,"action",[[23,0,[]],[23,0,["chooseInMailResponse"]],[23,0,["quickRepliesI18nText","interestedFullText"]],[23,0,["controlNames","QUICK_REPLY_YES"]],"ACCEPT"],null],[23,0,["quickRepliesI18nText","interestedPillText"]],"chevron-right-icon",true]]],[0,"\\n    "],[9],[0,"\\n\\n    "],[7,"li",false],[12,"class","msg-inmail-quick-replies__option msg-inmail-quick-replies__option--maybe list-style-none flex-shrink-zero mr2 mb2"],[3,"action",[[23,0,[]],"setPlaceHolderText",[23,0,["quickRepliesI18nText","maybeFullText"]]],[["on"],["mouseEnter"]]],[3,"action",[[23,0,[]],"clearPlaceHolderText"],[["on"],["mouseLeave"]]],[8],[0,"\\n      "],[5,"artdeco-button@artdeco-button",[],[["@controlType","@class","@type","@color","@size","@click","@text","@icon","@iconRight"],["button","msg-inmail-quick-replies__option-button ph2","secondary","muted",1,[28,"action",[[23,0,[]],[23,0,["chooseInMailResponse"]],[23,0,["quickRepliesI18nText","maybeFullText"]],[23,0,["controlNames","QUICK_REPLY_MAYBE"]],"ACCEPT"],null],[23,0,["quickRepliesI18nText","maybePillText"]],"chevron-right-icon",true]]],[0,"\\n    "],[9],[0,"\\n\\n    "],[7,"li",false],[12,"class","msg-inmail-quick-replies__option msg-inmail-quick-replies__option--no list-style-none flex-shrink-zero mb2"],[3,"action",[[23,0,[]],"setPlaceHolderText",[23,0,["quickRepliesI18nText","notInterestedFullText"]]],[["on"],["mouseEnter"]]],[3,"action",[[23,0,[]],"clearPlaceHolderText"],[["on"],["mouseLeave"]]],[8],[0,"\\n      "],[5,"artdeco-button@artdeco-button",[],[["@controlType","@class","@type","@color","@size","@click","@text","@icon","@iconRight"],["button","msg-inmail-quick-replies__option-button ph2","secondary","muted",1,[28,"action",[[23,0,[]],[23,0,["chooseInMailResponse"]],[23,0,["quickRepliesI18nText","notInterestedFullText"]],[23,0,["controlNames","QUICK_REPLY_NO"]],"DECLINE"],null],[23,0,["quickRepliesI18nText","notInterestedPillText"]],"chevron-right-icon",true]]],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-form/primitives/inmail-quick-replies.hbs"}}),{CONTROL_NAMES:{INMAIL:w}}=o.default,M={sent_accepted:"i18n_interested_full_text",sent_rejected2:"i18n_maybe_later_full_text",sent_rejected_2:"i18n_maybe_later_full_text",sent_rejected:"i18n_not_interested_full_text"},k={sent_accepted:"ACCEPT",sent_rejected2:"ACCEPT",sent_rejected_2:"ACCEPT",sent_rejected:"DECLINE"},C={sent_accepted:w.QUICK_REPLY_YES,sent_rejected2:w.QUICK_REPLY_MAYBE,sent_rejected_2:w.QUICK_REPLY_MAYBE,sent_rejected:w.QUICK_REPLY_NO}
let T=(l=(0,r.classNames)("msg-form__inmail-quick-replies","msg-inmail-quick-replies","pt2","ph4"),m=(0,r.classNameBindings)("overlayInmail:msg-inmail-quick-replies--overlay"),c=Ember.inject.service("i18n"),p=Ember.computed.reads("conversation.latestEvent.from.name"),d=Ember.computed("conversation").readOnly(),u=Ember._action,g=Ember._action,h=Ember._action,b=Ember._action,l(f=m(f=(v=class extends Ember.Component{constructor(){super(...arguments);(0,t.default)(this,"i18n",y,this);(0,s.default)(this,"controlNames",w);(0,t.default)(this,"senderName",_,this);(0,s.default)(this,"firstQuickReplyShown",1)}get quickRepliesI18nText(){return this._getQuickRepliesI18nTextDefault()}didInsertElement(){super.didInsertElement.apply(this,arguments)
if(Ember.isPresent(this.immediateAction)){const e=this.immediateAction.split("-").pop().replace("olympus_","")
if(e&&M[e]&&Ember.get(this.conversation,"latestEvent.isInMail")&&!Ember.get(this.conversation,"isDeclined")){const t=M[e],s=this._getUnencodedMessage(t),n=k[e],i=C[e]
this.chooseInMailResponse(s,i,n)}}}_getUnencodedMessage(e){return jSecure.htmlUnencode(this.i18n.lookupTranslation("component","msg-ui@msg-form/primitives/inmail-quick-replies",e)([{member:this.senderName}]))}setPlaceHolderText(e){Ember.run.cancel(this.mouseLeaveTask)
this.overridePlaceholderValue(e)}clearPlaceHolderText(){this.mouseLeaveTask=this.runTask("overridePlaceholderValue",300)}scrollOptionsEnd(){(0,a.readDOM)(()=>{const e=this.element.querySelector(".msg-inmail-quick-replies__options")
let t=e.parentElement.offsetWidth-e.offsetWidth
if(t<0){t=Ember.get(this,"i18n.isRtlLanguage")?-t:t
e.style.transform=`translateX(${t}px)`
this.element.querySelector(".msg-inmail-quick-replies__options-carousel-nav-prev").disabled=!1
this.element.querySelector(".msg-inmail-quick-replies__options-carousel-nav-next").disabled=!0}})}scrollOptionsStart(){this.element.querySelector(".msg-inmail-quick-replies__options").style.transform="translateX(0)"
this.element.querySelector(".msg-inmail-quick-replies__options-carousel-nav-prev").disabled=!0
this.element.querySelector(".msg-inmail-quick-replies__options-carousel-nav-next").disabled=!1}_getQuickRepliesI18nTextDefault(){return Object.freeze({interestedFullText:this._getUnencodedMessage("i18n_interested_full_text"),interestedPillText:this._getUnencodedMessage("i18n_interested"),maybeFullText:this._getUnencodedMessage("i18n_maybe_later_full_text"),maybePillText:this._getUnencodedMessage("i18n_maybe_later"),notInterestedFullText:this._getUnencodedMessage("i18n_not_interested_full_text"),notInterestedPillText:this._getUnencodedMessage("i18n_not_interested")})}},y=(0,n.default)(v.prototype,"i18n",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,n.default)(v.prototype,"senderName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(v.prototype,"quickRepliesI18nText",[d],Object.getOwnPropertyDescriptor(v.prototype,"quickRepliesI18nText"),v.prototype),(0,n.default)(v.prototype,"setPlaceHolderText",[u],Object.getOwnPropertyDescriptor(v.prototype,"setPlaceHolderText"),v.prototype),(0,n.default)(v.prototype,"clearPlaceHolderText",[g],Object.getOwnPropertyDescriptor(v.prototype,"clearPlaceHolderText"),v.prototype),(0,n.default)(v.prototype,"scrollOptionsEnd",[h],Object.getOwnPropertyDescriptor(v.prototype,"scrollOptionsEnd"),v.prototype),(0,n.default)(v.prototype,"scrollOptionsStart",[b],Object.getOwnPropertyDescriptor(v.prototype,"scrollOptionsStart"),v.prototype),v))||f)||f)
e.default=T
Ember._setComponentTemplate(E,T)})
define("msg-ui/components/msg-form/primitives/message-texteditor",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"EbXMRzEA",block:'{"symbols":["@labelText","@parentBlurAction","@parentFocusAction","@showPlaceholder","@overridePlaceholder"],"statements":[[7,"div",true],[10,"class","flex-grow-1"],[8],[0,"\\n  "],[7,"div",false],[12,"class","msg-form__contenteditable t-14 t-black--light t-normal flex-grow-1 full-height notranslate"],[12,"contenteditable","true"],[12,"role","textbox"],[12,"aria-multiline","true"],[12,"aria-placeholder",[23,1,[]]],[12,"aria-label",[28,"t",["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor"],null]],[3,"on",["blur",[23,2,[]]]],[3,"on",["focus",[23,3,[]]]],[8],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"div",true],[11,"class",[28,"concat",["msg-form__placeholder t-14 t-black--light t-normal ",[28,"if",[[23,4,[]],"visible","hidden"],null]],null]],[11,"data-placeholder",[28,"if",[[23,5,[]],[23,5,[]],[28,"t",["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor"],null]],null]],[8],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-form/primitives/message-texteditor.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/msg-form/primitives/msg-content-container",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component"],function(e,t,s,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,c,p,d,u
const g=Ember.HTMLBars.template({id:"SVxPcRE8",block:'{"symbols":["assetLoader","assetLoader","@update","@smpContent","@forwardedEvent","@composeIsFullyExpanded","@toggleExpandComposeField","@trackingPrefix","@expandButtonSize","@overridePlaceholder","@showPlaceholder","@showExpandButton"],"statements":[[7,"div",true],[10,"class","msg-form__msg-content-container--scrollable scrollable relative"],[8],[0,"\\n  "],[5,"msg-ui@msg-form/primitives/message-texteditor",[],[["@addTopBorder","@classNames","@overridePlaceholder","@parentBlurAction","@parentFocusAction","@showPlaceholder"],[true,"msg-form__message-texteditor relative flex-grow-1 display-flex",[23,10,[]],[23,0,["setInactive"]],[23,0,["setActive"]],[23,11,[]]]]],[0,"\\n\\n"],[4,"if",[[23,12,[]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","msg-form__expand-btn-wrapper"],[8],[0,"\\n      "],[5,"artdeco-button@artdeco-button",[[12,"aria-label",[28,"if",[[23,6,[]],[28,"t",["i18n_minimize_compose","msg-ui/components/msg-form/primitives/msg-content-container"],null],[28,"t",["i18n_maximize_compose","msg-ui/components/msg-form/primitives/msg-content-container"],null]],null]],[12,"data-control-name",[28,"concat",[[23,8,[]],[28,"if",[[23,6,[]],"close_expand","open_expand"],null]],null]]],[["@circle","@class","@click","@color","@controlType","@icon","@type","@size"],[true,"msg-form__expand-btn",[23,7,[]],"muted","button",[28,"if",[[23,6,[]],"chevron-down-icon","chevron-up-icon"],null],"tertiary",[23,9,[]]]]],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,5,[]]],null,{"statements":[[0,"    "],[5,"msg-ui@forward-preview",[],[["@forwardedEvent"],[[23,5,[]]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,4,[]]],null,{"statements":[[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["marketplace-message-card"]],{"statements":[[0,"\\n"],[4,"if",[[23,2,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"marketplace-message-card@marketplace-message-card",[],[["@messageCard","@isPreview"],[[23,4,[]],true]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[2]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,3,[]]],null,{"statements":[[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["feed-shared"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"feed-shared@render-models/mini-update-v2",[],[["@update","@classNames","@showNestedShares"],[[23,3,[]],"msg-form__reshared-content artdeco-card overflow-hidden",true]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]},null],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-form/primitives/msg-content-container.hbs"}})
let h=(a=(0,r.classNames)("msg-form__msg-content-container"),o=(0,r.classNameBindings)("hasReshare:msg-form__msg-content-container--has-reshare","isActive:msg-form__msg-content-container--is-active"),l=Ember.computed.or("event","update").readOnly(),m=Ember._action,c=Ember._action,a(p=o(p=(d=class extends Ember.Component{constructor(){super(...arguments);(0,t.default)(this,"hasReshare",u,this)}setInactive(){Ember.set(this,"isActive",!1)}setActive(){Ember.set(this,"isActive",!0)}},u=(0,n.default)(d.prototype,"hasReshare",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(d.prototype,"setInactive",[m],Object.getOwnPropertyDescriptor(d.prototype,"setInactive"),d.prototype),(0,n.default)(d.prototype,"setActive",[c],Object.getOwnPropertyDescriptor(d.prototype,"setActive"),d.prototype),d))||p)||p)
e.default=h
Ember._setComponentTemplate(g,h)})
define("msg-ui/components/msg-form/primitives/send-controls",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"EmBP5HLJ",block:'{"symbols":["@buttonClass","@enableSend","&attrs","@isEnterToSendEnabled"],"statements":[[0,"\\n"],[7,"div",false],[13,3],[8],[0,"\\n"],[4,"if",[[23,4,[]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","msg-form__hint-text t-12 t-black--light t-normal"],[8],[0,"\\n      "],[1,[28,"t",["enter_to_send","msg-ui/components/msg-form/primitives/send-controls"],null],false],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"button",false],[12,"class",[29,["msg-form__send-button ",[23,1,[]]]]],[12,"disabled",[28,"unless",[[23,2,[]],"disabled"],null]],[12,"type","submit"],[3,"ember-cli-pemberly-tracking@track-interaction",["send"]],[8],[0,"\\n      "],[1,[28,"t",["send_message","msg-ui/components/msg-form/primitives/send-controls"],null],false],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]}],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-form/primitives/send-controls.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/msg-form/primitives/send-mode-toggle",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","msg-shared/utils/constants","msg-data/utils/persist","global-utils/utils/api-compat"],function(e,t,s,n,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,c,p,d,u,g,h,b,f,v,y,_,E
const w=Ember.HTMLBars.template({id:"qMRh2oUR",block:'{"symbols":["trigger","hoverable"],"statements":[[0,"\\n"],[5,"artdeco-hoverables@artdeco-hoverable-trigger",[],[["@on","@placement"],["click","top"]],{"statements":[[0,"\\n  "],[5,"artdeco-button@artdeco-button",[],[["@aria-controls","@aria-describedby","@aria-expanded","@class","@circle","@color","@controlType","@icon","@text","@type","@size"],[[23,1,["ariaId"]],[23,1,["ariaId"]],[23,1,["ariaExpanded"]],"msg-form__send-toggle","true","muted","button","ellipsis-horizontal-icon",[28,"t",["open_send_options","msg-ui/components/msg-form/primitives/send-mode-toggle"],null],"tertiary",[28,"global-helpers@or",[[23,0,["triggerButtonSize"]],2],null]]]],[0,"\\n  "],[6,[23,1,["artdeco-hoverable-content"]],[],[["@contentClass","@theme"],["msg-form__hovercard","inverse"]],{"statements":[[0,"\\n    "],[7,"fieldset",true],[8],[0,"\\n      "],[7,"legend",true],[10,"class","a11y-text"],[8],[0,"\\n        "],[1,[28,"t",["choose_send_option","msg-ui/components/msg-form/primitives/send-mode-toggle"],null],false],[0,"\\n      "],[9],[0,"\\n      "],[7,"input",false],[12,"id",[28,"concat",["enter-to-send-",[23,0,["elementId"]]],null]],[12,"name",[28,"concat",["send-settings-",[23,0,["elementId"]]],null]],[12,"value","enterSend"],[12,"checked",[28,"if",[[23,0,["messagingSettings","pressEnterToSend"]],true,false],null]],[12,"type","radio"],[3,"on",["change",[28,"fn",[[23,0,["setMessageSettings"]],[23,2,["closeHoverable"]]],null]]],[8],[9],[0,"\\n      "],[7,"label",true],[11,"for",[28,"concat",["enter-to-send-",[23,0,["elementId"]]],null]],[10,"class","mt0"],[8],[0,"\\n        "],[7,"p",true],[10,"class","t-16 t-black--light t-bold"],[8],[0,"\\n          "],[1,[28,"t",["enter_to_send","msg-ui/components/msg-form/primitives/send-mode-toggle"],null],false],[0,"\\n        "],[9],[0,"\\n        "],[7,"p",true],[10,"class","t-14 t-black--light t-normal"],[8],[0,"\\n          "],[1,[28,"t",["enter_to_send_explanation","msg-ui/components/msg-form/primitives/send-mode-toggle"],null],false],[0,"\\n        "],[9],[0,"\\n      "],[9],[0,"\\n      "],[7,"input",false],[12,"id",[28,"concat",["send-",[23,0,["elementId"]]],null]],[12,"name",[28,"concat",["send-settings-",[23,0,["elementId"]]],null]],[12,"value","send"],[12,"checked",[28,"if",[[23,0,["messagingSettings","pressEnterToSend"]],false,true],null]],[12,"type","radio"],[3,"on",["change",[28,"fn",[[23,0,["setMessageSettings"]],[23,2,["closeHoverable"]]],null]]],[8],[9],[0,"\\n      "],[7,"label",true],[11,"for",[28,"concat",["send-",[23,0,["elementId"]]],null]],[8],[0,"\\n        "],[7,"p",true],[10,"class","t-16 t-black--light t-bold"],[8],[0,"\\n          "],[1,[28,"t",["click_to_send","msg-ui/components/msg-form/primitives/send-mode-toggle"],null],false],[0,"\\n        "],[9],[0,"\\n        "],[7,"p",true],[10,"class","t-14 t-black--light t-normal"],[8],[0,"\\n          "],[1,[28,"t",["click_to_send_explanation","msg-ui/components/msg-form/primitives/send-mode-toggle"],null],false],[0,"\\n        "],[9],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "]],"parameters":[2]}],[0,"\\n"]],"parameters":[1]}],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-form/primitives/send-mode-toggle.hbs"}}),{SEND_MODES:M}=a.default
let k=(m=(0,r.classNames)("msg-form__hovercard-container ml2 relative"),c=Ember.inject.service("authentication@authenticated-user"),p=Ember.inject.service("global-services@local-storage"),d=Ember.inject.service("lix"),u=Ember.inject.service("global-services@identity-store"),g=Ember.computed("messagingSettings.pressEnterToSend"),h=Ember._action,m(b=(f=class extends Ember.Component{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",v,this);(0,t.default)(this,"ls",y,this);(0,t.default)(this,"lix",_,this);(0,t.default)(this,"identityStore",E,this)}get sendModeValue(){return Ember.get(this,"messagingSettings.pressEnterToSend")?M.ENTER_SEND:M.SEND}setMessageSettings(e,t){var s
const n=t.target.value===M.ENTER_SEND,i=(0,l.entityUrnToId)(Ember.get(this,"authenticatedUser.miniProfile.entityUrn"))
null===(s=this.afterToggleAction)||void 0===s||s.call(this)
e&&e()
return(0,o.saveEnterToSendSetting)(this.identityStore,this.lix,this.ls,i,this.messagingSettings,n)}},v=(0,n.default)(f.prototype,"authenticatedUser",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.default)(f.prototype,"ls",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,n.default)(f.prototype,"lix",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(f.prototype,"identityStore",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(f.prototype,"sendModeValue",[g],Object.getOwnPropertyDescriptor(f.prototype,"sendModeValue"),f.prototype),(0,n.default)(f.prototype,"setMessageSettings",[h],Object.getOwnPropertyDescriptor(f.prototype,"setMessageSettings"),f.prototype),f))||b)
e.default=k
Ember._setComponentTemplate(w,k)})
define("msg-ui/components/msg-form/primitives/subject-line-input",["exports","@babel/runtime/helpers/esm/defineProperty","@glimmer/component","msg-shared/utils/constants"],function(e,t,s,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=Ember.HTMLBars.template({id:"6FAyj6QZ",block:'{"symbols":["&attrs","@a11yId","@subject"],"statements":[[7,"div",false],[12,"class","msg-form__subject-line relative"],[13,1],[8],[0,"\\n  "],[7,"label",true],[11,"for",[23,2,[]]],[10,"class","msg-form__label visually-hidden"],[8],[0,"\\n    "],[1,[28,"t",["i18n_write_subject","msg-ui/components/msg-form/primitives/subject-line-input"],null],false],[0,"\\n  "],[9],[0,"\\n  "],[5,"input",[[12,"placeholder",[28,"t",["i18n_optional_subject_placeholder","msg-ui/components/msg-form/primitives/subject-line-input"],null]],[12,"autocomplete","off"]],[["@id","@type","@name","@value","@maxlength","@classNames"],[[23,2,[]],"text","subject",[23,3,[]],[23,0,["maxSubjectLength"]],"msg-form__subject pl2"]]],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-form/primitives/subject-line-input.hbs"}}),{INMAIL_SUBJECT_MAX_CHARACTERS:r}=n.default
class a extends s.default{constructor(){super(...arguments);(0,t.default)(this,"maxSubjectLength",r)}}e.default=a
Ember._setComponentTemplate(i,a)})
define("msg-ui/components/msg-form/primitives/upload-attachment",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","msg-shared/utils/attachments-handler","global-utils/utils/is-browser"],function(e,t,s,n,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,m,c,p,d,u,g,h,b,f
const v=Ember.HTMLBars.template({id:"Y2ZBydO9",block:'{"symbols":[],"statements":[[7,"input",true],[10,"name","persist"],[10,"value","true"],[10,"type","hidden"],[8],[9],[0,"\\n"],[7,"input",true],[10,"name","upload_info"],[11,"value",[23,0,["attachmentUploadToken"]]],[10,"type","hidden"],[8],[9],[0,"\\n"],[7,"input",true],[11,"id",[23,0,["inputID"]]],[10,"class","msg-form__attachment-upload-input hidden"],[11,"accept",[23,0,["acceptTypes"]]],[11,"data-control-name",[23,0,["selectFileControlName"]]],[10,"type","file"],[8],[9],[0,"\\n\\n"],[7,"button",true],[11,"id",[23,0,["triggerID"]]],[11,"class",[29,["msg-form__footer-action ",[23,0,["buttonClasses"]]]]],[11,"disabled",[23,0,["disabled"]]],[11,"title",[23,0,["labelText"]]],[11,"aria-label",[23,0,["labelText"]]],[10,"type","button"],[8],[0,"\\n  "],[7,"span",true],[10,"class","visually-hidden"],[8],[0,"\\n    "],[1,[23,0,["labelText"]],false],[0,"\\n  "],[9],[0,"\\n  "],[1,[23,0,["icon"]],false],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-form/primitives/upload-attachment.hbs"}})
let y=(l=(0,r.classNames)("msg-form__upload-attachment","inline-block"),m=Ember.inject.service("jet"),c=Ember.inject.service("tracking"),p=Ember.inject.service("vector@vector-upload"),d=Ember._action,l(u=(g=class extends Ember.Component{constructor(){super(...arguments);(0,t.default)(this,"jet",h,this);(0,t.default)(this,"tracking",b,this);(0,t.default)(this,"vectorUpload",f,this);(0,s.default)(this,"trackingPrefix","")}init(){super.init.apply(this,arguments)
this.fileSelectorOpen=!1
const e=new a.default({vectorUpload:this.vectorUpload,tracking:this.tracking,jet:this.jet,updateUI:this.addAttachment,beforeUpload:this.beforeUpload,afterUpload:this.afterUpload})
Ember.setProperties(this,{attachmentsHandler:e,inputID:`attachment-input-${Ember.guidFor(this)}`,triggerID:`attachment-trigger-${Ember.guidFor(this)}`,selectFileControlName:`${this.trackingPrefix}_select`})
this.tracking.setupTrackableComponent(this)}didInsertElement(){super.didInsertElement.apply(this,arguments);/Firefox|Edge/.test(window.navigator.userAgent)||this.addEventListener(window,"focus",()=>{if(this.fileSelectorOpen){this.fileSelectorOpen=!1
this.triggerDragAndDropLayer(!1)}})}click(){this.element.querySelector(".msg-form__attachment-upload-input").click()
if(o.default&&!/Firefox|Edge/.test(window.navigator.userAgent)){this.fileSelectorOpen=!0
this.triggerDragAndDropLayer(!0)}}change(e){this.fileSelectorOpen=!1
this.triggerDragAndDropLayer(!1)
this.send("fileSelected",e)
if(o.default){const e=document.querySelector(`#${this.triggerID}`)
e&&e.focus()}}fileSelected(e){const t=e.target&&e.target.files&&e.target.files[0]||{}
e.target.value=""
this.attachmentsHandler.uploadAttachment(t)}},h=(0,n.default)(g.prototype,"jet",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,n.default)(g.prototype,"tracking",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.default)(g.prototype,"vectorUpload",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(g.prototype,"fileSelected",[d],Object.getOwnPropertyDescriptor(g.prototype,"fileSelected"),g.prototype),g))||u)
e.default=y
Ember._setComponentTemplate(v,y)})
define("msg-ui/components/msg-group-form/msg-group-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],function(e,t,s,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,c,p,d,u,g
const h=Ember.HTMLBars.template({id:"3yLFsVeY",block:'{"symbols":["@classNames","@actionTrackingPrefix","@prefilledRecipients","@nextButtonDataControlName","@onNext"],"statements":[[7,"div",true],[11,"class",[23,1,[]]],[8],[0,"\\n  "],[5,"msg-typeahead@connections-typeahead",[],[["@withSuggestedList","@renderInPlace","@a11yText","@placeholder","@addRecipientControlName","@openConversationControlName","@beginSearchControlName","@quickOpenConversationControlName","@quickAddRecipientControlName","@recipientsChanged","@prefilledRecipients","@includeGroupConversationResults","@includeCoworkerResults","@enableGroupMessageRequests"],[true,true,[28,"t",["i18n_new_compose_recipients_label","msg-ui/components/msg-group-form/msg-group-form"],null],[28,"t",["i18n_type_participant_names","msg-ui/components/msg-group-form/msg-group-form"],null],[28,"concat",[[23,2,[]],"search_add"],null],[28,"concat",[[23,2,[]],"search_add_group"],null],[28,"concat",[[23,2,[]],"begin_recipient_search"],null],[28,"concat",[[23,2,[]],"quick_add_group"],null],[28,"concat",[[23,2,[]],"quick_add"],null],[28,"action",[[23,0,[]],"recipientsChanged"],null],[23,3,[]],false,true,true]]],[0,"\\n\\n  "],[7,"section",true],[10,"class","msg-group-form__bottom-fixed-section"],[8],[0,"\\n    "],[5,"artdeco-text-input",[[3,"on",["change",[28,"ember-cli-pemberly-tracking@tracked-action",[[28,"concat",[[23,2,[]],"group_chat_name"],null],[23,0,["onGroupNameChange"]]],null]]]],[["@type","@label","@placeholder","@maxLength","@value"],["text",[28,"t",["i18n_group_name","msg-ui/components/msg-group-form/msg-group-form"],null],[28,"t",["i18n_group_name_placeholder","msg-ui/components/msg-group-form/msg-group-form"],null],"40",[23,0,["msgGroupName"]]]]],[0,"\\n  "],[9],[0,"\\n\\n  "],[7,"section",true],[10,"class","msg-group-form__action-buttons-container"],[8],[0,"\\n    "],[5,"artdeco-button@artdeco-button",[[12,"data-control-name",[23,4,[]]],[3,"on",["click",[28,"fn",[[23,5,[]],[28,"hash",null,[["recipients","msgGroupName","contextByRecipients"],[[23,0,["recipients"]],[23,0,["msgGroupName"]],[23,0,["contextByRecipients"]]]]]],null]]]],[["@class","@size","@text","@disabled"],["msg-group-form__next-button",1,[28,"t",["i18n_next","msg-ui/components/msg-group-form/msg-group-form"],null],[28,"global-helpers@lte",[[23,0,["recipients","length"]],1],null]]]],[0,"\\n  "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/msg-group-form/msg-group-form.hbs"}})
let b=(a=Ember._tracked,o=Ember._tracked,l=Ember._tracked,m=Ember._action,c=Ember._action,p=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"recipients",d,this);(0,t.default)(this,"msgGroupName",u,this);(0,t.default)(this,"contextByRecipients",g,this)}onGroupNameChange(e,t){this.msgGroupName=t.target.value}recipientsChanged(e,t){this.recipients=e
this.contextByRecipients=t}},d=(0,n.default)(p.prototype,"recipients",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.prefilledRecipients||[]}}),u=(0,n.default)(p.prototype,"msgGroupName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.prefilledMsgGroupName}}),g=(0,n.default)(p.prototype,"contextByRecipients",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(p.prototype,"onGroupNameChange",[m],Object.getOwnPropertyDescriptor(p.prototype,"onGroupNameChange"),p.prototype),(0,n.default)(p.prototype,"recipientsChanged",[c],Object.getOwnPropertyDescriptor(p.prototype,"recipientsChanged"),p.prototype),p)
e.default=b
Ember._setComponentTemplate(h,b)})
define("msg-ui/components/onboarding-notification",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"RClfUl0Z",block:'{"symbols":["&default","@renderInline","&attrs","@isColorWhite","@showNotification"],"statements":[[4,"if",[[23,5,[]]],null,{"statements":[[0,"  "],[7,"div",false],[12,"class",[29,["relative ",[28,"if",[[23,2,[]],"onboarding-notification-container__inline"],null]]]],[13,3],[8],[0,"\\n    "],[7,"div",true],[11,"class",[28,"concat",["onboarding-notification__notification-dot",[28,"if",[[23,4,[]]," onboarding-notification__white"],null]],null]],[8],[0,"\\n    "],[9],[0,"\\n    "],[14,1],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[14,1],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"msg-ui/components/onboarding-notification.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/premium-upsell",["exports","@babel/runtime/helpers/esm/toConsumableArray","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","s-upsell/utils/upsell-card-v2-request"],function(e,t,s,n,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,m,c
const p=Ember.HTMLBars.template({id:"5jfMYV2A",block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","msg-premium-upsell"],[8],[0,"\\n"],[4,"if",[[23,0,["upsellCard"]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","msg-premium-upsell__content"],[8],[0,"\\n      "],[7,"p",true],[10,"class","t-18 mb3"],[8],[0,"\\n        "],[5,"text-view-model@text-view-model-v2",[],[["@tvm"],[[23,0,["upsellCard","title"]]]]],[0,"\\n      "],[9],[0,"\\n      "],[7,"p",true],[10,"class","t-14 t-black--light"],[8],[0,"\\n        "],[5,"text-view-model@text-view-model-v2",[],[["@tvm"],[[23,0,["upsellCard","subtitles","firstObject"]]]]],[0,"\\n      "],[9],[0,"\\n"],[4,"if",[[23,0,["upsellCard","socialProofInsight"]]],null,{"statements":[[0,"        "],[7,"div",true],[10,"class","display-flex align-items-center mt6 mb3"],[8],[0,"\\n          "],[5,"image-view-model@image-view-model-base",[],[["@images","@entitySize","@isStackedLayout"],[[23,0,["upsellCard","socialProofInsight","image"]],1,true]]],[0,"\\n          "],[7,"p",true],[10,"class","t-12 t-black--light ml2"],[8],[0,"\\n            "],[5,"text-view-model@text-view-model-v2",[],[["@tvm"],[[23,0,["upsellCard","socialProofInsight","text"]]]]],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},null],[0,"      "],[5,"s-upsell@upsell-link",[],[["@upsellModel","@customAnchorClass"],[[23,0,["upsellCard"]],"artdeco-button--full"]]],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[5,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]]],[0,"\\n"]],"parameters":[]}],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/premium-upsell.hbs"}})
let d=(l=Ember.inject.service("store"),m=class extends a.default{constructor(){var e
super(...arguments);(0,s.default)(this,"store",c,this);(e=this.store).queryURL.apply(e,(0,t.default)((0,o.default)({contextUrn:this.args.contextUrn,upsellOrderOrigin:"premium_inmail_message_compose_typeahead_upsell_modal"}))).then(e=>{this.isDestroying||Ember.set(this,"upsellCard",Ember.get(e,"elements.firstObject"))})}},c=(0,i.default)(m.prototype,"store",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m)
e.default=d
Ember._setComponentTemplate(p,d)})
define("msg-ui/components/primitives/bulk-actions-panel",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper"],function(e,t,s,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,a,o,l,m,c,p,d,u,g,h,b,f,v,y,_,E,w,M,k,C,T,x
const P=Ember.HTMLBars.template({id:"/noAifsG",block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","msg-bulk-actions-panel ph2"],[8],[0,"\\n  "],[7,"div",true],[10,"class","display-flex mvA"],[8],[0,"\\n    "],[5,"artdeco-button@artdeco-button",[],[["@type","@click","@color","@icon","@size","@circle"],["tertiary",[28,"action",[[23,0,[]],"exitBulkActionsMode"],null],"muted","cancel-icon",1,true]]],[0,"\\n    "],[7,"span",true],[10,"class","msg-bulk-actions-panel__selected-text t-14 t-black--light t-bold mvA"],[8],[0,"\\n      "],[1,[28,"t",["i18n_selected_count","msg-ui/components/primitives/bulk-actions-panel"],[["count"],[[23,0,["selectedConversationsCount"]]]]],false],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","display-flex mvA"],[8],[0,"\\n    "],[5,"artdeco-button@artdeco-button",[],[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[28,"if",[[23,0,["allSelectedConversationsRead"]],[28,"t",["i18n_mark_unread","msg-ui/components/primitives/bulk-actions-panel"],null],[28,"t",["i18n_mark_read","msg-ui/components/primitives/bulk-actions-panel"],null]],null],"tertiary",[28,"action",[[23,0,[]],"toggleRead"],null],"muted",[28,"if",[[23,0,["allSelectedConversationsRead"]],"envelope-icon","envelope-open-icon"],null],[23,0,["actionButtonsDisabled"]],[28,"if",[[23,0,["allSelectedConversationsRead"]],[28,"t",["i18n_mark_unread","msg-ui/components/primitives/bulk-actions-panel"],null],[28,"t",["i18n_mark_read","msg-ui/components/primitives/bulk-actions-panel"],null]],null],1,true]]],[0,"\\n\\n    "],[5,"artdeco-button@artdeco-button",[],[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[28,"t",["i18n_delete","msg-ui/components/primitives/bulk-actions-panel"],null],"tertiary",[28,"ember-simple-set-helper@set",[[23,0,[]],"showConfirmModal",true],null],"muted","trash-icon",[23,0,["actionButtonsDisabled"]],[28,"t",["i18n_delete","msg-ui/components/primitives/bulk-actions-panel"],null],1,true]]],[0,"\\n\\n    "],[5,"artdeco-button@artdeco-button",[],[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[28,"if",[[23,0,["selectedConversationsAreArchived"]],[28,"t",["i18n_restore","msg-ui/components/primitives/bulk-actions-panel"],null],[28,"t",["i18n_archive","msg-ui/components/primitives/bulk-actions-panel"],null]],null],"tertiary",[28,"action",[[23,0,[]],"toggleArchive"],null],"muted",[28,"if",[[23,0,["selectedConversationsAreArchived"]],"unarchive-message-icon","archive-message-icon"],null],[23,0,["actionButtonsDisabled"]],[28,"if",[[23,0,["selectedConversationsAreArchived"]],[28,"t",["i18n_restore","msg-ui/components/primitives/bulk-actions-panel"],null],[28,"t",["i18n_archive","msg-ui/components/primitives/bulk-actions-panel"],null]],null],1,true]]],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n\\n"],[5,"artdeco-modal@artdeco-confirmation-dialog",[],[["@isOpen","@title","@content","@primaryActionText","@primaryActionTextA11y","@secondaryActionText","@secondaryActionTextA11y","@onPrimary","@onSecondary","@onEscape"],[[23,0,["showConfirmModal"]],[28,"t",["i18n_sure_you_want_delete","msg-ui/components/primitives/bulk-actions-panel"],null],[28,"t",["i18n_deletion_warning_text","msg-ui/components/primitives/bulk-actions-panel"],[["count"],[[23,0,["selectedConversationsCount"]]]]],[28,"t",["i18n_yes_delete","msg-ui/components/primitives/bulk-actions-panel"],null],[28,"t",["a11y_confirm_delete_selected_conversations","msg-ui/components/primitives/bulk-actions-panel"],null],[28,"t",["i18n_cancel","msg-ui/components/primitives/bulk-actions-panel"],null],[28,"t",["a11y_cancel_delete_selected_conversations","msg-ui/components/primitives/bulk-actions-panel"],null],[28,"action",[[23,0,[]],"confirmDelete"],null],[28,"action",[[23,0,[]],"cancelDelete"],null],[28,"action",[[23,0,[]],"cancelDelete"],null]]]]],"hasEval":false}',meta:{moduleName:"msg-ui/components/primitives/bulk-actions-panel.hbs"}})
let O=(r=Ember.inject.service("msg-data@data-manager"),a=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),o=Ember.inject.service("i18n"),l=Ember.inject.service("tracking"),m=Ember.computed.equal("selectedConversationsCount",0).readOnly(),c=Ember.computed("selectedConversations").readOnly(),p=Ember.computed.alias("selectedConversations.length").readOnly(),d=Ember.computed.equal("selectedUnreadConversationsCount",0).readOnly(),u=Ember.computed.alias("selectedConversations.firstObject.archived").readOnly(),g=Ember._action,h=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=class extends Ember.Component{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",_,this);(0,t.default)(this,"persistentToastManager",E,this);(0,t.default)(this,"i18n",w,this);(0,t.default)(this,"tracking",M,this);(0,t.default)(this,"actionButtonsDisabled",k,this);(0,t.default)(this,"selectedConversationsCount",C,this);(0,t.default)(this,"allSelectedConversationsRead",T,this);(0,t.default)(this,"selectedConversationsAreArchived",x,this)}get selectedUnreadConversationsCount(){return this.selectedConversations.filter(e=>!Ember.get(e,"read")).length}_unselectConversations(){this.selectedConversations.forEach(e=>{Ember.set(e,"checked",!1)})}_showErrorToast(){const e=this.i18n.lookupTranslation("component","msg-ui@primitives/bulk-actions-panel","i18n_bulk_action_failed_message")([])
this.persistentToastManager.error({message:e})}exitBulkActionsMode(){var e
this._unselectConversations()
const t=this.isOverlay?"overlay.exit_bulk_selection":"exit_bulk_selection"
this.tracking.fireInteractionEvent(t)
null===(e=this.onExitBulkActionsMode)||void 0===e||e.call(this)}cancelDelete(){Ember.set(this,"showConfirmModal",!1)
const e=this.isOverlay?"overlay.bulk_delete_cancel":"bulk_delete_cancel"
this.tracking.fireInteractionEvent(e)}confirmDelete(){var e
null===(e=this.willExecuteBulkAction)||void 0===e||e.call(this)
const t=this.isOverlay?"overlay.bulk_delete_confirm":"bulk_delete_confirm"
this.tracking.fireTrackingPayload("MessagingBulkActionsDeleteEvent",{numberOfItems:Ember.get(this,"selectedConversations.length"),controlUrn:this.tracking.generateControlUrn(t)})
this.tracking.fireInteractionEvent(t)
const s=Ember.get(this.selectedConversations[0],"collectionName")
this.selectedConversations.forEach(e=>{this.msgDataManager.removeConversation(e)})
this.msgDataManager.bulkDeleteConversations(this.selectedConversations).then(()=>{var e
return null===(e=this.didExecuteBulkAction)||void 0===e?void 0:e.call(this,"delete")}).catch(e=>{this._showErrorToast()
this.selectedConversations.forEach(e=>{this.msgDataManager.addConversationToCollection(e,s)})
throw e})
Ember.set(this,"showConfirmModal",!1)
this._unselectConversations()}toggleArchive(){var e
null===(e=this.willExecuteBulkAction)||void 0===e||e.call(this)
const t=!this.selectedConversationsAreArchived
let s=t?"bulk_archive":"bulk_unarchive"
this.isOverlay&&(s=`overlay.${s}`)
const n=Ember.get(this.selectedConversations[0],"collectionName")
this.tracking.fireTrackingPayload("MessagingBulkActionsToggleArchiveEvent",{numberOfItems:Ember.get(this,"selectedConversations.length"),controlUrn:this.tracking.generateControlUrn(s)})
this.tracking.fireInteractionEvent(s)
this.selectedConversations.forEach(e=>this.msgDataManager.setConversationArchive(e,t))
this.msgDataManager.toggleBulkConversationsArchive(this.selectedConversations,t).then(()=>{var e
return null===(e=this.didExecuteBulkAction)||void 0===e?void 0:e.call(this)}).catch(e=>{this._showErrorToast()
this.selectedConversations.forEach(e=>{this.msgDataManager.setConversationArchive(e,!t,n)})
throw e})
this._unselectConversations()}toggleRead(){var e
null===(e=this.willExecuteBulkAction)||void 0===e||e.call(this)
let t=this.selectedConversations
const s=!this.allSelectedConversationsRead
s&&(t=this.selectedConversations.filter(e=>!Ember.get(e,"read")))
let n=s?"bulk_read":"bulk_unread"
this.isOverlay&&(n=`overlay.${n}`)
this.tracking.fireTrackingPayload("MessagingBulkActionsToggleReadEvent",{numberOfItems:t.length,controlUrn:this.tracking.generateControlUrn(n)})
this.tracking.fireInteractionEvent(n)
t.forEach(e=>{Ember.setProperties(e,{read:s,unreadCount:s?0:1})})
this.msgDataManager.toggleBulkConversationsRead(t,s).then(()=>{var e
return null===(e=this.didExecuteBulkAction)||void 0===e?void 0:e.call(this)}).catch(e=>{this._showErrorToast()
t.forEach(e=>{Ember.setProperties(e,{read:!s,unreadCount:s?1:0})})
throw e})
this._unselectConversations()}},_=(0,n.default)(y.prototype,"msgDataManager",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(y.prototype,"persistentToastManager",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,n.default)(y.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,n.default)(y.prototype,"tracking",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,n.default)(y.prototype,"actionButtonsDisabled",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(y.prototype,"selectedUnreadConversationsCount",[c],Object.getOwnPropertyDescriptor(y.prototype,"selectedUnreadConversationsCount"),y.prototype),C=(0,n.default)(y.prototype,"selectedConversationsCount",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(y.prototype,"allSelectedConversationsRead",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,n.default)(y.prototype,"selectedConversationsAreArchived",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(y.prototype,"exitBulkActionsMode",[g],Object.getOwnPropertyDescriptor(y.prototype,"exitBulkActionsMode"),y.prototype),(0,n.default)(y.prototype,"cancelDelete",[h],Object.getOwnPropertyDescriptor(y.prototype,"cancelDelete"),y.prototype),(0,n.default)(y.prototype,"confirmDelete",[b],Object.getOwnPropertyDescriptor(y.prototype,"confirmDelete"),y.prototype),(0,n.default)(y.prototype,"toggleArchive",[f],Object.getOwnPropertyDescriptor(y.prototype,"toggleArchive"),y.prototype),(0,n.default)(y.prototype,"toggleRead",[v],Object.getOwnPropertyDescriptor(y.prototype,"toggleRead"),y.prototype),y)
e.default=O
Ember._setComponentTemplate(P,O)})
define("msg-ui/components/primitives/event-listitem-actions",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","global-utils/utils/is-browser","@glimmer/component","ember-lifeline","msg-shared/utils/file-meta","global-utils/utils/file-size-formatter"],function(e,t,s,n,i,r,a,o,l,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c,p,d,u,g,h,b,f,v,y,_,E,w,M,k,C,T,x,P,O
const S=Ember.HTMLBars.template({id:"CQw9uK/T",block:'{"symbols":["dropdown","dropdown","assetLoader","dropdown","assetLoader","@deleteMessageEventModalState","@event","@showMessageEditForm","@isMercado","@shouldShowEditDelete","@enableMsgFwd","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@reactionsHoverTrackingName","@showSendReactionControls","@attachment","@classNames","&attrs","&default"],"statements":[[7,"div",false],[12,"class",[28,"concat",["msg-s-event-listitem__message-bubble",[28,"if",[[23,0,["isFocused"]]," msg-s-event-listitem__message-bubble--is-focused"],null]," ",[23,18,[]]],null]],[13,19],[3,"on",["mouseenter",[23,0,["toggleActionsOn"]]]],[3,"on",["focus",[23,0,["toggleActionsOn"]]]],[3,"on",["mouseleave",[23,0,["toggleActionsOff"]]]],[3,"on",["blur",[23,0,["toggleActionsOff"]]]],[8],[0,"\\n"],[4,"if",[[28,"global-helpers@or",[[23,0,["showActions"]],[23,0,["isFocused"]]],null]],null,{"statements":[[4,"if",[[23,17,[]]],null,{"statements":[[4,"if",[[23,11,[]]],null,{"statements":[[4,"if",[[23,16,[]]],null,{"statements":[[0,"          "],[7,"div",false],[12,"class",[29,["msg-s-event-listitem__actions-container",[28,"if",[[23,9,[]]," artdeco-card"],null]]]],[3,"ember-cli-pemberly-tracking@track-interaction",[[23,15,[]]],[["interactionType"],["HOVER"]]],[8],[0,"\\n            "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,5,["state","fulfilled"]]],null,{"statements":[[0,"                "],[5,"msg-rich-media@emoji/emoji-popular-list",[],[["@event","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideAllActionMenus","@hideOptionsMenu","@setMessageFocusState","@focusIn"],[[23,7,[]],[23,12,[]],[28,"fn",[[23,13,[]]],null],[28,"fn",[[23,14,[]]],null],[23,0,["hideAllActionMenus"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isOptionMenuOpen",false],null],[28,"fn",[[28,"mut",[[24,["isFocused"]]],null]],null],[28,"fn",[[28,"mut",[[24,["isFocused"]]],null],true],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"            "]],"parameters":[5]}],[0,"\\n\\n"],[0,"            "],[5,"artdeco-dropdown@artdeco-dropdown",[[12,"aria-label",[28,"t",["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[23,7,["from","familiarName"]],[23,7,["eventContent","attributedBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__reactions-options-ellipsis","right",[23,0,["dropDirection"]],[23,0,["isOptionMenuOpen"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isOptionMenuOpen"],null],[28,"fn",[[28,"mut",[[24,["isFocused"]]],null],true],null],[23,0,["hideAllActionMenus"]]]],{"statements":[[0,"\\n              "],[6,[23,4,["dropdown-trigger"]],[[12,"data-control-name","attempt_forward"]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,"t",["a11y_forward_message","msg-ui/components/primitives/event-listitem-actions"],[["senderName"],[[23,0,["event","from","familiarName"]]]]],[23,0,["setupDropMenu"]],[23,0,["setupDropMenu"]]]],{"statements":[[0,"\\n                "],[1,[28,"artdeco-icons-web@li-icon",null,[["a11y-text","class","size","type"],[[28,"t",["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[23,0,["event","from","familiarName"]],[23,0,["event","eventContent","attributedBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","ellipsis-horizontal-icon"]]],false],[0,"\\n              "]],"parameters":[]}],[0,"\\n              "],[7,"div",true],[10,"class","msg-s-event-listitem__options-content"],[8],[0,"\\n                "],[6,[23,4,["dropdown-content"]],[],[["@arrowDir"],["right"]],{"statements":[[0,"\\n                  "],[7,"ul",true],[8],[0,"\\n                    "],[7,"li",true],[8],[0,"\\n                      "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","forward_to_message"]],[["@itemSelected"],[[23,0,["forwardViaMessage"]]]],{"statements":[[0,"\\n                        "],[1,[28,"t",["i18n_forward_via_LI","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                      "]],"parameters":[]}],[0,"\\n                    "],[9],[0,"\\n                    "],[7,"li",true],[8],[0,"\\n                      "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","forward_to_email"]],[["@itemSelected"],[[23,0,["forwardViaEmail"]]]],{"statements":[[0,"\\n                        "],[1,[28,"t",["i18n_forward_via_email","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                      "]],"parameters":[]}],[0,"\\n                    "],[9],[0,"\\n"],[4,"if",[[23,10,[]]],null,{"statements":[[0,"                      "],[7,"li",true],[8],[0,"\\n                        "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[23,6,[]]]],{"statements":[[0,"\\n                          "],[1,[28,"t",["i18n_delete_message","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                        "]],"parameters":[]}],[0,"\\n                      "],[9],[0,"\\n"],[4,"if",[[23,8,[]]],null,{"statements":[[0,"                        "],[7,"li",true],[8],[0,"\\n                          "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[28,"fn",[[23,8,[]],[23,7,["eventContent","attributedBody"]],[23,7,[]]],null]]],{"statements":[[0,"\\n                            "],[1,[28,"t",["i18n_edit_message","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                          "]],"parameters":[]}],[0,"\\n                        "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"                  "],[9],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n            "]],"parameters":[4]}],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[7,"div",true],[10,"class","msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow-backer"],[8],[9],[0,"\\n          "],[7,"button",false],[12,"class",[29,["msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow ",[28,"if",[[23,9,[]],"artdeco-card"],null]]]],[12,"title",[28,"t",["i18n_forward_attachment_a11y","msg-ui/components/primitives/event-listitem-actions"],[["filename","senderName"],[[23,0,["filename"]],[23,7,["from","familiarName"]]]]]],[12,"type","button"],[3,"on",["click",[28,"fn",[[23,0,["forwardAttachment"]],[23,17,[]]],null]]],[8],[0,"\\n            "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","class","size","a11y-text"],["forward-icon","msg-s-event-listitem__forward-icon","small",[28,"t",["i18n_forward_attachment_a11y","msg-ui/components/primitives/event-listitem-actions"],[["filename","senderName"],[[23,0,["filename"]],[23,7,["from","familiarName"]]]]]]]],false],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"        "],[7,"button",false],[12,"class",[29,["\\n            msg-s-event-listitem__forward-attachment\\n            ",[28,"if",[[23,0,["isImage"]],"msg-s-event-listitem__forward-attachment--image","msg-s-event-listitem__forward-attachment--file"],null],"\\n          "]]],[12,"type","button"],[3,"on",["click",[28,"fn",[[23,0,["forwardAttachment"]],[23,17,[]]],null]]],[8],[0,"\\n          "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size","a11y-text"],["forward-icon","small",[28,"t",["i18n_forward_attachment_a11y","msg-ui/components/primitives/event-listitem-actions"],[["filename","senderName"],[[23,0,["filename"]],[23,7,["from","familiarName"]]]]]]]],false],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,16,[]]],null,{"statements":[[0,"        "],[7,"div",false],[12,"class",[29,["msg-s-event-listitem__actions-container",[28,"if",[[23,9,[]]," artdeco-card"],null]]]],[3,"ember-cli-pemberly-tracking@track-interaction",[[23,15,[]]],[["interactionType"],["HOVER"]]],[8],[0,"\\n          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,3,["state","fulfilled"]]],null,{"statements":[[0,"              "],[5,"msg-rich-media@emoji/emoji-popular-list",[],[["@event","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideAllActionMenus","@hideOptionsMenu","@setMessageFocusState","@focusIn"],[[23,7,[]],[23,12,[]],[28,"fn",[[23,13,[]]],null],[28,"fn",[[23,14,[]]],null],[23,0,["hideAllActionMenus"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isOptionMenuOpen",false],null],[28,"fn",[[28,"mut",[[24,["isFocused"]]],null]],null],[28,"fn",[[28,"mut",[[24,["isFocused"]]],null],true],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"          "]],"parameters":[3]}],[0,"\\n\\n"],[4,"if",[[23,11,[]]],null,{"statements":[[0,"            "],[5,"artdeco-dropdown@artdeco-dropdown",[[12,"aria-label",[28,"t",["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[23,7,["from","familiarName"]],[23,7,["eventContent","attributedBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__reactions-options-ellipsis","right",[23,0,["dropDirection"]],[23,0,["isOptionMenuOpen"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isOptionMenuOpen"],null],[28,"fn",[[28,"mut",[[24,["isFocused"]]],null],true],null],[23,0,["hideAllActionMenus"]]]],{"statements":[[0,"\\n              "],[6,[23,2,["dropdown-trigger"]],[[12,"data-control-name","attempt_forward"]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,"t",["a11y_forward_message","msg-ui/components/primitives/event-listitem-actions"],[["senderName"],[[23,0,["event","from","familiarName"]]]]],[23,0,["setupDropMenu"]],[23,0,["setupDropMenu"]]]],{"statements":[[0,"\\n                "],[1,[28,"artdeco-icons-web@li-icon",null,[["a11y-text","class","size","type"],[[28,"t",["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[23,0,["event","from","familiarName"]],[23,0,["event","eventContent","attributedBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","ellipsis-horizontal-icon"]]],false],[0,"\\n              "]],"parameters":[]}],[0,"\\n              "],[7,"div",true],[10,"class","msg-s-event-listitem__options-content"],[8],[0,"\\n                "],[6,[23,2,["dropdown-content"]],[],[["@arrowDir"],["right"]],{"statements":[[0,"\\n                  "],[7,"ul",true],[8],[0,"\\n                    "],[7,"li",true],[8],[0,"\\n                      "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","forward_to_message"]],[["@itemSelected"],[[23,0,["forwardViaMessage"]]]],{"statements":[[0,"\\n                        "],[1,[28,"t",["i18n_forward_via_LI","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                      "]],"parameters":[]}],[0,"\\n                    "],[9],[0,"\\n                    "],[7,"li",true],[8],[0,"\\n                      "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","forward_to_email"]],[["@itemSelected"],[[23,0,["forwardViaEmail"]]]],{"statements":[[0,"\\n                        "],[1,[28,"t",["i18n_forward_via_email","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                      "]],"parameters":[]}],[0,"\\n                    "],[9],[0,"\\n"],[4,"if",[[23,10,[]]],null,{"statements":[[0,"                      "],[7,"li",true],[8],[0,"\\n                        "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[23,6,[]]]],{"statements":[[0,"\\n                          "],[1,[28,"t",["i18n_delete_message","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                        "]],"parameters":[]}],[0,"\\n                      "],[9],[0,"\\n                      "],[7,"li",true],[8],[0,"\\n                        "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[28,"fn",[[23,8,[]],[23,7,["eventContent","attributedBody"]],[23,7,[]]],null]]],{"statements":[[0,"\\n                          "],[1,[28,"t",["i18n_edit_message","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                        "]],"parameters":[]}],[0,"\\n                      "],[9],[0,"\\n"]],"parameters":[]},null],[0,"                  "],[9],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n            "]],"parameters":[2]}],[0,"\\n"]],"parameters":[]},null],[0,"        "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,11,[]]],null,{"statements":[[0,"          "],[7,"div",true],[10,"class","msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow-backer"],[8],[9],[0,"\\n          "],[5,"artdeco-dropdown@artdeco-dropdown",[[12,"aria-label",[28,"t",["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[23,0,["event","from","familiarName"]],[23,0,["event","eventContent","attributedBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],[[29,["msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__options-ellipsis",[28,"if",[[23,9,[]]," artdeco-card"],null]]],"right",[23,0,["dropDirection"]],[23,0,["isOptionMenuOpen"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isOptionMenuOpen"],null],[28,"fn",[[28,"mut",[[24,["isFocused"]]],null],true],null],[28,"fn",[[28,"mut",[[24,["isFocused"]]],null],false],null]]],{"statements":[[0,"\\n            "],[6,[23,1,["dropdown-trigger"]],[[12,"data-control-name","attempt_forward"]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,"t",["a11y_forward_message","msg-ui/components/primitives/event-listitem-actions"],[["senderName"],[[23,0,["event","from","familiarName"]]]]],[23,0,["setupDropMenu"]],[23,0,["setupDropMenu"]]]],{"statements":[[0,"\\n              "],[1,[28,"artdeco-icons-web@li-icon",null,[["a11y-text","class","size","type"],[[28,"t",["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[23,0,["event","from","familiarName"]],[23,0,["event","eventContent","attributedBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","ellipsis-horizontal-icon"]]],false],[0,"\\n            "]],"parameters":[]}],[0,"\\n            "],[7,"div",true],[10,"class","msg-s-event-listitem__options-content"],[8],[0,"\\n              "],[6,[23,1,["dropdown-content"]],[],[["@arrowDir"],["right"]],{"statements":[[0,"\\n                "],[7,"ul",true],[8],[0,"\\n                  "],[7,"li",true],[8],[0,"\\n                    "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","forward_to_message"]],[["@itemSelected"],[[23,0,["forwardViaMessage"]]]],{"statements":[[0,"\\n                      "],[1,[28,"t",["i18n_forward_via_LI","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                    "]],"parameters":[]}],[0,"\\n                  "],[9],[0,"\\n                  "],[7,"li",true],[8],[0,"\\n                    "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[12,"data-control-name","forward_to_email"]],[["@itemSelected"],[[23,0,["forwardViaEmail"]]]],{"statements":[[0,"\\n                      "],[1,[28,"t",["i18n_forward_via_email","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                    "]],"parameters":[]}],[0,"\\n                  "],[9],[0,"\\n"],[4,"if",[[23,10,[]]],null,{"statements":[[0,"                    "],[7,"li",true],[8],[0,"\\n                      "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[23,6,[]]]],{"statements":[[0,"\\n                        "],[1,[28,"t",["i18n_delete_message","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                      "]],"parameters":[]}],[0,"\\n                    "],[9],[0,"\\n                    "],[7,"li",true],[8],[0,"\\n                      "],[5,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[28,"fn",[[23,8,[]],[23,7,["eventContent","attributedBody"]],[23,7,[]]],null]]],{"statements":[[0,"\\n                        "],[1,[28,"t",["i18n_edit_message","msg-ui/components/primitives/event-listitem-actions"],null],false],[0,"\\n                      "]],"parameters":[]}],[0,"\\n                    "],[9],[0,"\\n"]],"parameters":[]},null],[0,"                "],[9],[0,"\\n              "]],"parameters":[]}],[0,"\\n            "],[9],[0,"\\n          "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},null],[0,"\\n  "],[14,20],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/primitives/event-listitem-actions.hbs"}})
let I=(c=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),p=Ember.inject.service("msg-data@data-manager"),d=Ember.inject.service("i18n"),u=Ember.inject.service("global-services@window"),g=Ember._tracked,h=Ember._tracked,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,_=Ember._action,E=Ember._action,w=Ember._action,M=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"msgOverlay",k,this);(0,t.default)(this,"msgDataManager",C,this);(0,t.default)(this,"i18n",T,this);(0,t.default)(this,"windowService",x,this);(0,s.default)(this,"isOptionMenuOpen",!1);(0,s.default)(this,"dropDirection","top");(0,t.default)(this,"showActions",P,this);(0,t.default)(this,"isFocused",O,this)}willDestroy(){(0,o.runDisposables)(this)}toggleActionsOn(){this.toggleActionsOnTask=(0,o.runTask)(this,()=>{this.isDestroying||Ember.set(this,"showActions",!0)},300)}toggleActionsOff(){this.toggleActionsOnTask&&(0,o.cancelTask)(this.toggleActionsOnTask)
Ember.set(this,"showActions",!1)}_closeOptionDropdown(){Ember.set(this,"isOptionMenuOpen",!1)}_showRecallErrorToast(){const e=this.i18n.lookupTranslation("component","msg-ui@primitives/event-listitem-actions","i18n_recall_generic_error")()
this.persistentToastManager.error({message:e})}setupDropMenu(e){const t=this.dropDirection,s=e.target.closest(".msg-s-message-list"),n=e.target,i=.5*s.offsetHeight>n.getBoundingClientRect().y-s.getBoundingClientRect().y?"bottom":"top"
i!==t&&Ember.set(this,"dropDirection",i)}forwardViaMessage(){this.msgOverlay.triggerNewConversation({forwardedEvent:this.args.event})
this._closeOptionDropdown()}forwardViaEmail(){const{event:e}=this.args,t=jSecure.htmlUnencode(this.i18n.lookupTranslation("component","msg-ui@primitives/event-listitem-actions",e.isInMail?"i18n_forwarded_inmail_message_preamble":"i18n_forwarded_message_preamble")()),s=Ember.get(e,"from.fullName"),n=`linkedin.com/in/${Ember.get(e,"from.miniProfile.publicIdentifier")}`,i=jSecure.htmlUnencode(this.i18n.lookupTranslation("component","msg-ui@primitives/event-listitem-actions","i18n_forwarded_message_header")([{originalSender:s,originalSenderProfileURL:n}])),r=Ember.get(e,"eventContent.subject"),a=Ember.get(e,"eventContent.attributedBody.text")
let o="mailto:?",l=`${t}\r\n\r\n${i}\r\n\r\n`
if(e.isInMail&&r){o+=`subject=${encodeURIComponent(`FWD: ${r}`)}&`
l+=`${r}\r\n\r\n`}l+=a
o+=`body=${encodeURIComponent(l)}`
this.windowService.open(o,"")
this._closeOptionDropdown()}forwardAttachment(e){const t={}
Ember.set(e,"messageReference",Ember.get(this,"args.event.entityUrn"))
void 0===Ember.get(e,"isImage")&&(t.isImage=(0,l.isSupportedImageFile)(Ember.get(e,"mediaType"),Ember.get(e,"name")))
Ember.get(e,"mediaTypeExtension")||(t.mediaTypeExtension=(0,l.mediaTypeExtension)(Ember.get(e,"mediaType")))
Ember.get(e,"formattedSize")||(t.formattedSize=(0,m.default)(Ember.get(e,"byteSize"),this.i18n))
Ember.setProperties(e,t)
const s={forwardedAttachments:[e]}
this.msgOverlay.triggerNewConversation(s)}hideAllActionMenus(e){if(r.default){const t=document.querySelector(".msg-s-event-listitem__message-bubble--is-focused .msg-s-event-listitem__actions-container")
if(e&&e.target&&t&&t.contains(e.target)&&e.relatedTarget&&t.contains(e.relatedTarget))return
Ember.setProperties(this,{isOptionMenuOpen:!1,isFocused:!1})}}},k=(0,n.default)(M.prototype,"msgOverlay",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(M.prototype,"msgDataManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(M.prototype,"i18n",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,n.default)(M.prototype,"windowService",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(M.prototype,"showActions",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=(0,n.default)(M.prototype,"isFocused",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(M.prototype,"toggleActionsOn",[b],Object.getOwnPropertyDescriptor(M.prototype,"toggleActionsOn"),M.prototype),(0,n.default)(M.prototype,"toggleActionsOff",[f],Object.getOwnPropertyDescriptor(M.prototype,"toggleActionsOff"),M.prototype),(0,n.default)(M.prototype,"setupDropMenu",[v],Object.getOwnPropertyDescriptor(M.prototype,"setupDropMenu"),M.prototype),(0,n.default)(M.prototype,"forwardViaMessage",[y],Object.getOwnPropertyDescriptor(M.prototype,"forwardViaMessage"),M.prototype),(0,n.default)(M.prototype,"forwardViaEmail",[_],Object.getOwnPropertyDescriptor(M.prototype,"forwardViaEmail"),M.prototype),(0,n.default)(M.prototype,"forwardAttachment",[E],Object.getOwnPropertyDescriptor(M.prototype,"forwardAttachment"),M.prototype),(0,n.default)(M.prototype,"hideAllActionMenus",[w],Object.getOwnPropertyDescriptor(M.prototype,"hideAllActionMenus"),M.prototype),M)
e.default=I
Ember._setComponentTemplate(S,I)})
define("msg-ui/components/primitives/event-listitem-avatar",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"mGzxGIG5",block:'{"symbols":["@sender","@size","@showPresence"],"statements":[[5,"ember-engines@link-to-external",[[12,"class","msg-s-event-listitem__link"],[3,"ember-cli-pemberly-tracking@track-interaction",["view_profile"]]],[["@route","@model"],["profile.view",[23,1,["miniProfile","publicIdentifier"]]]],{"statements":[[0,"\\n  "],[7,"span",true],[10,"class","a11y-text"],[8],[0,"\\n    "],[1,[28,"t",["i18n_view_profile_a11y","msg-ui/components/primitives/event-listitem-avatar"],[["firstName"],[[23,1,["firstName"]]]]],false],[0,"\\n  "],[9],[0,"\\n"],[4,"if",[[23,3,[]]],null,{"statements":[[0,"    "],[5,"presence@entity-with-presence",[],[["@alt","@title","@class","@miniProfile","@size"],[[23,1,["fullName"]],[23,1,["fullName"]],"msg-s-event-listitem__profile-picture",[23,1,["miniProfile"]],[23,2,[]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[5,"ember-vector-images@lazy-image",[],[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[23,1,["picture"]],[23,1,["fullName"]],[23,1,["fullName"]],[28,"concat",["msg-s-event-listitem__profile-picture EntityPhoto-circle-",[23,2,[]]],null],100,100,[23,1,["ghostType"]]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"msg-ui/components/primitives/event-listitem-avatar.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/primitives/event-listitem-no-op",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"zO+E+0YF",block:'{"symbols":["&default"],"statements":[[14,1]],"hasEval":false}',meta:{moduleName:"msg-ui/components/primitives/event-listitem-no-op.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/primitives/event-listitem-system-event",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],function(e,t,s,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l
const m=Ember.HTMLBars.template({id:"l4TwU4df",block:'{"symbols":["@event"],"statements":[[7,"p",true],[10,"class","t-12 t-black--light t-normal"],[8],[0,"\\n"],[4,"if",[[23,1,["isSystemMessageBodyRenderFormat"]]],null,{"statements":[[0,"    "],[5,"rich-text@attributed-text",[],[["@attributedText","@class","@tagName"],[[23,1,["eventContent","attributedBody"]],"msg-s-event-listitem__attributed-text--system","span"]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["isParticipantChange"]]],null,{"statements":[[4,"if",[[23,0,["isAddParticipantEvent"]]],null,{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["addedParticipantNames","length"]],1],null]],null,{"statements":[[0,"        "],[1,[28,"t",[[28,"if",[[23,0,["sender","isOtherUser"]],"i18n_other_user_added_single_participant_to_conversation","i18n_you_added_single_participant_to_conversation"],null],"msg-ui/components/primitives/event-listitem-system-event"],[["usersName","addedUserName"],[[23,0,["sender","fullName"]],[23,1,["addedParticipantNames","firstObject"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[28,"t",[[28,"if",[[23,0,["sender","isOtherUser"]],"i18n_other_user_added_multiple_participants_to_conversation","i18n_you_added_multiple_participants_to_conversation"],null],"msg-ui/components/primitives/event-listitem-system-event"],[["usersName","addedUserNames"],[[23,0,["sender","fullName"]],[23,1,["addedParticipantNames"]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,0,["isSingleParticipantJoinEvent"]]],null,{"statements":[[0,"      "],[1,[28,"t",[[28,"if",[[23,0,["sender","isOtherUser"]],"i18n_other_user_joined_conversation","i18n_you_joined_conversation"],null],"msg-ui/components/primitives/event-listitem-system-event"],[["joinedUserName"],[[23,1,["addedParticipantNames","firstObject"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["participantLeft"]]],null,{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["removedParticipantNames","length"]],1],null]],null,{"statements":[[0,"        "],[1,[28,"t",[[28,"if",[[23,0,["sender","isOtherUser"]],"i18n_single_other_user_left_conversation","i18n_you_left_conversation"],null],"msg-ui/components/primitives/event-listitem-system-event"],[["removedUserName"],[[23,1,["removedParticipantNames","firstObject"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[28,"t",["i18n_multiple_other_users_left_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removedUserNames"],[[23,1,["removedParticipantNames"]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[28,"msg-ui@is-authenticated-user",[[23,0,["removedUser"]]],null]],null,{"statements":[[0,"      "],[1,[28,"t",["i18n_you_were_removed","msg-ui/components/primitives/event-listitem-system-event"],[["removersName"],[[23,0,["sender","name"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["removedParticipantNames","length"]],1],null]],null,{"statements":[[0,"        "],[1,[28,"t",[[28,"if",[[23,0,["sender","isLoggedInUser"]],"i18n_you_removed_single_participant_from_conversation","i18n_other_user_removedd_single_participant_from_conversation"],null],"msg-ui/components/primitives/event-listitem-system-event"],[["removersName","removedUserName"],[[23,0,["sender","name"]],[23,1,["removedParticipantNames","firstObject"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[28,"t",[[28,"if",[[23,0,["sender","isLoggedInUser"]],"i18n_you_removed_multiple_participants_from_conversation","i18n_other_user_removed_multiple_participants_from_conversation"],null],"msg-ui/components/primitives/event-listitem-system-event"],[["removersName","removedUserNames"],[[23,0,["sender","fullName"]],[23,1,["removedParticipantNames"]]]]],false],[0,"\\n"]],"parameters":[]}],[0,"    "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[0,"  "]],"parameters":[]},null]],"parameters":[]}],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/primitives/event-listitem-system-event.hbs"}})
let c=(a=Ember.inject.service("authentication@authenticated-user"),o=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",l,this)
const e=Ember.get(this.args,"event.from"),s=Ember.get(this.args,"event.eventContent.addedParticipants"),n=s&&1===Ember.get(s,"length")&&Ember.get(e,"entityUrn")===Ember.get(s,"firstObject.entityUrn"),i=Ember.get(this.args,"event.eventContent.removedParticipants.firstObject")
Ember.setProperties(this,{sender:e,removedUser:i,isSingleParticipantJoinEvent:n,isAddParticipantEvent:s&&!!Ember.get(s,"length")&&!n,participantLeft:i&&Ember.get(e,"entityUrn")===Ember.get(i,"entityUrn")})}},l=(0,n.default)(o.prototype,"authenticatedUser",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=c
Ember._setComponentTemplate(m,c)})
define("msg-ui/components/primitives/event-listitem-user-event",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","global-utils/utils/url","global-utils/utils/file-size-formatter","global-utils/utils/logger","global-utils/utils/is-browser","msg-data/utils/spinmail/sponsored-action-tracking","msg-shared/utils/constants","msg-shared/utils/file-meta","msg-ui/helpers/is-authenticated-user","msg-ui/utils/virtual-meeting-constants","msg-shared/utils/decorate-attributed-body"],function(e,t,s,n,i,r,a,o,l,m,c,p,d,u,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,f,v,y,_,E,w,M,k,C,T,x,P,O,S,I,D,R,A,j,N,F,L,U,q,z,B,H,W,G,V,K,Q,$,Y,J,Z,X,ee,te,se,ne,ie,re,ae,oe,le,me,ce,pe
const de=Ember.HTMLBars.template({id:"jdkECnkK",block:'{"symbols":["assetLoader","assetLoader","assetLoader","mediaAttachment","assetLoader","assetLoader","mediaAttachment","assetLoader","assetLoader","assetLoader","attachment","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","dropdown"],"statements":[[0,"\\n"],[4,"if",[[23,0,["event","groupName"]]],null,{"statements":[[0,"  "],[7,"p",true],[10,"class","msg-s-event-listitem--system t-12 t-black--light t-normal"],[8],[0,"\\n    "],[1,[28,"t",["i18n_users_of_linkedin_group","msg-ui/components/primitives/event-listitem-user-event"],[["group"],[[23,0,["event","groupName"]]]]],false],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showInMailHeader"]]],null,{"statements":[[0,"  "],[7,"div",true],[10,"class","msg-s-event-listitem__inmail-header t-12 t-black--light"],[8],[0,"\\n    "],[7,"span",true],[8],[0,"\\n"],[4,"if",[[23,0,["event","isSponsoredMessage"]]],null,{"statements":[[0,"        "],[7,"b",true],[8],[0,"\\n          "],[1,[28,"if",[[23,0,["event","eventContent","customContent","advertiserLabel"]],[23,0,["event","eventContent","customContent","advertiserLabel"]],[28,"t",["i18n_sponsored","msg-ui/components/primitives/event-listitem-user-event"],null]],null],false],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["event","isRecruiterInMail"]]],null,{"statements":[[0,"        "],[1,[28,"t",["i18n_sent_with_recruiter","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["event","isSalesInMail"]]],null,{"statements":[[0,"        "],[1,[28,"t",["i18n_sent_with_sales_navigator","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[1,[28,"t",["i18n_sent_with_premium","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n      "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[0,"    "],[9],[0,"\\n"],[4,"unless",[[28,"global-helpers@or",[[23,0,["event","isSponsoredMessage"]],[23,0,["event","from","isLoggedInUser"]]],null]],null,{"statements":[[0,"      "],[5,"artdeco-dropdown@artdeco-dropdown",[[12,"class","msg-s-event-listitem__inmail-header-menu"]],[["@isOpen","@onVisibilityChange","@justification"],[[23,0,["isInMailMenuOpen"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isInMailMenuOpen"],null],"right"]],{"statements":[[0,"\\n"],[4,"if",[[23,0,["event","isRecruiterInMail"]]],null,{"statements":[[0,"          "],[6,[23,24,["dropdown-trigger"]],[[12,"class","msg-s-event-listitem__inmail-header-menu-toggle"],[3,"ember-cli-pemberly-tracking@track-interaction",["inmailheader_lts_open_overflow"]]],[[],[]],{"statements":[[0,"\\n            "],[1,[28,"artdeco-icons-web@li-icon",null,[["a11y-text","type","size","color","class"],[[28,"t",["a11y_open_inmail_menu","msg-ui/components/primitives/event-listitem-user-event"],null],"ellipsis-horizontal-icon","small",true,"t-black--light"]]],false],[0,"\\n          "]],"parameters":[]}],[0,"\\n          "],[6,[23,24,["dropdown-content"]],[],[["@arrowDir"],["right"]],{"statements":[[0,"\\n            "],[7,"ul",true],[8],[0,"\\n              "],[7,"li",true],[8],[0,"\\n                "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[3,"ember-cli-pemberly-tracking@track-interaction",["inmailheader_lts_click_learnmore"]]],[["@itemSelected"],[[28,"fn",[[23,0,["openUrl"]],"/help/linkedin/answer/127804"],null]]],{"statements":[[0,"\\n                  "],[1,[28,"t",["i18n_learn_more_about_recruiter","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n              "],[7,"li",true],[8],[0,"\\n                "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[3,"ember-cli-pemberly-tracking@track-interaction",["inmailheader_lts_click_settings"]]],[["@itemSelected"],[[28,"fn",[[23,0,["openUrl"]],"/psettings/message-preferences"],null]]],{"statements":[[0,"\\n                  "],[1,[28,"t",["i18n_manage_inmail_settings","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n          "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["event","isSalesInMail"]]],null,{"statements":[[0,"          "],[6,[23,24,["dropdown-trigger"]],[[12,"class","msg-s-event-listitem__inmail-header-menu-toggle"],[3,"ember-cli-pemberly-tracking@track-interaction",["inmailheader_lss_open_overflow"]]],[[],[]],{"statements":[[0,"\\n            "],[1,[28,"artdeco-icons-web@li-icon",null,[["a11y-text","type","size","color","class"],[[28,"t",["a11y_open_inmail_menu","msg-ui/components/primitives/event-listitem-user-event"],null],"ellipsis-horizontal-icon","small",true,"t-black--light"]]],false],[0,"\\n          "]],"parameters":[]}],[0,"\\n          "],[6,[23,24,["dropdown-content"]],[],[["@arrowDir"],["right"]],{"statements":[[0,"\\n            "],[7,"ul",true],[8],[0,"\\n              "],[7,"li",true],[8],[0,"\\n                "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[3,"ember-cli-pemberly-tracking@track-interaction",["inmailheader_lss_click_learnmore"]]],[["@itemSelected"],[[28,"fn",[[23,0,["openUrl"]],"/help/linkedin/answer/127804"],null]]],{"statements":[[0,"\\n                  "],[1,[28,"t",["i18n_learn_more_about_sales_navigator","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n              "],[7,"li",true],[8],[0,"\\n                "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[3,"ember-cli-pemberly-tracking@track-interaction",["inmailheader_lss_click_settings"]]],[["@itemSelected"],[[28,"fn",[[23,0,["openUrl"]],"/psettings/message-preferences"],null]]],{"statements":[[0,"\\n                  "],[1,[28,"t",["i18n_manage_inmail_settings","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n          "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[6,[23,24,["dropdown-trigger"]],[[12,"class","msg-s-event-listitem__inmail-header-menu-toggle"],[3,"ember-cli-pemberly-tracking@track-interaction",["inmailheader_premium_open_overflow"]]],[[],[]],{"statements":[[0,"\\n            "],[1,[28,"artdeco-icons-web@li-icon",null,[["a11y-text","type","size","color","class"],[[28,"t",["a11y_open_inmail_menu","msg-ui/components/primitives/event-listitem-user-event"],null],"ellipsis-horizontal-icon","small",true,"t-black--light"]]],false],[0,"\\n          "]],"parameters":[]}],[0,"\\n          "],[6,[23,24,["dropdown-content"]],[],[["@arrowDir"],["right"]],{"statements":[[0,"\\n            "],[7,"ul",true],[8],[0,"\\n              "],[7,"li",true],[8],[0,"\\n                "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[3,"ember-cli-pemberly-tracking@track-interaction",["inmailheader_premium_click_learnmore"]]],[["@itemSelected"],[[28,"fn",[[23,0,["openUrl"]],"/help/linkedin/answer/127804"],null]]],{"statements":[[0,"\\n                  "],[1,[28,"t",["i18n_learn_more_about_premium","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n              "],[7,"li",true],[8],[0,"\\n                "],[5,"artdeco-dropdown@artdeco-dropdown-item",[[3,"ember-cli-pemberly-tracking@track-interaction",["inmailheader_premium_click_settings"]]],[["@itemSelected"],[[28,"fn",[[23,0,["openUrl"]],"/psettings/message-preferences"],null]]],{"statements":[[0,"\\n                  "],[1,[28,"t",["i18n_manage_inmail_settings","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n                "]],"parameters":[]}],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n          "]],"parameters":[]}],[0,"\\n        "]],"parameters":[]}]],"parameters":[]}],[0,"      "]],"parameters":[24]}],[0,"\\n"]],"parameters":[]},null],[0,"  "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["event","eventContent","recalledAt"]]],null,{"statements":[[0,"  "],[7,"p",true],[10,"class","msg-s-event-listitem__body--recalled msg-s-event-listitem__body t-14 t-black--light t-normal"],[8],[0,"\\n    "],[1,[28,"t",["i18n_message_deleted","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["event","eventContent","customContent","media","gif"]]],null,{"statements":[[4,"if",[[23,0,["showSendReactionControls"]]],null,{"statements":[[0,"    "],[5,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],false,[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],false,false,[23,0,["showSendReactionControls"]],[23,0,["reactionsHoverTrackingName"]]]],{"statements":[[0,"\\n      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],{"statements":[[0,"\\n"],[4,"if",[[23,23,["state","fulfilled"]]],null,{"statements":[[0,"          "],[5,"tenor-gif@gif-image",[],[["@classNames","@imgClass","@maxWidth","@size","@fallback","@mediaObject"],["msg-s-event-listitem__gif","tenor-gif__rounded-image",220,"large",[23,0,["event","eventContent","attributedBody","text"]],[23,0,["event","eventContent","customContent","media"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"      "]],"parameters":[23]}],[0,"\\n    "]],"parameters":[]}],[0,"\\n\\n"],[4,"if",[[23,0,["showReactionSummaries"]]],null,{"statements":[[0,"      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,22,["state","fulfilled"]]],null,{"statements":[[0,"          "],[5,"msg-rich-media@emoji/msg-reactions",[],[["@event","@isOverlay"],[[23,0,["event"]],[23,0,["isOverlay"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"      "]],"parameters":[22]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],{"statements":[[0,"\\n"],[4,"if",[[23,21,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"tenor-gif@gif-image",[],[["@classNames","@imgClass","@maxWidth","@size","@fallback","@mediaObject"],["msg-s-event-listitem__gif","tenor-gif__rounded-image",220,"large",[23,0,["event","eventContent","attributedBody","text"]],[23,0,["event","eventContent","customContent","media"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[21]}],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,0,["event","eventContent","sticker"]]],null,{"statements":[[0,"  "],[5,"ember-vector-images@custom-image",[],[["@image","@class","@alt","@desiredWidth"],[[23,0,["event","eventContent","sticker","image"]],"msg-s-event-listitem__sticker",[28,"t",["i18n_sticker","msg-ui/components/primitives/event-listitem-user-event"],[["senderName"],[[23,0,["event","from","familiarName"]]]]],150]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["locationSharePreview"]]],null,{"statements":[[4,"if",[[23,0,["showSendReactionControls"]]],null,{"statements":[[0,"    "],[5,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],false,[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],false,false,[23,0,["showSendReactionControls"]],[23,0,["reactionsHoverTrackingName"]]]],{"statements":[[0,"\\n      "],[7,"div",true],[10,"class","msg-s-event-listitem__url-preview-wrapper mv1"],[8],[0,"\\n        "],[5,"ember-cli-pemberly-tracking@shared/external-link",[[12,"data-control-name","open_sent_location"]],[["@href","@target","@class"],[[23,0,["urlToUnroll"]],"_blank","msg-s-event-listitem__url-preview display-flex flex-column"]],{"statements":[[0,"\\n          "],[7,"div",true],[10,"class","msg-s-event-listitem__url-preview-img-wrapper msg-s-event-listitem__url-preview-img-wrapper--location"],[8],[0,"\\n"],[0,"            "],[7,"div",true],[10,"class","msg-s-event-listitem__url-preview-img"],[11,"style",[28,"global-helpers@css-style",null,[["background-image"],[[28,"concat",["url(",[23,0,["locationSharePreview","imageUrl"]],")"],null]]]]],[8],[9],[0,"\\n            "],[7,"span",true],[10,"class","a11y-text"],[8],[0,"\\n              "],[1,[28,"t",["i18n_bing_maps","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n          "],[7,"article",true],[10,"class","msg-s-event-listitem__url-preview-description p2"],[8],[0,"\\n            "],[7,"h2",true],[10,"class","msg-s-event-listitem__url-preview-headline t-14 t-black t-bold"],[8],[0,"\\n              "],[1,[23,0,["locationSharePreview","title"]],false],[0,"\\n            "],[9],[0,"\\n            "],[7,"h3",true],[10,"class","msg-s-event-listitem__url-preview-byline t-14 t-black--light t-normal"],[8],[0,"\\n              "],[1,[28,"t",["i18n_bing_maps","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n        "]],"parameters":[]}],[0,"\\n      "],[9],[0,"\\n    "]],"parameters":[]}],[0,"\\n\\n"],[4,"if",[[23,0,["showReactionSummaries"]]],null,{"statements":[[0,"      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,20,["state","fulfilled"]]],null,{"statements":[[0,"          "],[5,"msg-rich-media@emoji/msg-reactions",[],[["@event","@isOverlay"],[[23,0,["event"]],[23,0,["isOverlay"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"      "]],"parameters":[20]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"    "],[7,"div",true],[10,"class","msg-s-event-listitem__url-preview-wrapper mv1"],[8],[0,"\\n      "],[5,"ember-cli-pemberly-tracking@shared/external-link",[[12,"data-control-name","open_sent_location"]],[["@href","@target","@class"],[[23,0,["urlToUnroll"]],"_blank","msg-s-event-listitem__url-preview display-flex flex-column"]],{"statements":[[0,"\\n        "],[7,"div",true],[10,"class","msg-s-event-listitem__url-preview-img-wrapper msg-s-event-listitem__url-preview-img-wrapper--location"],[8],[0,"\\n"],[0,"          "],[7,"div",true],[10,"class","msg-s-event-listitem__url-preview-img"],[11,"style",[28,"global-helpers@css-style",null,[["background-image"],[[28,"concat",["url(",[23,0,["locationSharePreview","imageUrl"]],")"],null]]]]],[8],[9],[0,"\\n          "],[7,"span",true],[10,"class","a11y-text"],[8],[0,"\\n            "],[1,[28,"t",["i18n_bing_maps","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n        "],[7,"article",true],[10,"class","msg-s-event-listitem__url-preview-description p2"],[8],[0,"\\n          "],[7,"h2",true],[10,"class","msg-s-event-listitem__url-preview-headline t-14 t-black t-bold"],[8],[0,"\\n            "],[1,[23,0,["locationSharePreview","title"]],false],[0,"\\n          "],[9],[0,"\\n          "],[7,"h3",true],[10,"class","msg-s-event-listitem__url-preview-byline t-14 t-black--light t-normal"],[8],[0,"\\n            "],[1,[28,"t",["i18n_bing_maps","msg-ui/components/primitives/event-listitem-user-event"],null],false],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n      "]],"parameters":[]}],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,0,["shouldObfuscateMessage"]]],null,{"statements":[[4,"if",[[23,0,["showSendReactionControls"]]],null,{"statements":[[0,"      "],[5,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showMessageEditForm","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],false,[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],false,[23,0,["showSendReactionControls"]],false,[23,0,["reactionsHoverTrackingName"]]]],{"statements":[[0,"\\n        "],[7,"div",true],[10,"class","msg-s-event-listitem__obfuscated-message-card mt2 mr2 mb1 pv2 ph3 t-14"],[8],[0,"\\n          "],[1,[23,0,["event","obfuscatedMessageWarning","text"]],false],[0,"\\n\\n          "],[7,"button",false],[12,"class","t-14 t-black t-bold"],[12,"data-control-name","inline_warning_show"],[12,"aria-label",[23,0,["event","viewObfuscatedMessageCTAText"]]],[12,"type","button"],[3,"on",["click",[23,0,["showObfuscatedMessage"]]]],[8],[0,"\\n            "],[1,[23,0,["event","viewObfuscatedMessageCTAText"]],false],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n      "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[7,"div",true],[10,"class","msg-s-event-listitem__obfuscated-message-card mt2 mr2 mb1 pv2 ph3 t-14"],[8],[0,"\\n        "],[1,[23,0,["event","obfuscatedMessageWarning","text"]],false],[0,"\\n\\n        "],[7,"button",false],[12,"class","t-14 t-black t-bold"],[12,"data-control-name","inline_warning_show"],[12,"aria-label",[23,0,["event","viewObfuscatedMessageCTAText"]]],[12,"type","button"],[3,"on",["click",[23,0,["showObfuscatedMessage"]]]],[8],[0,"\\n          "],[1,[23,0,["event","viewObfuscatedMessageCTAText"]],false],[0,"\\n        "],[9],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[23,0,["showReactionSummaries"]]],null,{"statements":[[0,"      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,19,["state","fulfilled"]]],null,{"statements":[[0,"          "],[5,"msg-rich-media@emoji/msg-reactions",[],[["@event","@isOverlay"],[[23,0,["event"]],[23,0,["isOverlay"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"      "]],"parameters":[19]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@and",[[23,0,["event","eventContent","storyItemUrn"]],[23,0,["displayMessagingStoryBeforeTextBody"]]],null]],null,{"statements":[[0,"        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,18,["state","fulfilled"]]],null,{"statements":[[0,"            "],[5,"msg-rich-media@messaging-story",[],[["@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],[[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],false,[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],[23,0,["showSendReactionControls"]],false,[23,0,["showSendReactionControls"]],false,[23,0,["reactionsHoverTrackingName"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[18]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["decoratedContent"]]],null,{"statements":[[0,"        "],[5,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-fwd-enabled",[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],[23,0,["enableMsgFwd"]],[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],[23,0,["shouldShowEditDelete"]],[23,0,["showMessageEditForm"]],[23,0,["showSendReactionControls"]],[23,0,["reactionsHoverTrackingName"]]]],{"statements":[[0,"\\n"],[4,"if",[[23,0,["event","isInMail"]]],null,{"statements":[[4,"if",[[23,0,["event","eventContent","subject"]]],null,{"statements":[[0,"              "],[7,"h3",true],[10,"class","msg-s-event-listitem__subject t-14 t-black--light t-bold"],[8],[0,"\\n                "],[1,[23,0,["event","eventContent","subject"]],false],[0,"\\n              "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,17,["state","fulfilled"]]],null,{"statements":[[0,"              "],[7,"p",true],[11,"class",[29,["msg-s-event-listitem__body t-14 t-black--light t-normal\\n                  ",[28,"if",[[28,"msg-rich-media@is-emoji-only-content",[[23,0,["event","eventContent","attributedBody"]]],null]," t-32"],null]]]],[8],[5,"msg-ui@primitives/render-chunk",[],[["@decoratedContent","@event","@fireBodyLinkTracking"],[[23,0,["decoratedContent"]],[23,0,["event"]],[28,"action",[[23,0,[]],"fireBodyLinkTracking"],null]]]],[4,"if",[[23,0,["event","eventContent","lastEditedAt"]]],null,{"statements":[[7,"span",true],[10,"class","t-14 t-black--light t-normal pl1"],[8],[1,[28,"t",["i18n_message_edited","msg-ui/components/primitives/event-listitem-user-event"],null],false],[9]],"parameters":[]},null],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[7,"p",true],[10,"class","msg-s-event-listitem__body t-14 t-black--light t-normal"],[8],[5,"msg-ui@primitives/render-chunk",[],[["@decoratedContent","@event","@fireBodyLinkTracking"],[[23,0,["decoratedContent"]],[23,0,["event"]],[28,"action",[[23,0,[]],"fireBodyLinkTracking"],null]]]],[9],[0,"\\n"]],"parameters":[]}],[0,"          "]],"parameters":[17]}],[0,"\\n        "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[28,"global-helpers@and",[[23,0,["event","eventContent","storyItemUrn"]],[23,0,["displayMessagingStoryAfterTextBody"]]],null]],null,{"statements":[[0,"        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,16,["state","fulfilled"]]],null,{"statements":[[0,"            "],[5,"msg-rich-media@messaging-story",[],[["@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@showSendReactionControls","@shouldShowEditDelete","@trackingPrefix","@reactionsHoverTrackingName"],[[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],false,[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],[23,0,["showSendReactionControls"]],false,[23,0,["showSendReactionControls"]],false,[23,0,["trackingPrefix"]],[23,0,["reactionsHoverTrackingName"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[16]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n\\n"],[4,"if",[[23,0,["event","hasForward"]]],null,{"statements":[[4,"if",[[23,0,["showSendReactionControls"]]],null,{"statements":[[0,"        "],[5,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],false,[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],false,false,[23,0,["showSendReactionControls"]],[23,0,["reactionsHoverTrackingName"]]]],{"statements":[[0,"\\n          "],[5,"msg-ui@forward-preview",[],[["@forwardedContent"],[[23,0,["event","eventContent","customContent"]]]]],[0,"\\n        "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[5,"msg-ui@forward-preview",[],[["@forwardedContent"],[[23,0,["event","eventContent","customContent"]]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showInlineWarning"]]],null,{"statements":[[0,"      "],[5,"msg-ui@primitives/inline-warning",[],[["@event","@handleSuccessfulDiscardRequest","@redirectToActiveConversation","@afterDismissed","@focusOnMsgReportCta"],[[23,0,["event"]],[23,0,["handleSuccessfulDiscardRequest"]],[23,0,["redirectToActiveConversation"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isInlineWarningDismissed",true],null],[23,0,["focusOnMsgReportCta"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["event","eventContent","footerText"]]],null,{"statements":[[0,"      "],[7,"span",true],[10,"class","msg-s-event-listitem__footer-text t-12 t-bold"],[8],[0,"\\n        "],[1,[28,"text-view-model@text-view-model",[[23,0,["event","eventContent","footerText"]]],null],false],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["shouldDisplayRelay"]]],null,{"statements":[[0,"      "],[5,"artdeco-card@artdeco-card",[],[["@class"],["msg-s-event-listitem__job-card mt3 mb4"]],{"statements":[[0,"\\n"],[4,"ember-engines@link-to-external",["jobs.view",[28,"global-helpers@urn-to-id",[[23,0,["event","eventContent","customContent","jobPostingReferral","jobPosting"]]],null]],[["class","data-control-name"],["display-flex flex-column","view_job_card"]],{"statements":[[0,"          "],[7,"div",true],[10,"class","inline-flex Elevation-0dp p2"],[8],[0,"\\n            "],[5,"ember-vector-images@lazy-image",[],[["@image","@class","@alt","@ghostType","@width"],[[23,0,["event","eventContent","customContent","companyLogo"]],"msg-s-event-listitem__company-logo EntityPhoto-square-3",[28,"t",["i18n_company_logo_a11y","msg-ui/components/primitives/event-listitem-user-event"],null],"company",64]]],[0,"\\n            "],[7,"div",true],[10,"class","ml2"],[8],[0,"\\n              "],[7,"p",true],[10,"class","t-16 t-bold"],[8],[0,"\\n                "],[1,[23,0,["event","eventContent","customContent","jobTitle"]],false],[0,"\\n              "],[9],[0,"\\n              "],[7,"p",true],[10,"class","t-14 t-black--light"],[8],[0,"\\n                "],[1,[23,0,["event","eventContent","customContent","companyName"]],false],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},null],[0,"      "]],"parameters":[]}],[0,"\\n"],[4,"if",[[23,0,["shouldDisplayReferralButton"]]],null,{"statements":[[0,"        "],[5,"artdeco-button@artdeco-button",[[12,"data-control-name",[28,"concat",[[23,0,["trackingPrefix"]],"start_referral"],null]]],[["@type","@size","@text","@icon","@class","@click"],["primary","2",[28,"t",["i18n_start_referral","msg-ui/components/primitives/event-listitem-user-event"],null],"briefcase-icon","msg-s-event-listitem__referral-button",[28,"action",[[23,0,[]],"openReferralForm"],null]]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["virtualMeetingData"]]],null,{"statements":[[4,"if",[[23,0,["showSendReactionControls"]]],null,{"statements":[[0,"        "],[5,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],false,[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],false,false,[23,0,["showSendReactionControls"]],[23,0,["reactionsHoverTrackingName"]]]],{"statements":[[0,"\\n\\n          "],[5,"msg-ui@primitives/unrolled-virtual-meeting",[],[["@class","@virtualMeetingData"],[[29,["msg-s-event-listitem__unrolled-virtual-meeting ",[28,"if",[[23,0,["isMercado"]],"artdeco-card"],null]]],[23,0,["virtualMeetingData"]]]]],[0,"\\n        "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[5,"msg-ui@primitives/unrolled-virtual-meeting",[],[["@class","@virtualMeetingData"],[[29,["msg-s-event-listitem__unrolled-virtual-meeting ",[28,"if",[[23,0,["isMercado"]],"artdeco-card"],null]]],[23,0,["virtualMeetingData"]]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,0,["unrolledUpdateV2"]]],null,{"statements":[[4,"if",[[23,0,["showSendReactionControls"]]],null,{"statements":[[0,"        "],[5,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],false,[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],false,false,[23,0,["showSendReactionControls"]],[23,0,["reactionsHoverTrackingName"]]]],{"statements":[[0,"\\n          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["feed-shared"]],{"statements":[[0,"\\n"],[4,"if",[[23,15,["state","fulfilled"]]],null,{"statements":[[0,"              "],[5,"feed-shared@render-models/mini-update-v2",[],[["@update","@class","@shouldHideCtaButton","@showNestedShares","@click"],[[23,0,["unrolledUpdateV2"]],[29,["msg-s-event-listitem__unrolled-update-v2 ",[28,"if",[[23,0,["isMercado"]],"artdeco-card","Elevation-0dp"],null]]],[23,0,["isOverlay"]],true,[28,"if",[[23,0,["event","isSponsoredMessage"]],[28,"action",[[23,0,[]],"fireBodyLinkTracking"],null]],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,15,["state","pending"]]],null,{"statements":[[0,"              "],[7,"div",true],[10,"class","msg-s-event-listitem__content-preview-placeholder"],[8],[0,"\\n                "],[5,"artdeco-loader@artdeco-loader",[],[[],[]]],[0,"\\n              "],[9],[0,"\\n            "]],"parameters":[]},null]],"parameters":[]}],[0,"          "]],"parameters":[15]}],[0,"\\n        "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["feed-shared"]],{"statements":[[0,"\\n"],[4,"if",[[23,14,["state","fulfilled"]]],null,{"statements":[[0,"            "],[5,"feed-shared@render-models/mini-update-v2",[],[["@update","@class","@shouldHideCtaButton","@showNestedShares","@click"],[[23,0,["unrolledUpdateV2"]],[29,["msg-s-event-listitem__unrolled-update-v2 ",[28,"if",[[23,0,["isMercado"]],"artdeco-card","Elevation-0dp"],null]]],[23,0,["isOverlay"]],true,[28,"if",[[23,0,["event","isSponsoredMessage"]],[28,"action",[[23,0,[]],"fireBodyLinkTracking"],null]],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,14,["state","pending"]]],null,{"statements":[[0,"            "],[7,"div",true],[10,"class","msg-s-event-listitem__content-preview-placeholder"],[8],[0,"\\n              "],[5,"artdeco-loader@artdeco-loader",[],[[],[]]],[0,"\\n            "],[9],[0,"\\n          "]],"parameters":[]},null]],"parameters":[]}],[0,"        "]],"parameters":[14]}],[0,"\\n"]],"parameters":[]}],[0,"    "]],"parameters":[]},null]],"parameters":[]}],[0,"\\n"],[4,"if",[[23,0,["event","hasArticleOrUpdate"]]],null,{"statements":[[0,"      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["feed-shared"]],{"statements":[[0,"\\n"],[4,"if",[[23,12,["state","fulfilled"]]],null,{"statements":[[0,"          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,13,["state","fulfilled"]]],null,{"statements":[[0,"              "],[5,"msg-rich-media@content-preview",[],[["@feedUpdate","@showNestedShares","@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],[[23,0,["event","eventContent","feedUpdate"]],true,[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],false,[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],[23,0,["showSendReactionControls"]],false,[23,0,["showSendReactionControls"]],false,[23,0,["reactionsHoverTrackingName"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"          "]],"parameters":[13]}],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,12,["state","pending"]]],null,{"statements":[[0,"          "],[7,"div",true],[10,"class","msg-s-event-listitem__content-preview-placeholder"],[8],[0,"\\n            "],[5,"artdeco-loader@artdeco-loader",[],[[],[]]],[0,"\\n          "],[9],[0,"\\n        "]],"parameters":[]},null]],"parameters":[]}],[0,"      "]],"parameters":[12]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["event","eventContent","attachments","length"]]],null,{"statements":[[0,"      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,10,["state","fulfilled"]]],null,{"statements":[[4,"if",[[23,0,["event","hasAttachments"]]],null,{"statements":[[4,"each",[[23,0,["event","eventContent","attachments"]]],null,{"statements":[[0,"              "],[5,"msg-rich-media@attachment-display",[],[["@attachment","@createdAt","@deleteMessageEventModalState","@enableMsgFwd","@event","@forwardAttachment","@isOverlay","@isMercado","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showMessageEditForm","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],[[23,11,[]],[23,0,["event","createdAt"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],[23,0,["enableMsgFwd"]],[23,0,["event"]],[28,"action",[[23,0,[]],"forwardAttachment",[23,11,[]]],null],[23,0,["isOverlay"]],[23,0,["isMercado"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],false,[23,0,["showSendReactionControls"]],[23,0,["shouldShowEditDelete"]],[23,0,["reactionsHoverTrackingName"]]]]],[0,"\\n"]],"parameters":[11]},null]],"parameters":[]},null]],"parameters":[]},null],[0,"      "]],"parameters":[10]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["event","eventContent","mediaAttachments","length"]]],null,{"statements":[[4,"if",[[23,0,["showSendReactionControls"]]],null,{"statements":[[0,"        "],[5,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isMercado","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen"],null],false,[23,0,["event"]],[23,0,["isMercado"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableHide"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiPickerVisibilityChange"]],false,false,[23,0,["showSendReactionControls"]],[23,0,["reactionsHoverTrackingName"]]]],{"statements":[[0,"\\n"],[4,"each",[[23,0,["event","eventContent","mediaAttachments"]]],null,{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,7,["mediaType"]],"AUDIO"],null]],null,{"statements":[[0,"              "],[7,"div",true],[10,"class","msg-s-event-listitem__audio-container"],[8],[0,"\\n                "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,9,["state","fulfilled"]]],null,{"statements":[[0,"                    "],[5,"msg-rich-media@audio-display",[],[["@mediaAttachment","@trackingPrefix"],[[23,7,[]],[23,0,["trackingPrefix"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"                "]],"parameters":[9]}],[0,"\\n              "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,7,["mediaType"]],"VIDEO"],null]],null,{"statements":[[0,"              "],[7,"div",true],[10,"class","msg-s-event-listitem__video-container"],[8],[0,"\\n                "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,8,["state","fulfilled"]]],null,{"statements":[[0,"                    "],[5,"msg-rich-media@video-display",[],[["@mediaAttachment"],[[23,7,[]]]]],[0,"\\n"]],"parameters":[]},null],[0,"                "]],"parameters":[8]}],[0,"\\n              "],[9],[0,"\\n            "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[7]},null],[0,"        "]],"parameters":[]}],[0,"\\n"]],"parameters":[]},{"statements":[[4,"each",[[23,0,["event","eventContent","mediaAttachments"]]],null,{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,4,["mediaType"]],"AUDIO"],null]],null,{"statements":[[0,"            "],[7,"div",true],[10,"class","msg-s-event-listitem__audio-container"],[8],[0,"\\n              "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,6,["state","fulfilled"]]],null,{"statements":[[0,"                  "],[5,"msg-rich-media@audio-display",[],[["@mediaAttachment","@trackingPrefix"],[[23,4,[]],[23,0,["trackingPrefix"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"              "]],"parameters":[6]}],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,4,["mediaType"]],"VIDEO"],null]],null,{"statements":[[0,"            "],[7,"div",true],[10,"class","msg-s-event-listitem__video-container"],[8],[0,"\\n              "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,5,["state","fulfilled"]]],null,{"statements":[[0,"                  "],[5,"msg-rich-media@video-display",[],[["@mediaAttachment"],[[23,4,[]]]]],[0,"\\n"]],"parameters":[]},null],[0,"              "]],"parameters":[5]}],[0,"\\n            "],[9],[0,"\\n          "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[4]},null]],"parameters":[]}]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showReactionSummaries"]]],null,{"statements":[[0,"      "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,3,["state","fulfilled"]]],null,{"statements":[[0,"          "],[5,"msg-rich-media@emoji/msg-reactions",[],[["@event","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide"],[[23,0,["event"]],[23,0,["isOverlay"]],[23,0,["onEmojiHoverableShow"]],[23,0,["onEmojiHoverableHide"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"      "]],"parameters":[3]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}],[0,"\\n"],[4,"if",[[23,0,["isReferralFormOpen"]]],null,{"statements":[[0,"  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-referrals"]],{"statements":[[0,"\\n"],[4,"if",[[23,2,["state","fulfilled"]]],null,{"statements":[[0,"      "],[5,"msg-referrals@referral-form",[],[["@referralRecord","@candidateFirstName","@candidateFullName","@company","@jobTitle","@closeModal"],[[23,0,["event","eventContent","customContent","jobPostingReferral"]],[23,0,["candidate","firstName"]],[23,0,["candidate","fullName"]],[23,0,["company"]],[23,0,["jobTitle"]],[28,"ember-cli-pemberly-tracking@tracked-action",["referral_dismiss_form",[28,"ember-simple-set-helper@set",[[23,0,[]],"isReferralFormOpen",false],null]],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"  "]],"parameters":[2]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["isDeleteMessageEventModalOpen"]]],null,{"statements":[[0,"  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"      "],[5,"msg-shared-modals@delete-message-event-modal",[],[["@dismissModal","@event","@deleteMessageAndCloseModal","@deleteEventControlName"],[[28,"ember-simple-set-helper@set",[[23,0,[]],"isDeleteMessageEventModalOpen",false],null],[23,0,["event"]],[28,"action",[[23,0,[]],"deleteMessageAndCloseModal",[23,0,["event"]]],null],[28,"concat",[[23,0,["trackingPrefix"]],"delete_message"],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"  "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"msg-ui/components/primitives/event-listitem-user-event.hbs"}}),{SPONSORED_TRACKING:{ACTIONS:ue},REFERRALS:{PENDING:ge},JOB_STATE:{LISTED:he}}=p.default
let be=(b=(0,r.tagName)(""),f=Ember.inject.service("store"),v=Ember.inject.service("lix"),y=Ember.inject.service("i18n"),_=Ember.inject.service("jet"),E=Ember.inject.service("tracking"),w=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),M=Ember.inject.service("global-services@window"),k=Ember.inject.service("authentication@authenticated-user"),C=Ember.inject.service("msg-data@data-manager"),T=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),x=Ember.computed("event.eventContent.attributedBody.text"),P=Ember.computed("urlToUnroll","event.eventContent.attributedBody.text"),O=Ember.computed("unrolledUpdateV2"),S=Ember.computed("event.eventContent.attributedBody.text").readOnly(),I=Ember.computed("event.eventContent.customContent.viewerEmployee","event.eventContent.customContent.jobPostingReferral.state","event.eventContent.customContent.jobState").readOnly(),D=Ember.computed("event.conversation.blocked","event.inlineWarning","isInlineWarningDismissed").readOnly(),R=Ember.computed("enableReactions","event.reactionSummaries.length").readOnly(),A=Ember.computed.not("event.eventContent.replyToContent"),j=Ember.computed.alias("event.eventContent.replyToContent"),N=Ember.computed("blockedByNoResponse","enableReactions","event.{conversation.hasReactionsFeature,conversation.viewerCurrentParticipant,conversation.blocked,isNew,isError}"),F=Ember.computed("event.isInMail","event.isSponsoredMessage"),L=Ember.computed("event.obfuscatedMessageWarning","event.conversation.blocked","obfuscatedMessageIsRevealed").readOnly(),U=Ember.computed("event.from","event.isNew","event.conversation.isSponsoredConversation").readOnly(),q=Ember._action,z=Ember._action,B=Ember._action,H=Ember._action,W=Ember._action,G=Ember._action,V=Ember._action,K=Ember._action,Q=Ember._action,$=Ember._action,Y=Ember._action,J=Ember._action,b(Z=(X=class extends Ember.Component{constructor(){super(...arguments);(0,t.default)(this,"store",ee,this);(0,t.default)(this,"lix",te,this);(0,t.default)(this,"i18n",se,this);(0,t.default)(this,"jet",ne,this);(0,t.default)(this,"tracking",ie,this);(0,t.default)(this,"msgOverlay",re,this);(0,t.default)(this,"windowService",ae,this);(0,t.default)(this,"authenticatedUser",oe,this);(0,t.default)(this,"msgDataManager",le,this);(0,t.default)(this,"persistentToastManager",me,this);(0,s.default)(this,"isOptionMenuOpen",!1);(0,s.default)(this,"isInMailMenuOpen",!1);(0,s.default)(this,"messageFocused",!1);(0,s.default)(this,"dropDirection","top");(0,t.default)(this,"displayMessagingStoryAfterTextBody",ce,this);(0,t.default)(this,"displayMessagingStoryBeforeTextBody",pe,this);(0,s.default)(this,"obfuscatedMessageIsRevealed",void 0)}get urlToUnroll(){const e=Ember.get(this,"event.eventContent.attributedBody.text"),t=(0,a.getUrlsFromText)(e).filter(e=>/^https?:\/\//.test(e))
return!Ember.get(this,"event.isInMail")&&!Ember.get(this,"event.hasAttachments")&&!Ember.get(this,"event.hasArticleOrUpdate")&&e&&1===t.length&&!a.CONTAINS_GROUPCHATLINK_REGEX.test(t[0])&&t[0]}get locationSharePreview(){const e=this.urlToUnroll
if(!e||e!==Ember.get(this,"event.eventContent.attributedBody.text")||!e.startsWith("https://www.bing.com/maps?cp="))return!1
const t=(0,a.parseQueryString)(e)
if(!t.cp||!t.q)return!1
const s=t.cp.split("~")
if(2!==s.length)return!1
return{imageUrl:jSecure.sanitizeUrl(`https://dev.virtualearth.net/REST/v1/Imagery/Map/CanvasLight?key=AjWfR7LMpDYZJOLH-RZEhFo2MmRUXEVeFQpb8Osj8kIp0-PLHN8l3ceo7aWzblYg&mapSize=500,500&dpi=Large&pp=${s.join(",")};60`),title:t.q}}get virtualMeetingData(){const e=Ember.get(this,"unrolledUpdateV2.content.navigationContext.actionTarget")
if(e){const t=Object.values(g.MEETING_PROVIDERS).find(t=>t.regex.test(e))
return t?{class:t.class,controlName:t.controlName,name:t.name,url:e}:void 0}}get decoratedContent(){const e=Ember.get(this,"event.eventContent.attributedBody"),t=e&&Ember.get(e,"text"),{linkifyOpts:s}=this
return(0,h.default)(e,t,s)}get shouldDisplayReferralButton(){return Ember.get(this,"event.eventContent.customContent.viewerEmployee")&&Ember.get(this,"event.eventContent.customContent.jobPostingReferral.state")===ge&&Ember.get(this,"event.eventContent.customContent.jobState")===he}get showInlineWarning(){return!Ember.get(this,"event.conversation.blocked")&&!this.isInlineWarningDismissed&&Ember.get(this,"event.inlineWarning")}get showReactionSummaries(){return this.enableReactions&&Ember.get(this,"event.reactionSummaries.length")}get showSendReactionControls(){return!this.blockedByNoResponse&&this.enableReactions&&Ember.get(this.event,"conversation.hasReactionsFeature")&&Ember.get(this.event,"conversation.viewerCurrentParticipant")&&!Ember.get(this.event,"conversation.blocked")&&!Ember.get(this.event,"isNew")&&!Ember.get(this.event,"isError")}get showInMailHeader(){return(this.event.isRecruiterInMail||this.event.isSalesInMail||this.event.isPremiumInMail||this.event.isSponsoredMessage&&this.event.isFirstMessageInThread)&&this.lix.getTreatmentIsEnabled("voyager.web.messaging-inmail-headers")}init(){super.init.apply(this,arguments)
const{lix:e}=this
Ember.setProperties(this,{enableReactions:this.lix.getTreatmentIsEnabled("voyager.web.messaging-reactions"),linkifyOpts:{url:!0,email:!0,hashtag:!0,goLink:e.getTreatmentIsEnabled("voyager.client.staff")},enableMsgFwd:!Ember.get(this,"event.isSponsoredMessage")&&!Ember.get(this,"event.inlineWarning")&&!Ember.get(this,"event.eventContent.storyItemUrn"),isMercado:this.lix.getTreatmentIsEnabled("voyager.web.infraux-mercado-theme"),reactionsHoverTrackingName:this.isOverlay?"overlay.show_reactions_entrypoint":"show_reactions_entrypoint"})
if(Ember.get(this,"event.eventContent.customContent.jobPostingReferral")){const e=Ember.get(this,"event.eventContent.customContent.jobPostingReferral.supportedDeliveryDestinationTypes.value").includes("HIRING_PLATFORM")
Ember.set(this,"shouldDisplayRelay",e)}const{urlToUnroll:t,locationSharePreview:s}=this
if(t&&!s){const e=encodeURIComponent(t)
this.store.queryURL(`contentcreation/urlPreview/${e}`,{cacheKey:e}).then(e=>{if(this.isDestroying)return
const t=Ember.get(e,"update")
Ember.set(this,"unrolledUpdateV2",t)}).catch(e=>{(0,l.errorLogger)(this.jet,`Failed to unroll link: ${t} [msg-ui/event-list-item-user-event]`,e,["msg-custom-err-log"])})}}get shouldObfuscateMessage(){return Ember.get(this,"event.obfuscatedMessageWarning")&&!Ember.get(this,"event.conversation.blocked")&&!this.obfuscatedMessageIsRevealed}get shouldShowEditDelete(){return(0,u.isAuthenticatedUser)(this.authenticatedUser,this.event.from)&&this._isEditDeleteTimeboxExpired()&&!Ember.get(this,"event.isNew")&&!Ember.get(this,"event.conversation.isSponsoredConversation")}_closeOptionDropdown(){Ember.set(this,"isOptionMenuOpen",!1)}_isEditDeleteTimeboxExpired(){const e=Ember.get(this,"event.createdAt")
return Date.now()-e<36e5}_showRecallErrorToast(){const e=this.i18n.lookupTranslation("component","msg-ui@primitives/event-listitem-user-event","i18n_recall_generic_error")()
this.persistentToastManager.error({message:e})}closeModal(){Ember.set(this,"isReferralFormOpen",!1)}hideAllActionMenus(e){if(m.default){const t=document.querySelector(".msg-s-event-listitem__message-bubble--is-focused .msg-s-event-listitem__actions-container")
if(e&&e.target&&t&&t.contains(e.target)&&e.relatedTarget&&t.contains(e.relatedTarget))return
Ember.set(this,"isOptionMenuOpen",!1)
Ember.set(this,"messageFocused",!1)}}openReferralForm(){const e=Ember.get(this,"event.eventContent.customContent"),t=Ember.get(e,"trackingUrn")
Ember.setProperties(this,{isReferralFormOpen:!0,candidate:Ember.get(this,"event.from"),company:Ember.get(e,"companyName")||Ember.get(e,"company.name"),jobTitle:Ember.get(e,"jobTitle")})
this.tracking.fireTrackingPayload("CandidateInitiatedStartReferralActionEvent",{jobPostingUrn:t})}forwardViaMessage(){this.msgOverlay.triggerNewConversation({forwardedEvent:this.event})
this._closeOptionDropdown()}forwardViaEmail(){const{event:e}=this,t=jSecure.htmlUnencode(this.i18n.lookupTranslation("component","msg-ui@primitives/event-listitem-user-event",e.isInMail?"i18n_forwarded_inmail_message_preamble":"i18n_forwarded_message_preamble")()),s=Ember.get(e,"from.fullName"),n=`linkedin.com/in/${Ember.get(e,"from.miniProfile.publicIdentifier")}`,i=jSecure.htmlUnencode(this.i18n.lookupTranslation("component","msg-ui@primitives/event-listitem-user-event","i18n_forwarded_message_header")([{originalSender:s,originalSenderProfileURL:n}])),r=Ember.getWithDefault(e,"eventContent.subject",""),a=Ember.getWithDefault(e,"eventContent.attributedBody.text","")
let o="mailto:?",l=`${t}\r\n\r\n${i}\r\n\r\n`
if(e.isInMail&&r){o+=`subject=${encodeURIComponent(`FWD: ${r}`)}&`
l+=`${r}\r\n\r\n`}l+=a
o+=`body=${encodeURIComponent(l)}`
this.windowService.open(o,"")
this._closeOptionDropdown()}forwardAttachment(e){const t={}
Ember.set(e,"messageReference",Ember.get(this,"event.entityUrn"))
void 0===Ember.get(e,"isImage")&&(t.isImage=(0,d.isSupportedImageFile)(Ember.get(e,"mediaType"),Ember.get(e,"name")))
Ember.get(e,"mediaTypeExtension")||(t.mediaTypeExtension=(0,d.mediaTypeExtension)(Ember.get(e,"mediaType")))
Ember.get(e,"formattedSize")||(t.formattedSize=(0,o.default)(Ember.get(e,"byteSize"),this.i18n))
Ember.setProperties(e,t)
const s={forwardedAttachments:[e]}
this.msgOverlay.triggerNewConversation(s)}fireBodyLinkTracking(){const e=Ember.get(this,"event.conversation.sponsoredConversationMetadata"),t={action:ue.BODY_CLICK,sponsoredConvoId:Ember.get(e,"sponsoredConversationTrackingId"),sponsoredMessageContentId:Ember.get(this,"event.eventContent.customContent.sponsoredMessageTrackingId")}
c.default.fireNodeLevelAdvertiserTracking(this.store,this.jet,Ember.getWithDefault(e,"clickTrackingUrl",""),t)}deleteMessageAndCloseModal(e){Ember.set(this,"isDeleteMessageEventModalOpen",!1)
const t=e.conversation.id
e&&t||this._showRecallErrorToast()
this.msgDataManager.recallMessage(t,e).catch(e=>{this._showRecallErrorToast()
throw e})}onEmojiHoverableShow(e){if(m.default&&(null==e?void 0:e.currentTrigger)){const t=e.currentTrigger.closest(".msg-s-message-list")
null==t||t.classList.add("msg-s-message-list--inactive")
const s=this.isOverlay?"flagship3_messaging_overlay_reaction_picker":"flagship3_messaging_reaction_picker"
this.tracking.firePageViewEvent(s)}}onEmojiHoverableHide(){m.default&&document.querySelectorAll(".msg-s-message-list--inactive").forEach(e=>{e.classList.remove("msg-s-message-list--inactive")})}showObfuscatedMessage(){Ember.set(this,"obfuscatedMessageIsRevealed",!0)
Ember.set(this,"focusOnMsgReportCta",!0)}openUrl(e){this.windowService.open(e)}},ee=(0,n.default)(X.prototype,"store",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,n.default)(X.prototype,"lix",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,n.default)(X.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,n.default)(X.prototype,"jet",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,n.default)(X.prototype,"tracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,n.default)(X.prototype,"msgOverlay",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,n.default)(X.prototype,"windowService",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,n.default)(X.prototype,"authenticatedUser",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,n.default)(X.prototype,"msgDataManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=(0,n.default)(X.prototype,"persistentToastManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(X.prototype,"urlToUnroll",[x],Object.getOwnPropertyDescriptor(X.prototype,"urlToUnroll"),X.prototype),(0,n.default)(X.prototype,"locationSharePreview",[P],Object.getOwnPropertyDescriptor(X.prototype,"locationSharePreview"),X.prototype),(0,n.default)(X.prototype,"virtualMeetingData",[O],Object.getOwnPropertyDescriptor(X.prototype,"virtualMeetingData"),X.prototype),(0,n.default)(X.prototype,"decoratedContent",[S],Object.getOwnPropertyDescriptor(X.prototype,"decoratedContent"),X.prototype),(0,n.default)(X.prototype,"shouldDisplayReferralButton",[I],Object.getOwnPropertyDescriptor(X.prototype,"shouldDisplayReferralButton"),X.prototype),(0,n.default)(X.prototype,"showInlineWarning",[D],Object.getOwnPropertyDescriptor(X.prototype,"showInlineWarning"),X.prototype),(0,n.default)(X.prototype,"showReactionSummaries",[R],Object.getOwnPropertyDescriptor(X.prototype,"showReactionSummaries"),X.prototype),ce=(0,n.default)(X.prototype,"displayMessagingStoryAfterTextBody",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,n.default)(X.prototype,"displayMessagingStoryBeforeTextBody",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(X.prototype,"showSendReactionControls",[N],Object.getOwnPropertyDescriptor(X.prototype,"showSendReactionControls"),X.prototype),(0,n.default)(X.prototype,"showInMailHeader",[F],Object.getOwnPropertyDescriptor(X.prototype,"showInMailHeader"),X.prototype),(0,n.default)(X.prototype,"shouldObfuscateMessage",[L],Object.getOwnPropertyDescriptor(X.prototype,"shouldObfuscateMessage"),X.prototype),(0,n.default)(X.prototype,"shouldShowEditDelete",[U],Object.getOwnPropertyDescriptor(X.prototype,"shouldShowEditDelete"),X.prototype),(0,n.default)(X.prototype,"closeModal",[q],Object.getOwnPropertyDescriptor(X.prototype,"closeModal"),X.prototype),(0,n.default)(X.prototype,"hideAllActionMenus",[z],Object.getOwnPropertyDescriptor(X.prototype,"hideAllActionMenus"),X.prototype),(0,n.default)(X.prototype,"openReferralForm",[B],Object.getOwnPropertyDescriptor(X.prototype,"openReferralForm"),X.prototype),(0,n.default)(X.prototype,"forwardViaMessage",[H],Object.getOwnPropertyDescriptor(X.prototype,"forwardViaMessage"),X.prototype),(0,n.default)(X.prototype,"forwardViaEmail",[W],Object.getOwnPropertyDescriptor(X.prototype,"forwardViaEmail"),X.prototype),(0,n.default)(X.prototype,"forwardAttachment",[G],Object.getOwnPropertyDescriptor(X.prototype,"forwardAttachment"),X.prototype),(0,n.default)(X.prototype,"fireBodyLinkTracking",[V],Object.getOwnPropertyDescriptor(X.prototype,"fireBodyLinkTracking"),X.prototype),(0,n.default)(X.prototype,"deleteMessageAndCloseModal",[K],Object.getOwnPropertyDescriptor(X.prototype,"deleteMessageAndCloseModal"),X.prototype),(0,n.default)(X.prototype,"onEmojiHoverableShow",[Q],Object.getOwnPropertyDescriptor(X.prototype,"onEmojiHoverableShow"),X.prototype),(0,n.default)(X.prototype,"onEmojiHoverableHide",[$],Object.getOwnPropertyDescriptor(X.prototype,"onEmojiHoverableHide"),X.prototype),(0,n.default)(X.prototype,"showObfuscatedMessage",[Y],Object.getOwnPropertyDescriptor(X.prototype,"showObfuscatedMessage"),X.prototype),(0,n.default)(X.prototype,"openUrl",[J],Object.getOwnPropertyDescriptor(X.prototype,"openUrl"),X.prototype),X))||Z)
e.default=be
Ember._setComponentTemplate(de,be)})
define("msg-ui/components/primitives/event-listitem",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","msg-ui/utils/reregister-impression-tracking","msg-shared/utils/constants","ember-cli-pemberly-tracking/utils/tracking"],function(e,t,s,n,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,c,p,d,u,g,h,b,f,v,y,_,E
const w=Ember.HTMLBars.template({id:"SomejfP7",block:'{"symbols":["&default"],"statements":[[14,1,[[28,"hash",null,[["avatar","messageBody"],[[28,"component",[[28,"ember-holy-futuristic-template-namespacing-batman@-translate-dynamic-2",[[23,0,["avatarComp"]]],null]],[["size"],[1]]],[28,"component",[[28,"ember-holy-futuristic-template-namespacing-batman@-translate-dynamic-2",[[23,0,["messageBodyComp"]]],null]],[["blockedByNoResponse","isOverlay","reactionSummaries","trackingPrefix"],[[23,0,["blockedByNoResponse"]],[23,0,["isOverlay"]],[23,0,["reactionSummaries"]],[23,0,["trackingPrefix"]]]]]]]]]],[0,"\\n\\n"],[4,"if",[[23,0,["showMessageSentFailedError"]]],null,{"statements":[[0,"  "],[7,"p",false],[12,"class","msg-s-event-listitem__error-message t-12 t-black t-bold"],[3,"action",[[23,0,[]],"_resendFailedMessage",[23,0,["event"]]],[["preventDefault"],[false]]],[8],[0,"\\n    "],[1,[28,"t",["i18n_message_retry","msg-ui/components/primitives/event-listitem"],null],false],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"msg-ui/components/primitives/event-listitem.hbs"}}),{IMPRESSION_KEYS:{CONVERSATION_DETAIL_IMPRESSION:M,DISPLAY_ITEM_TYPE:k},MESSAGE_TYPE:{TENOR_GIF:C},MESSAGES_PER_PAGE:T,PAGEVIEW_KEYS:{CONVERSATION_DETAIL_PAGEKEY:x}}=o.default
let P=(m=(0,r.classNames)("msg-s-event-listitem"),c=(0,r.classNameBindings)("event.isError:msg-s-event-listitem--is-error","event.eventContent.footerText:msg-s-event-listitem--has-footer-text","event.seenReceipts.length:msg-s-event-listitem--has-seen-receipts","eventIsFromOtherUser:msg-s-event-listitem--other","inMailFromOther:msg-s-event-listitem--inmail","isSystemMessage:msg-s-event-listitem--system","isLastInGroup:msg-s-event-listitem--last-in-group"),p=(0,r.attributeBindings)("data-event-urn"),d=Ember.inject.service("tracking"),u=Ember.inject.service("router"),g=Ember.inject.service("lix"),h=Ember.computed("event.isError","event.eventContent.attributedBody.text").readOnly(),b=Ember._action,m(f=c(f=p(f=(v=class extends Ember.Component{constructor(){super(...arguments);(0,s.default)(this,"rumComponentId","messaging/event-listitem");(0,t.default)(this,"tracking",y,this);(0,t.default)(this,"router",_,this);(0,t.default)(this,"lix",E,this);(0,s.default)(this,"data-test-msg-s-event-list-item",!0)}get showMessageSentFailedError(){return Ember.get(this,"event.isError")&&Ember.get(this,"event.eventContent.attributedBody.text")}init(){super.init.apply(this,arguments)
this.tracking.setupTrackableComponent(this)
a.default.call(this,this.router,this.registerImpressionTracking.bind(this))
const e=Ember.get(this,"event.isInMail"),t=Ember.get(this,"event.from.isOtherUser"),s=Ember.get(this,"event.eventContent.recalledAt"),n=Ember.get(this,"event.isSystemMessage")&&!s
let i="msg-ui@primitives/event-listitem-no-op"
Ember.get(this,"event.isSponsoredMessage")?i="msg-spinmail$sponsored-conversation/event-listitem-advertiser-avatar":n||(i="msg-ui@primitives/event-listitem-avatar")
Ember.setProperties(this,{avatarComp:i,eventIsFromOtherUser:t,inMailFromOther:e&&t,isSystemMessage:n,messageBodyComp:n?"msg-ui@primitives/event-listitem-system-event":"msg-ui@primitives/event-listitem-user-event",pageSize:T})}onImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t=Ember.get(this,"event.conversation")
if(t&&!Ember.get(this,"event.isNew")&&!Ember.get(this,"event.isDestroying")&&!Ember.get(this,"event.isDestroyed")){const s={objectUrn:Ember.get(t,"backendUrn"),trackingId:(0,l.generateTrackingId)()},n=this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-backend-urn")?Ember.get(this,"event.backendUrn"):Ember.get(this,"event.computedBackendUrn"),i={moduleKey:Ember.getWithDefault(this,"moduleKey",this.tracking.getCurrentPageKey()),displayItem:{trackingObject:{objectUrn:Ember.get(t,"entityUrn"),trackingId:(0,l.generateTrackingId)()},type:k.MESSAGE_DETAIL,visibleTime:e.visibleTime,duration:e.duration},participantUrns:Ember.get(t,"participants").mapBy("backendUrn"),conversation:s,messages:[{objectUrn:n,trackingId:(0,l.generateTrackingId)()}]}
if(Ember.get(this,"event.eventContent.customContent.mediaType")===C){const e=Ember.get(this,"event.eventContent.customContent.id")
i.displayItem.thirdPartyMediaTrackingObject={objectUrn:`urn:li:tenor:${e}`,trackingId:(0,l.generateTrackingId)()}}this.tracking.fireTrackingPayload(M,i)}this.messageIndex>0&&this.messageIndex%this.pageSize==0&&this.tracking.firePageViewEvent(x)}_resendFailedMessage(e){this.eventIsFromOtherUser||this.isSystemMessage||this.resendMessage(e)}},y=(0,n.default)(v.prototype,"tracking",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,n.default)(v.prototype,"router",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(v.prototype,"lix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(v.prototype,"showMessageSentFailedError",[h],Object.getOwnPropertyDescriptor(v.prototype,"showMessageSentFailedError"),v.prototype),(0,n.default)(v.prototype,"_resendFailedMessage",[b],Object.getOwnPropertyDescriptor(v.prototype,"_resendFailedMessage"),v.prototype),v))||f)||f)||f)
e.default=P
Ember._setComponentTemplate(w,P)})
define("msg-ui/components/primitives/inline-warning",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/urn-id-helpers"],function(e,t,s,n,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,m,c,p,d,u
const g=Ember.HTMLBars.template({id:"tA9fdU5H",block:'{"symbols":["assetLoader","@redirectToActiveConversation","@handleSuccessfulDiscardRequest","&attrs","@event","@focusOnMsgReportCta"],"statements":[[7,"div",false],[12,"class","msg-inline-warning mt1 mr3"],[13,4],[8],[0,"\\n  "],[5,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@type","@isIconHidden","@message"],["yield",true,[23,5,["inlineWarning","text"]]]]],[0,"\\n  "],[7,"div",true],[10,"class","inline-block"],[8],[0,"\\n    "],[5,"artdeco-button@artdeco-button",[[12,"data-control-name","inline_warning_report"],[3,"global-modifiers@focus",null,[["when"],[[23,6,[]]]]]],[["@classNames","@type","@color","@size","@text","@icon","@click"],["mt2 display-flex","secondary","muted",2,[23,5,["reportSpamCTAText"]],"flag-icon",[23,0,["reportConversation"]]]]],[0,"\\n\\n    "],[5,"artdeco-button@artdeco-button",[[12,"data-control-name","inline_warning_notspam"]],[["@classNames","@type","@color","@size","@text","@icon","@click"],["mv2 display-flex","secondary","muted",2,[23,5,["inlineWarningDismissCTAText"]],"cancel-icon",[23,0,["dismissWarning"]]]]],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n"],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"    "],[5,"msg-shared-modals@conversation-semaphore",[],[["@conversationToReport","@reportOptions","@redirectToActiveConversation","@handleSuccessfulDiscardRequest"],[[23,0,["conversationToReport"]],[23,0,["reportOptions"]],[23,2,[]],[23,3,[]]]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]}],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-ui/components/primitives/inline-warning.hbs"}})
let h=(o=Ember.inject.service("lix"),l=Ember.inject.service("msg-data@data-manager"),m=Ember._action,c=Ember._action,p=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"lix",d,this);(0,t.default)(this,"msgDataManager",u,this)}reportConversation(){const e=this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-backend-urn")?Ember.get(this.args.event,"backendUrn"):Ember.get(this.args.event,"computedBackendUrn")
Ember.setProperties(this,{conversationToReport:Ember.get(this.args.event,"conversation"),reportOptions:{participantToReport:Ember.get(this.args.event,"from"),entityUrn:e,contentSource:"INBOX_REPORT_SPAM"}})}dismissWarning(){const e=Ember.get(this.args.event,"conversation.id"),t=(0,a.extractEventId)(Ember.get(this.args.event,"id"))
this.msgDataManager.dismissInlineWarning(e,t).then(()=>{if(!this.isDestroying){var e,t
null===(e=(t=this.args).afterDismissed)||void 0===e||e.call(t)}})}},d=(0,n.default)(p.prototype,"lix",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,n.default)(p.prototype,"msgDataManager",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(p.prototype,"reportConversation",[m],Object.getOwnPropertyDescriptor(p.prototype,"reportConversation"),p.prototype),(0,n.default)(p.prototype,"dismissWarning",[c],Object.getOwnPropertyDescriptor(p.prototype,"dismissWarning"),p.prototype),p)
e.default=h
Ember._setComponentTemplate(g,h)})
define("msg-ui/components/primitives/render-chunk",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"HPpk35Y1",block:'{"symbols":["chunk","@fireBodyLinkTracking","@event","@decoratedContent"],"statements":[[4,"each",[[23,4,[]]],null,{"statements":[[4,"if",[[23,1,["mention"]]],null,{"statements":[[5,"ember-engines@link-to-external",[],[["@route","@model"],["profile.view",[23,1,["id"]]]],{"statements":[[7,"span",true],[11,"data-entity-hovercard-id",[23,1,["entityUrn"]]],[8],[1,[23,1,["value"]],false],[9]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,1,["allMention"]]],null,{"statements":[[7,"strong",true],[8],[1,[23,1,["value"]],false],[9]],"parameters":[]},{"statements":[[4,"if",[[23,1,["groupChatLink"]]],null,{"statements":[[5,"app-aware-link@app-aware-link",[],[["@href"],[[23,1,["groupChatLink"]]]],{"statements":[[1,[23,1,["value"]],false]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,1,["url"]]],null,{"statements":[[5,"app-aware-link@app-aware-link",[],[["@href","@target","@invokeAction","@rel"],[[23,1,["url"]],"_blank",[28,"if",[[23,3,["isSponsoredMessage"]],[23,2,[]]],null],"noopener"]],{"statements":[[1,[23,1,["value"]],false]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,1,["email"]]],null,{"statements":[[7,"a",true],[11,"href",[23,1,["email"]]],[8],[1,[23,1,["value"]],false],[9]],"parameters":[]},{"statements":[[4,"if",[[23,1,["hashtag"]]],null,{"statements":[[5,"ember-engines@link-to-external",[[12,"class","hashtag-link"]],[["@route","@query"],["feed.hashtag-feed.by-keyword",[28,"hash",null,[["keywords"],[[23,1,["value"]]]]]]],{"statements":[[1,[23,1,["value"]],false]],"parameters":[]}]],"parameters":[]},{"statements":[[1,[23,1,["value"]],false]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"msg-ui/components/primitives/render-chunk.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/primitives/unrolled-virtual-meeting",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"gZ/Xx1Bq",block:'{"symbols":["@class","@virtualMeetingData"],"statements":[[0,"\\n"],[5,"ember-cli-pemberly-tracking@shared/external-link",[[3,"ember-cli-pemberly-tracking@track-interaction",[[23,2,["controlName"]]]]],[["@class","@href","@target"],[[28,"concat",["display-flex ",[23,1,[]]],null],[23,2,["url"]],"_blank"]],{"statements":[[0,"\\n  "],[7,"div",true],[11,"class",[28,"concat",["msg-unrolled-virtual-meeting__icon mr4 ",[23,2,["class"]]],null]],[8],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[8],[0,"\\n    "],[7,"p",true],[10,"class","t-14 t-bold"],[8],[0,"\\n      "],[1,[23,2,["name"]],false],[0,"\\n    "],[9],[0,"\\n    "],[7,"p",true],[10,"class","t-12"],[8],[0,"\\n      "],[1,[28,"t",["i18n_join_meeting","msg-ui/components/primitives/unrolled-virtual-meeting"],null],false],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]}],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"msg-ui/components/primitives/unrolled-virtual-meeting.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/quick-replies",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","ember-batcher","global-utils/utils/is-browser","msg-shared/utils/constants"],function(e,t,s,n,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,c,p,d,u,g,h,b,f,v,y,_,E,w,M,k
const C=Ember.HTMLBars.template({id:"P4bAUfLZ",block:'{"symbols":["reply","asset","@controlActionEventName","@conversation","@openGIFPopover","@handleInMailReplySmartAction","@trackingPrefix"],"statements":[[4,"if",[[23,0,["hasOverflow"]]],null,{"statements":[[0,"  "],[5,"artdeco-button@artdeco-button",[],[["@class","@circle","@size","@icon","@text","@color","@type","@disabled","@click"],["flex-shrink-zero mr2",true,1,"chevron-left-icon",[28,"t",["i18n_scroll_quick_replies_left","msg-ui/components/quick-replies"],null],"muted","tertiary",[23,0,["disableScrollLeft"]],[28,"action",[[23,0,[]],"scrollHandler","LEFT"],null]]]],[0,"\\n"]],"parameters":[]},null],[7,"ul",true],[11,"class",[29,["conversations-quick-replies__container relative list-style-none display-flex justify-flex-start overflow-hidden pv2",[28,"if",[[23,0,["animateIn"]]," conversations-quick-replies__container--animate-in"],null]]]],[8],[0,"\\n"],[4,"each",[[23,0,["filteredQuickReplies"]]],null,{"statements":[[0,"    "],[7,"li",true],[10,"class","conversations-quick-replies__reply"],[8],[0,"\\n"],[4,"if",[[23,0,["showThorSmartActions"]]],null,{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["reply","replyType"]],"GIF"],null]],null,{"statements":[[0,"          "],[5,"msg-ui@quick-reply",[],[["@replyTo","@reply","@replyAction","@trackingPrefix"],[[23,0,["conversation","latestEvent"]],[23,1,[]],[28,"action",[[23,0,[]],[23,5,[]],[23,1,["reply","quickActionPrefillText"]]],null],[23,7,[]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["reply","replyType"]],"INMAIL_ACCEPT"],null]],null,{"statements":[[0,"          "],[5,"msg-ui@quick-reply",[],[["@replyTo","@reply","@replyAction","@trackingPrefix"],[[23,0,["conversation","latestEvent"]],[23,1,[]],[28,"action",[[23,0,[]],[23,6,[]],[23,1,[]]],null],[23,7,[]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["reply","replyType"]],"INMAIL_DECLINE"],null]],null,{"statements":[[0,"          "],[5,"msg-ui@quick-reply",[],[["@replyTo","@reply","@replyAction","@trackingPrefix"],[[23,0,["conversation","latestEvent"]],[23,1,[]],[28,"action",[[23,0,[]],[23,6,[]],[23,1,[]]],null],[23,7,[]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[5,"msg-ui@quick-reply",[],[["@replyTo","@reply","@replyAction","@controlActionEventName","@emojiSkintone"],[[23,0,["conversation","latestEvent"]],[23,1,[]],[28,"action",[[23,0,[]],[23,0,["sendQuickReply"]],[23,1,["reply"]],[23,4,[]]],null],[23,3,[]],[23,0,["emojiSkintoneManager","selectedSkintone"]]]]],[0,"\\n        "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[28,"global-helpers@eq",[[23,1,["reply","replyType"]],"GIF"],null]],null,{"statements":[[0,"            "],[7,"button",false],[12,"class","conversations-quick-replies__reply-button artdeco-button artdeco-button--2 artdeco-button--secondary p0"],[12,"data-control-name","smart_action_gif"],[12,"type","button"],[3,"action",[[23,0,[]],[23,5,[]],[23,1,["reply","quickActionPrefillText"]],[28,"ember-cli-pemberly-tracking@tracking",null,[["control-name"],["smart_action_gif"]]]]],[8],[0,"\\n              "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size","class"],["gif-icon","small","conversations-quick-replies__rich-props-icon"]]],false],[0,"\\n              "],[7,"hr",true],[10,"class","conversations-quick-replies__rich-props-vertical-divider"],[8],[9],[0,"\\n              "],[7,"span",true],[10,"class","a11y-text"],[8],[1,[28,"t",["i18n_a11y_reply_context","msg-ui/components/quick-replies"],[["contentText"],[[23,1,["reply","quickActionPrefillText"]]]]],false],[9],[0,"\\n              "],[7,"span",true],[10,"aria-hidden","true"],[10,"class","ml2 mr3"],[8],[1,[28,"t",["i18n_a11y_search_gif_text","msg-ui/components/quick-replies"],[["prefilledText"],[[23,1,["reply","quickActionPrefillText"]]]]],false],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[5,"artdeco-button@artdeco-button",[],[["@class","@type","@data-control-name","@click"],["conversations-quick-replies__reply-button","secondary",[23,3,[]],[28,"action",[[23,0,[]],"sendQuickReply",[23,1,["reply"]],[23,4,[]]],null]]],{"statements":[[0,"\\n            "],[7,"span",true],[10,"class","a11y-text"],[8],[1,[28,"t",["i18n_a11y_reply_context","msg-ui/components/quick-replies"],[["contentText"],[[23,1,["text"]]]]],false],[9],[0,"\\n            "],[7,"span",true],[10,"class","conversations-quick-replies__reply-content"],[10,"aria-hidden","true"],[8],[0,"\\n"],[4,"if",[[23,0,["emojiSkintoneManager","selectedSkintone"]]],null,{"statements":[[0,"                "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,2,["state","fulfilled"]]],null,{"statements":[[0,"                    "],[1,[28,"msg-rich-media@emoji-skintone-modifier",[[23,1,["text"]],[23,0,["emojiSkintoneManager","selectedSkintone"]]],null],false],[0,"\\n"]],"parameters":[]},null],[0,"                "]],"parameters":[2]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                "],[1,[23,1,["text"]],false],[0,"\\n"]],"parameters":[]}],[0,"            "],[9],[0,"\\n          "]],"parameters":[]}],[0,"\\n"]],"parameters":[]}]],"parameters":[]}],[0,"    "],[9],[0,"\\n"]],"parameters":[1]},null],[9],[0,"\\n\\n"],[4,"if",[[23,0,["hasOverflow"]]],null,{"statements":[[0,"  "],[5,"artdeco-button@artdeco-button",[],[["@class","@circle","@size","@icon","@text","@color","@type","@disabled","@click"],["flex-shrink-zero ml2",true,1,"chevron-right-icon",[28,"t",["i18n_scroll_quick_replies_right","msg-ui/components/quick-replies"],null],"muted","tertiary",[23,0,["disableScrollRight"]],[28,"action",[[23,0,[]],"scrollHandler","RIGHT"],null]]]],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"msg-ui/components/quick-replies.hbs"}}),{IMPRESSION_KEYS:{CONTEXTUAL_RECOMMENDATION_IMPRESSION:T},CONTROL_NAMES:x,ACTION_KEYS:{MEBC_QUICK_REPLY_ACTION:P},KEYCODES:{TAB:O}}=l.default
let S=(m=(0,r.classNames)("conversations-quick-replies","justify-center","display-flex","align-items-center"),c=Ember.inject.service("lix"),p=Ember.inject.service("store"),d=Ember.inject.service("tracking"),u=Ember.inject.service("client-sensor-web@client-sensor"),g=Ember.inject.service("msg-shared@emoji-skintone"),h=Ember.computed("quickReplies.[]","maxQuickReplies").readOnly(),b=Ember._action,f=Ember._action,m(v=(y=class extends Ember.Component{constructor(){super(...arguments);(0,s.default)(this,"data-test-msg-thread-quick-replies",!0);(0,t.default)(this,"lix",_,this);(0,t.default)(this,"store",E,this);(0,t.default)(this,"tracking",w,this);(0,t.default)(this,"clientSensor",M,this);(0,t.default)(this,"emojiSkintoneManager",k,this);(0,s.default)(this,"disableScrollLeft",!0);(0,s.default)(this,"disableScrollRight",!1);(0,s.default)(this,"animateIn",!0)}get filteredQuickReplies(){const{quickReplies:e,maxQuickReplies:t}=this,s=e.filter(e=>{const t=Ember.get(e,"reply.replyType")
return!t||this.replyActions[t]})
return t?s.slice(0,t):s}init(){super.init.apply(this,arguments)
this.tracking.setupTrackableComponent(this)
this._cachedContextWidth=this.contextWidth
this.replyActions={TEXT:this.saveReply,GIF:this.openGIFPopover,INMAIL_ACCEPT:this.handleInMailReplySmartAction,INMAIL_DECLINE:this.handleInMailReplySmartAction}
this.showThorSmartActions=this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-premium")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-lss")}didInsertElement(){super.didInsertElement.apply(this,arguments)
this.scrollingElement=this.element.querySelector(".conversations-quick-replies__container")}didReceiveAttrs(){super.didReceiveAttrs.apply(this,arguments)
this.shouldUpdate=!this.eventId||this.eventId!==this.lastQRId
if(this.shouldUpdate){Ember.set(this,"animateIn",!1)
this.lastQRId=this.eventId}}didUpdateAttrs(){super.didUpdateAttrs.apply(this,arguments)
if(this._cachedContextWidth!==this.contextWidth){this._checkOverflow()
this._cachedContextWidth=this.contextWidth}}didRender(){super.didRender.apply(this,arguments)
if(this.shouldUpdate){this._checkOverflow()
this.shouldUpdate=!1}}keyUp(e){o.default&&this.hasOverflow&&e.keyCode===O&&this._updateScrollButtons(this.scrollingElement.scrollLeft)}onExposed(){if(this.usecase){const{quickReplies:e,tracking:t}=this
e.forEach(e=>{const{reply:s}=e
t.fireTrackingPayload(T,{recommendedEntity:{recommendedEntityUrn:Ember.get(s,"objectUrn"),recommendationTrackingId:Ember.get(s,"trackingId"),usecase:this.usecase,visibleTime:0,duration:0,listPosition:{index:0}}})})}}_checkOverflow(){Ember.set(this,"hasOverflow",!1);(0,a.mutateDOM)(()=>{this.isDestroying||Ember.run(()=>{Ember.set(this,"hasOverflow",this.scrollingElement.scrollWidth>this.scrollingElement.clientWidth)})})}_updateScrollButtons(e){const t=this.scrollingElement.scrollWidth-this.scrollingElement.clientWidth
let s=!1,n=!1
e<=0?s=!0:e>=t&&(n=!0)
Ember.setProperties(this,{disableScrollLeft:s,disableScrollRight:n})}sendQuickReply(e,t,s){const n=s.target.querySelector(".conversations-quick-replies__reply-content").innerText
n&&Ember.set(e,"content.text",n)
const i=this.useCase
this.saveReply(e,t,i)
const r=this.tracking.generateControlUrn(x.MEBC_QUICK_REPLY),a=Ember.get(e,"trackingId")
this.tracking.fireTrackingPayload(P,{controlUrn:r,recommendationTrackingId:a,actionCategory:"SELECT",usecase:i})
this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"smart-reply-action-event"})}scrollHandler(e){(0,a.mutateDOM)(()=>{if(!this.isDestroying){const{clientWidth:t,scrollLeft:s}=this.scrollingElement,n="LEFT"===e?s-t:s+t
"scrollBehavior"in document.documentElement.style?this.scrollingElement.scrollTo({behavior:"smooth",left:n,top:0}):this.scrollingElement.scrollTo(s,0)
this._updateScrollButtons(n)}})}},_=(0,n.default)(y.prototype,"lix",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(y.prototype,"store",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,n.default)(y.prototype,"tracking",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,n.default)(y.prototype,"clientSensor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,n.default)(y.prototype,"emojiSkintoneManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(y.prototype,"filteredQuickReplies",[h],Object.getOwnPropertyDescriptor(y.prototype,"filteredQuickReplies"),y.prototype),(0,n.default)(y.prototype,"sendQuickReply",[b],Object.getOwnPropertyDescriptor(y.prototype,"sendQuickReply"),y.prototype),(0,n.default)(y.prototype,"scrollHandler",[f],Object.getOwnPropertyDescriptor(y.prototype,"scrollHandler"),y.prototype),y))||v)
e.default=S
Ember._setComponentTemplate(C,S)})
define("msg-ui/components/quick-reply",["exports","@glimmer/component"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=Ember.HTMLBars.template({id:"zYDhwQx6",block:'{"symbols":["asset","@reply","@emojiSkintone","@replyAction"],"statements":[[4,"if",[[23,0,["canRender"]]],null,{"statements":[[4,"if",[[23,0,["isSmartAction"]]],null,{"statements":[[0,"    "],[7,"button",false],[12,"class","conversations-quick-replies__reply-button artdeco-button artdeco-button--2 artdeco-button--secondary p0"],[12,"type","button"],[3,"ember-cli-pemberly-tracking@track-interaction",[[23,0,["controlName"]]]],[3,"on",["click",[23,4,[]]]],[8],[0,"\\n      "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size","class"],[[23,0,["icon"]],"small","conversations-quick-replies__rich-props-icon"]]],false],[0,"\\n      "],[7,"hr",true],[10,"class","conversations-quick-replies__rich-props-vertical-divider"],[8],[9],[0,"\\n      "],[7,"span",true],[10,"class","a11y-text"],[8],[1,[28,"t",["i18n_a11y_reply_context","msg-ui/components/quick-reply"],[["contentText"],[[23,2,["text"]]]]],false],[9],[0,"\\n      "],[7,"span",true],[10,"aria-hidden","true"],[10,"class","ml2 mr3"],[8],[0,"\\n        "],[1,[23,2,["text"]],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[5,"artdeco-button@artdeco-button",[[3,"ember-cli-pemberly-tracking@track-interaction",[[23,0,["controlName"]]]]],[["@class","@type","@click"],["conversations-quick-replies__reply-button","secondary",[23,4,[]]]],{"statements":[[0,"\\n      "],[7,"span",true],[10,"class","a11y-text"],[8],[1,[28,"t",["i18n_a11y_reply_context","msg-ui/components/quick-reply"],[["contentText"],[[23,2,["text"]]]]],false],[9],[0,"\\n      "],[7,"span",true],[10,"class","conversations-quick-replies__reply-content"],[10,"aria-hidden","true"],[8],[0,"\\n"],[4,"if",[[23,3,[]]],null,{"statements":[[0,"          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"              "],[1,[28,"msg-rich-media@emoji-skintone-modifier",[[23,2,["text"]],[23,3,[]]],null],false],[0,"\\n"]],"parameters":[]},null],[0,"          "]],"parameters":[1]}],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[1,[23,2,["text"]],false],[0,"\\n"]],"parameters":[]}],[0,"      "],[9],[0,"\\n    "]],"parameters":[]}],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"msg-ui/components/quick-reply.hbs"}}),n={TEXT:{typeName:"text",isSmartAction:!1,controlName:"mebc_quick_reply",icon:void 0},GIF:{typeName:"gif",isSmartAction:!0,controlName:"smart_action_gif",icon:"gif-icon"},INMAIL_ACCEPT:{typeName:"inmail-accept",isSmartAction:!0,controlName:"inmail_yes",icon:"pencil-icon"},INMAIL_DECLINE:{typeName:"inmail-decline",isSmartAction:!0,controlName:"inmail_no",icon:"pencil-icon"}}
class i extends t.default{constructor(){super(...arguments)
this.replyType=Ember.get(this.args.reply,"reply.replyType")||"TEXT"
this.canRender=this.replyType in n
if(this.canRender){Object.assign(this,n[this.replyType])
if(this.args.controlActionEventName)this.controlName=this.args.controlActionEventName
else{const e=this.args.trackingPrefix||""
let t=""
Ember.get(this.args.replyTo,"isInMail")&&(t=Ember.get(this.args.replyTo,"isRecruiterInMail")?"lts_":Ember.get(this.args.replyTo,"isSalesInMail")?"lss_":"premium_")
this.controlName=`${e}${t}${this.controlName}`}}}}e.default=i
Ember._setComponentTemplate(s,i)})
define("msg-ui/components/selectable-entity",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@glimmer/component"],function(e,t,s,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i,r
const a=Ember.HTMLBars.template({id:"taxU8onw",block:'{"symbols":["@conversation","@entitySize","@iconSize","@checkboxOnly","@disableSelectability","&attrs"],"statements":[[7,"div",false],[12,"class",[29,[[28,"if",[[23,5,[]],"pt1","msg-selectable-entity"],null]," ",[28,"if",[[23,4,[]],"msg-selectable-entity__checkbox-only"],null]," ",[23,0,["sizeClass"]]]]],[13,6],[3,"on",["click",[23,0,["handleClick"]]]],[8],[0,"\\n"],[4,"if",[[23,1,["hasPresence"]]],null,{"statements":[[0,"    "],[5,"presence@entity-with-presence",[],[["@classNames","@miniProfile","@size"],["msg-selectable-entity__entity",[23,1,["participants","firstObject","miniProfile"]],[23,2,[]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[5,"msg-facepile-grid@conversation-facepile-grid",[[12,"class","msg-selectable-entity__entity"]],[["@conversation","@entitySize","@iconSize"],[[23,1,[]],[23,2,[]],[23,3,[]]]]],[0,"\\n"]],"parameters":[]}],[0,"\\n  "],[7,"div",true],[10,"class","msg-selectable-entity__checkbox-container"],[8],[0,"\\n    "],[5,"input",[],[["@type","@tabindex","@classNames","@id","@checked"],["checkbox","-1",[28,"concat",["msg-selectable-entity__input",[28,"if",[[28,"global-helpers@eq",[[23,2,[]],2],null]," small-input"," simple-form"],null]],null],[28,"concat",["checkbox-",[24,["inputId"]]],null],[23,1,["checked"]]]]],[0,"\\n    "],[7,"label",true],[10,"class","msg-selectable-entity__checkbox-label ml2"],[11,"aria-label",[28,"if",[[23,1,["checked"]],[28,"t",["i18n_unselect_conversation_a11y","msg-ui/components/selectable-entity"],null],[28,"t",["i18n_select_conversation_a11y","msg-ui/components/selectable-entity"],null]],null]],[11,"for",[28,"concat",["checkbox-",[24,["inputId"]]],null]],[8],[0,"\\n    "],[9],[0,"\\n\\n    "],[7,"div",true],[10,"class","msg-selectable-entity__checkbox-circle-container"],[8],[0,"\\n      "],[7,"div",true],[10,"class","msg-selectable-entity__checkbox-circle"],[8],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/selectable-entity.hbs"}}),o={1:"msg-selectable-entity--1",2:"msg-selectable-entity--2",3:"msg-selectable-entity--3",4:"msg-selectable-entity--4"}
let l=(i=Ember._action,r=class extends n.default{constructor(){super(...arguments);(0,t.default)(this,"inputId",`msg-selectable-entity__checkbox-${Ember.guidFor(this)}`)}get sizeClass(){return o[this.args.entitySize]}handleClick(e){if(!this.args.disableSelectability){e.stopPropagation()
e.preventDefault()
this.args.onCheckboxClick()}}},(0,s.default)(r.prototype,"handleClick",[i],Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),r.prototype),r)
e.default=l
Ember._setComponentTemplate(a,l)})
define("msg-ui/components/selected-filter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants"],function(e,t,s,n,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,m,c,p,d,u,g,h,b,f,v
const y=Ember.HTMLBars.template({id:"pJtxuTER",block:'{"symbols":["@disabled","@count","&attrs","@clearFilter","@currentFilter","@trackingPrefix"],"statements":[[7,"div",false],[12,"class","msg-selected-filter t-12"],[13,3],[8],[0,"\\n  "],[7,"div",true],[10,"class","display-flex"],[8],[0,"\\n    "],[5,"artdeco-button@artdeco-button",[[12,"aria-label",[28,"t",["a11y_remove_filter","msg-ui/components/selected-filter"],[["filter"],[[23,5,[]]]]]]],[["@icon","@color","@size","@type","@click","@text","@disabled"],["cancel-icon","muted",1,"tertiary",[23,4,[]],[28,"t",["i18n_filter","msg-ui/components/selected-filter"],[["filter","count"],[[23,5,[]],[23,2,[]]]]],[23,1,[]]]]],[0,"\\n\\n"],[4,"if",[[28,"global-helpers@eq",[[23,5,[]],"UNREAD"],null]],null,{"statements":[[0,"      "],[5,"artdeco-button@artdeco-button",[],[["@classNames","@text","@size","@type","@click","@disabled"],["mlA",[28,"t",["i18n_mark_all_read","msg-ui/components/selected-filter"],null],1,"tertiary",[28,"ember-simple-set-helper@set",[[23,0,[]],"confirmationIsOpen",true],null],[28,"global-helpers@or",[[28,"global-helpers@lte",[[23,2,[]],0],null],[23,1,[]]],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"  "],[9],[0,"\\n"],[4,"if",[[23,0,["showUnreadFilterOnboarding"]]],null,{"statements":[[0,"    "],[5,"msg-ui@inbox-onboarding-widget",[],[["@type","@dismissOnImpression","@text","@legoConfig"],["simple",true,[28,"t",["i18n_unread_filter_onboarding_text","msg-ui/components/selected-filter"],null],[23,0,["unreadFilterOnboardingLegoConfig"]]]]],[0,"\\n"]],"parameters":[]},null],[9],[0,"\\n\\n"],[5,"artdeco-modal@artdeco-confirmation-dialog",[],[["@testId","@isOpen","@title","@content","@primaryActionText","@primaryActionTextA11y","@onPrimary","@primaryControlName","@secondaryActionText","@secondaryActionTextA11y","@onSecondary","@secondaryControlName","@onEscape"],["msg-mark-all-read-modal",[23,0,["confirmationIsOpen"]],[28,"t",["i18n_confirm_mark_all_as_read","msg-ui/components/selected-filter"],[["count"],[[23,2,[]]]]],[28,"t",["i18n_confirmation_text_body_mark_all_read","msg-ui/components/selected-filter"],null],[28,"t",["i18n_yes","msg-ui/components/selected-filter"],null],[28,"t",["a11y_yes_mark_all_read","msg-ui/components/selected-filter"],null],[23,0,["markAllAsRead"]],[28,"concat",[[23,6,[]],"mark_all_read_confirm"],null],[28,"t",["i18n_no_thanks","msg-ui/components/selected-filter"],null],[28,"t",["a11y_dont_mark_all_read","msg-ui/components/selected-filter"],null],[28,"ember-simple-set-helper@set",[[23,0,[]],"confirmationIsOpen",false],null],[28,"concat",[[23,6,[]],"mark_all_read_cancel"],null],[28,"ember-simple-set-helper@set",[[23,0,[]],"confirmationIsOpen",false],null]]]]],"hasEval":false}',meta:{moduleName:"msg-ui/components/selected-filter.hbs"}}),{UNREAD_FILTER_ONBOARDING_LEGO:_}=a.default
let E=(o=Ember.inject.service("msg-data@data-manager"),l=Ember.inject.service("msg-badge-manager@msg-badge-manager"),m=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),c=Ember.inject.service("lix"),p=Ember._tracked,d=Ember._action,u=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"msgBadgeManager",h,this);(0,t.default)(this,"persistentToastManager",b,this);(0,t.default)(this,"lix",f,this);(0,t.default)(this,"confirmationIsOpen",v,this);(0,s.default)(this,"unreadFilterOnboardingLegoConfig",_)}get showUnreadFilterOnboarding(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-filter-onboarding")&&this.args.count>0&&"UNREAD"===this.args.currentFilter}markAllAsRead(){this.msgDataManager.markAllConversationsAsRead().then(()=>{if(!this.isDestroying){this.msgBadgeManager.setBadgeCount(0)
this.args.clearFilter()}}).catch(e=>{const t=this.i18n.lookupTranslation("component","msg-ui@selected-filter","i18n_failed_to_mark_all_read")([])
this.persistentToastManager.error({message:t})
throw e}).finally(()=>{this.confirmationIsOpen=!1})}},g=(0,n.default)(u.prototype,"msgDataManager",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,n.default)(u.prototype,"msgBadgeManager",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,n.default)(u.prototype,"persistentToastManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.default)(u.prototype,"lix",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,n.default)(u.prototype,"confirmationIsOpen",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(u.prototype,"markAllAsRead",[d],Object.getOwnPropertyDescriptor(u.prototype,"markAllAsRead"),u.prototype),u)
e.default=E
Ember._setComponentTemplate(y,E)})
define("msg-ui/components/sortable-group",["exports","ember-sortable/components/sortable-group"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s=t.default
e.default=s})
define("msg-ui/components/sortable-handle",["exports","ember-sortable/components/sortable-handle"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s=t.default
e.default=s})
define("msg-ui/components/sortable-item",["exports","ember-sortable/components/sortable-item"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s=t.default
e.default=s})
define("msg-ui/components/suggested-filter",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"N4AshE1o",block:'{"symbols":["@disabled","@count","@suggestedFilter","@applyFilter","@positionedAtBottom","&attrs"],"statements":[[0,"\\n"],[7,"div",false],[12,"class",[29,["msg-suggested-filter ",[28,"if",[[23,5,[]],"msg-suggested-filter__bottom"],null]]]],[13,6],[8],[0,"\\n"],[4,"if",[[23,5,[]]],null,{"statements":[[0,"    "],[5,"artdeco-button@artdeco-button",[[12,"class","p3"]],[["@disabled","@stretch","@text","@icon","@size","@type","@click"],[[23,1,[]],"fluid",[28,"t",["i18n_view_suggested_filter","msg-ui/components/suggested-filter"],[["suggestedFilter","count"],[[23,3,[]],[23,2,[]]]]],"envelope-icon",1,"tertiary",[28,"fn",[[23,4,[]],[23,3,[]]],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[5,"artdeco-button@artdeco-button",[[12,"class","justify-space-between p3"]],[["@disabled","@stretch","@text","@icon","@size","@type","@iconRight","@color","@click"],[[23,1,[]],"fluid",[28,"t",["i18n_suggested_filter","msg-ui/components/suggested-filter"],[["suggestedFilter","count"],[[23,3,[]],[23,2,[]]]]],"chevron-right-icon",1,"tertiary",true,"muted",[28,"fn",[[23,4,[]],[23,3,[]]],null]]]],[0,"\\n"]],"parameters":[]}],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/suggested-filter.hbs"}})
var s=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=s})
define("msg-ui/components/thread",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/object","gdpr-notice/utils/notice-constants","msg-shared/utils/constants","msg-shared/utils/custom-tracking","msg-shared/utils/funnel-tracking","global-utils/utils/api-compat","global-utils/utils/is-browser","msg-ui/utils/mentions-helper","msg-ui/utils/conversation-properties","msg-ui/utils/share-contact-info-helper","msg-shared/utils/user-visible-exception-helper"],function(e,t,s,n,i,r,a,o,l,m,c,p,d,u,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,f,v,y,_,E,w,M,k,C,T,x,P,O,S,I,D,R,A,j,N,F,L,U,q,z,B,H,W,G,V,K,Q,$,Y,J,Z,X,ee,te,se,ne,ie,re,ae,oe,le,me,ce,pe,de,ue,ge,he,be,fe,ve,ye,_e,Ee,we,Me,ke,Ce,Te,xe,Pe,Oe
const Se=Ember.HTMLBars.template({id:"CD6tRS5A",block:'{"symbols":["assetLoader","components","actions","props","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","scroller","assetLoader","assetLoader","@bubbleId","@isOverlay"],"statements":[[7,"div",true],[10,"class","msg-thread__thread-actions-tray"],[8],[0,"\\n  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,15,["state","fulfilled"]]],null,{"statements":[[4,"if",[[23,0,["showRenameConversationForm"]]],null,{"statements":[[0,"        "],[5,"msg-conversation-ui@conversation-rename",[],[["@conversation","@setFocusOnRender","@hideRenameConversationForm","@actionTrackingPrefix","@pageKey"],[[23,0,["conversation"]],[23,0,["setFocusToRenameConversationForm"]],[23,0,["toggleShowRenameConversation"]],[23,0,["actionTrackingPrefix"]],[23,0,["renamePageKey"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showConversationMuteBanner"]]],null,{"statements":[[0,"        "],[5,"msg-conversation-ui@conversation-mute-banner",[],[["@toggleConversationMute","@actionTrackingPrefix","@pageKey"],[[28,"action",[[23,0,[]],"toggleConversationMute"],null],[23,0,["actionTrackingPrefix"]],[23,0,["mutePageKey"]]]]],[0,"\\n"]],"parameters":[]},null],[4,"unless",[[23,0,["conversation","isInMail"]]],null,{"statements":[[0,"        "],[5,"msg-conversation-ui@nonconnection-banner",[],[["@conversation"],[[23,0,["conversation"]]]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"  "]],"parameters":[15]}],[0,"\\n"],[9],[0,"\\n\\n"],[4,"if",[[23,0,["conversation","latestEvent","isInMail"]]],null,{"statements":[[0,"  "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,14,["state","fulfilled"]]],null,{"statements":[[0,"      "],[5,"msg-shared-modals@gdpr-notice",[],[["@noticeTypes"],[[23,0,["gdprNoticeType"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"  "]],"parameters":[14]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["showMessageList"]]],null,{"statements":[[0,"  "],[5,"msg-ui@message-list-scroller",[],[["@composeIsFullyExpanded","@initialEventsRequest","@conversation","@latestEvent","@typingParticipants","@perfMeasurement","@loadMore"],[[23,0,["composeIsFullyExpanded"]],[23,0,["fetchedEventsProxy"]],[23,0,["conversation"]],[23,0,["conversation","latestEvent"]],[23,0,["conversation","typingParticipants"]],[23,0,["perfMeasurement"]],[28,"action",[[23,0,[]],"loadMoreMessages"],null]]],{"statements":[[0,"\\n    "],[5,"msg-ui@message-list",[],[["@blockedByNoResponse","@isOverlay","@isLoading","@conversation","@handleSuccessfulDiscardRequest","@resendMessage","@inlineProfileCardLayout","@addParticipantsPageKey","@actionTrackingPrefix","@showMessageEditForm","@toggleShowRenameConversation","@showQuickReplies","@enableNewQuickReplies","@quickRepliesList","@quickRepliesUseCase","@submitQuickReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@contextWidth"],[[23,0,["blockedByNoResponse"]],[23,0,["isOverlay"]],[23,13,["props","isLoading"]],[23,0,["conversation"]],[23,0,["handleSuccessfulDiscardRequest"]],[28,"action",[[23,0,[]],"resendMessage"],null],[23,0,["isOriginalSize"]],[23,0,["addParticipantsPageKey"]],[23,0,["actionTrackingPrefix"]],[28,"action",[[23,0,[]],"showMessageEditForm"],null],[23,0,["toggleShowRenameConversation"]],[23,0,["showQuickReplies"]],[23,0,["enableNewQuickReplies"]],[23,0,["quickRepliesList"]],[23,0,["quickRepliesUseCase"]],[28,"action",[[23,0,[]],"submitQuickReply"],null],[28,"action",[[23,0,[]],"openGIFPopover"],null],[28,"action",[[23,0,[]],"openInMailReplyPanel"],null],[28,"action",[[23,0,[]],"showInmailDeclineReasonModal"],null],[23,0,["width"]]]]],[0,"\\n"],[4,"if",[[28,"global-helpers@and",[[23,0,["enableScrollToLatestMessageIndicator"]],[23,13,["props","scrollingPastThreshold"]]],null]],null,{"statements":[[0,"      "],[7,"div",true],[10,"class","msg-s-message-list__new-message msg-animation__indicator"],[8],[0,"\\n        "],[5,"artdeco-button@artdeco-button",[[12,"aria-label",[28,"if",[[23,13,["props","hasNewMessages"]],[28,"t",["a11y_new_messages","msg-ui/components/thread"],null],[28,"t",["a11y_latest_message","msg-ui/components/thread"],null]],null]]],[["@class","@size","@controlType","@text","@click","@icon"],["msg-s-message-list__new-message-button block",1,"button",[28,"if",[[23,13,["props","hasNewMessages"]],[28,"t",["i18n_new_messages_v2","msg-ui/components/thread"],null],[28,"t",["i18n_latest_message","msg-ui/components/thread"],null]],null],[28,"action",[[23,0,[]],[23,13,["actions","scrollToNewMessages"]]],null],"arrow-down-icon"]]],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,13,["props","hasNewMessages"]]],null,{"statements":[[0,"        "],[7,"div",true],[10,"class","msg-s-message-list__new-message msg-animation__indicator"],[8],[0,"\\n          "],[5,"artdeco-button@artdeco-button",[[12,"aria-label",[28,"t",["a11y_new_messages","msg-ui/components/thread"],null]]],[["@class","@size","@controlType","@icon","@text","@click"],["msg-s-message-list__new-message-button",1,"button","arrow-down-icon",[28,"t",["i18n_new_messages_v2","msg-ui/components/thread"],null],[28,"action",[[23,0,[]],[23,13,["actions","scrollToNewMessages"]]],null]]]],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"  "]],"parameters":[13]}],[0,"\\n"],[4,"if",[[28,"global-helpers@not",[[23,0,["enableDismissQRWhenScrolling"]]],null]],null,{"statements":[[4,"if",[[23,0,["showQuickReplies"]]],null,{"statements":[[4,"if",[[23,0,["enableNewQuickReplies"]]],null,{"statements":[[0,"        "],[5,"msg-ui@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@contextWidth"],[[23,0,["conversation"]],[23,0,["conversation","latestEvent","id"]],[23,0,["quickRepliesList"]],[23,0,["quickRepliesUseCase"]],[23,0,["actionTrackingPrefix"]],"mebc_quick_reply",[28,"action",[[23,0,[]],"submitQuickReply"],null],[28,"action",[[23,0,[]],"openGIFPopover"],null],[28,"action",[[23,0,[]],"openInMailReplyPanel"],null],[28,"action",[[23,0,[]],"showInmailDeclineReasonModal"],null],[23,0,["width"]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[5,"conversations@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@contextWidth"],[[23,0,["conversation"]],[23,0,["conversation","latestEvent","id"]],[23,0,["quickRepliesList"]],[23,0,["quickRepliesUseCase"]],[23,0,["actionTrackingPrefix"]],"mebc_quick_reply",[28,"action",[[23,0,[]],"submitQuickReply"],null],[28,"action",[[23,0,[]],"openGIFPopover"],null],[28,"action",[[23,0,[]],"openInMailReplyPanel"],null],[28,"action",[[23,0,[]],"showInmailDeclineReasonModal"],null],[23,0,["width"]]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showInMailQuickReplies"]]],null,{"statements":[[4,"if",[[23,0,["enableNewQuickReplies"]]],null,{"statements":[[0,"        "],[5,"msg-ui@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@contextWidth"],[[23,0,["conversation"]],[23,0,["conversation","latestEvent","id"]],[23,0,["quickRepliesList"]],[23,0,["quickRepliesUseCase"]],[23,0,["actionTrackingPrefix"]],"mebc_quick_reply",[28,"action",[[23,0,[]],"submitQuickReply"],null],[28,"action",[[23,0,[]],"openGIFPopover"],null],[28,"action",[[23,0,[]],"openInMailReplyPanel"],null],[28,"action",[[23,0,[]],"showInmailDeclineReasonModal"],null],[23,0,["width"]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[5,"conversations@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@contextWidth"],[[23,0,["conversation"]],[23,0,["conversation","latestEvent","id"]],[23,0,["quickRepliesList"]],[23,0,["quickRepliesUseCase"]],[23,0,["actionTrackingPrefix"]],"mebc_quick_reply",[28,"action",[[23,0,[]],"submitQuickReply"],null],[28,"action",[[23,0,[]],"openGIFPopover"],null],[28,"action",[[23,0,[]],"openInMailReplyPanel"],null],[28,"action",[[23,0,[]],"showInmailDeclineReasonModal"],null],[23,0,["width"]]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"parameters":[]}],[4,"if",[[23,0,["customLssFooter"]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","pt3 ph5 pb2"],[8],[0,"\\n      "],[7,"p",true],[10,"class","t-12 t-black--light mb3"],[8],[0,"\\n        "],[1,[23,0,["customLssFooter","mainText","text"]],false],[0,"\\n        "],[7,"button",false],[12,"class","t-12 t-black--light link-without-visited-state"],[12,"type","button"],[3,"on",["click",[28,"ember-simple-set-helper@set",[[23,0,[]],"blockDialogOpen",true],null]]],[8],[0,"\\n          "],[1,[23,0,["customLssFooter","unsubscribeText","text"]],false],[0,"\\n        "],[9],[0,"\\n      "],[9],[0,"\\n\\n"],[4,"if",[[23,0,["blockDialogOpen"]]],null,{"statements":[[0,"        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,12,["state","fulfilled"]]],null,{"statements":[[0,"            "],[5,"msg-shared-modals@block-lss-modal",[],[["@modalIsOpen","@convoId","@participantNames","@closeModal"],[true,[23,0,["conversation","id"]],[23,0,["conversation","participantNames"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"blockDialogOpen",false],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[12]}],[0,"\\n"]],"parameters":[]},null],[0,"    "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showOneToOneProfileCard"]]],null,{"statements":[[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],{"statements":[[0,"\\n"],[4,"if",[[23,11,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"msg-conversation-ui@profile-card-one-to-one",[[12,"class","pv4 ph3"]],[["@inlineLayout","@recipientProfile","@contextText"],[[23,0,["isOriginalSize"]],[23,0,["messageRecipients","firstObject"]],[23,0,["messageContext","contextText"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[11]}],[0,"\\n"]],"parameters":[]},null],[0,"  "],[7,"div",true],[11,"class",[29,["msg-compose-container__spacer mtA\\n\\n\\n      ",[28,"if",[[23,0,["composeIsFullyExpanded"]]," msg-compose-container__spacer--compose-is-expanded"],null]]]],[8],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]}],[4,"if",[[23,0,["conversation","blocked"]]],null,{"statements":[[0,"  "],[5,"msg-ui@conversation-unspam",[],[["@conversation"],[[23,0,["conversation"]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showMessageForm"]]],null,{"statements":[[4,"if",[[23,0,["shouldShowMessageEditForm"]]],null,{"statements":[[0,"    "],[5,"msg-ui@msg-edit-form/msg-edit-form",[],[["@trackingPrefix","@saveEditControlName","@event","@prefilledMessage","@onDismissEditForm","@conversation"],[[23,0,["actionTrackingPrefix"]],[28,"concat",[[23,0,["actionTrackingPrefix"]],"save_edit"],null],[23,0,["messageEventToEdit"]],[23,0,["messageToEdit"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"shouldShowMessageEditForm",false],null],[23,0,["conversation"]]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["blockedByNoResponse"]]],null,{"statements":[[0,"    "],[7,"p",true],[10,"class","msg-thread__blocked-compose p4 t-12 t-black--light t-normal"],[8],[0,"\\n      "],[1,[28,"t",["i18n_no_response_yet","msg-ui/components/thread"],[["linkInfo"],[[28,"hash",null,[["target","href","rel","class","aria-label","data-control-name","data-test-awaiting-inmail-response-learn-more"],["_blank",[23,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[28,"t",["i18n_learn_more_a11y","msg-ui/components/thread"],null],"awaiting_inmail_response_learn_more",true]]]]]],false],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["blockedByDecline"]]],null,{"statements":[[0,"    "],[7,"p",true],[10,"class","msg-thread__blocked-compose p4 t-12 t-black--light t-normal"],[8],[0,"\\n      "],[1,[28,"t",["i18n_recipient_declined_inmail","msg-ui/components/thread"],[["linkInfo"],[[28,"hash",null,[["target","href","rel","class","aria-label","data-control-name","data-test-inmail-declined-learn-more"],["_blank",[23,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[28,"t",["i18n_learn_more_a11y","msg-ui/components/thread"],null],"inmail_declined_learn_more",true]]]]]],false],[0,"\\n    "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["conversation","isPendingMessageRequest"]]],null,{"statements":[[0,"    "],[5,"msg-ui@binary-reply-options",[],[["@isReplyPending","@promptText","@acceptText","@acceptA11yText","@rejectText","@rejectA11yText","@acceptTrackingKey","@rejectTrackingKey","@actionTrackingPrefix","@sendAcceptReply","@sendRejectReply"],[[23,0,["isMessageRequestClickReplyPending"]],[28,"if",[[23,0,["isGroupMessageRequest"]],[28,"t",["i18n_allow_group_message_request_prompt","msg-ui/components/thread"],null],[28,"t",["i18n_allow_message_request_prompt","msg-ui/components/thread"],[["senderName"],[[28,"global-helpers@name",[[28,"get",[[23,0,["conversation","participants"]],"0.miniProfile"],null]],null]]]]],null],[28,"t",["i18n_message_request_reply_form_interested","msg-ui/components/thread"],null],[28,"t",["i18n_a11y_message_request_reply_form_interested","msg-ui/components/thread"],[["senderName"],[[28,"global-helpers@name",[[28,"get",[[23,0,["conversation","participants"]],"0.miniProfile"],null]],null]]]],[28,"if",[[23,0,["isGroupMessageRequest"]],[28,"t",["i18n_message_request_reply_form_leave","msg-ui/components/thread"],null],[28,"t",["i18n_message_request_reply_form_decline","msg-ui/components/thread"],null]],null],[28,"if",[[23,0,["isGroupMessageRequest"]],[28,"t",["i18n_a11y_message_request_reply_form_leave","msg-ui/components/thread"],null],[28,"t",["i18n_a11y_message_request_reply_form_decline","msg-ui/components/thread"],[["senderName"],[[28,"global-helpers@name",[[28,"get",[[23,0,["conversation","participants"]],"0.miniProfile"],null]],null]]]]],null],"accept_message_request","decline_message_request",[23,0,["actionTrackingPrefix"]],[28,"action",[[23,0,[]],"oneClickReplyToMessageRequest",true],null],[28,"action",[[23,0,[]],"oneClickReplyToMessageRequest",false],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showDeclinedMessageRequestAccept"]]],null,{"statements":[[0,"    "],[5,"msg-ui@declined-message-request-accept-banner",[],[["@senderName","@acceptMessageRequest"],[[28,"global-helpers@name",[[28,"get",[[23,0,["conversation","participants"]],"0.miniProfile"],null]],null],[28,"action",[[23,0,[]],"oneClickReplyToMessageRequest",true],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,0,["showThorV2"]]],null,{"statements":[[0,"    "],[5,"msg-ui@binary-reply-options",[],[["@isReplyPending","@promptText","@acceptText","@rejectText","@pageKey","@acceptTrackingKey","@rejectTrackingKey","@sendAcceptReply","@sendRejectReply"],[[23,0,["isInMailClickReplyPending"]],[28,"t",["i18n_learn_more_about_opportunity","msg-ui/components/thread"],null],[28,"t",["i18n_inmail_reply_form_interested","msg-ui/components/thread"],null],[28,"t",["i18n_inmail_reply_form_decline","msg-ui/components/thread"],null],[23,0,["recruiterInmailBinaryReplyPageKey"]],"recruiter_inmail_yes","recruiter_inmail_no_thanks",[28,"action",[[23,0,[]],"oneClickReplyToRecruiterInMail",true],null],[28,"action",[[23,0,[]],"oneClickReplyToRecruiterInMail",false],null]]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[5,"msg-ui@msg-form/base-form",[],[["@id","@beforeUpload","@bubbleId","@composeIsFullyExpanded","@messageContext","@contextByRecipients","@conversation","@hasResharedContent","@isOverlay","@externallyValid","@forwardedEvent","@isInMailCompose","@messagingSettings","@msgAdapterOptions","@overridePlaceholder","@prefilledAttachments","@prefilledMessage","@subject","@submitMessage","@toggleExpandComposeField","@update","@smpContent","@updateFormState","@validateForm","@onBeforeFormSubmit"],[[23,0,["msgFormId"]],[28,"action",[[23,0,[]],"beforeUpload"],null],[23,16,[]],[23,0,["composeIsFullyExpanded"]],[28,"if",[[23,0,["isMessageRequestCompose"]],[23,0,["messageContext"]]],null],[23,0,["contextByRecipients"]],[23,0,["conversation"]],[23,0,["hasResharedContent"]],[23,0,["isOverlay"]],[28,"if",[[23,0,["isNew"]],[23,0,["hasValidRecipients"]],true],null],[23,0,["forwardedEvent"]],[23,0,["isInMailCompose"]],[23,0,["messagingSettings"]],[23,0,["msgAdapterOptions"]],[28,"if",[[23,0,["customPlaceholderText"]],[23,0,["customPlaceholderText"]],[28,"t",["i18n_write_a_message","msg-ui/components/thread"],null]],null],[23,0,["prefilledAttachments"]],[23,0,["prefilledMessage"]],[23,0,["subject"]],[28,"action",[[23,0,[]],"submitMessage"],null],[23,0,["toggleExpandComposeField"]],[23,0,["update"]],[23,0,["smpContent"]],[23,0,["updateFormState"]],[23,0,["validateForm"]],[23,0,["onBeforeFormSubmit"]]]],{"statements":[[0,"\\n"],[4,"if",[[23,4,["isOverCharLimit"]]],null,{"statements":[[0,"        "],[5,"msg-ui@msg-form/primitives/character-limit-banner",[],[[],[]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["enableAttachmentDragAndDrop"]]],null,{"statements":[[0,"        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-rich-media"]],{"statements":[[0,"\\n"],[4,"if",[[23,10,["state","fulfilled"]]],null,{"statements":[[0,"            "],[6,[23,2,["attachmentDragAndDrop"]],[],[["@composeIsFullyExpanded","@trackingKeys"],[[23,0,["composeIsFullyExpanded"]],[23,0,["dragAndDropTrackingKeys"]]]]],[0,"\\n"],[4,"unless",[[23,4,["showMiniAttachmentPreviews"]]],null,{"statements":[[0,"              "],[6,[23,2,["uploadAttachmentPreviews"]],[],[[],[]]],[0,"\\n"],[4,"if",[[23,4,["attachmentDropErrorType"]]],null,{"statements":[[0,"                "],[6,[23,2,["attachmentDragAndDropErrorDisplay"]],[],[[],[]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[]},null],[0,"        "]],"parameters":[10]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["isInMailCompose"]]],null,{"statements":[[0,"        "],[5,"msg-ui@msg-form/primitives/subject-line-input",[],[["@subject","@a11yId"],[[23,4,["subjectDisplay"]],[23,0,["subjectLineInputId"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,4,["showInMailQuickReplies"]]],null,{"statements":[[0,"        "],[6,[23,2,["inmailQuickReplies"]],[],[["@immediateAction"],[[23,0,["inmailReplyDeepLink"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,4,["showMentionsPicker"]]],null,{"statements":[[0,"        "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-mentions"]],{"statements":[[0,"\\n"],[4,"if",[[23,9,["state","fulfilled"]]],null,{"statements":[[0,"            "],[6,[23,2,["mentionsPicker"]],[],[[],[]]],[0,"\\n\\n"]],"parameters":[]},null],[0,"        "]],"parameters":[9]}],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[0,"      "],[6,[23,2,["messageContentContainer"]],[],[["@classNames","@composeIsFullyExpanded","@forwardedEvent","@expandButtonSize","@labelText","@showExpandButton","@toggleExpandComposeField","@trackingPrefix","@update","@smpContent"],["msg-form__message-texteditor relative flex-grow-1 display-flex",[23,0,["composeIsFullyExpanded"]],[23,0,["forwardedEvent"]],1,[28,"t",[[28,"if",[[23,0,["conversation","isNew"]],"a11y_compose_new","a11y_compose"],null],"msg-ui/components/thread"],[["names"],[[28,"t",[[28,"if",[[23,0,["conversation","groupChat"]],[28,"if",[[23,0,["conversation","name"]],[23,0,["conversation","name"]],"i18n_participants_full_names"],null],"i18n_participants_full_names"],null],"msg-ui/components/thread"],[["names"],[[28,"t",["i18n_participants_full_names","msg-ui/components/thread"],[["names"],[[23,0,["converation","participantNames"]]]]]]]]]]],[23,0,["showExpandButton"]],[23,0,["toggleExpandComposeField"]],[23,0,["actionTrackingPrefix"]],[23,0,["update"]],[23,0,["smpContent"]]]]],[0,"\\n"],[4,"if",[[23,4,["showMiniAttachmentPreviews"]]],null,{"statements":[[4,"if",[[23,4,["attachments","length"]]],null,{"statements":[[0,"          "],[7,"button",false],[12,"class","msg-form__mini-attachment-preview t-12 t-black--light t-bold pv1"],[12,"type","button"],[3,"action",[[23,0,[]],"toggleExpandComposeField"]],[8],[0,"\\n            "],[1,[28,"t",["i18n_num_files_attached","msg-ui/components/thread"],[["numberOfAttachments"],[[23,4,["attachments","length"]]]]],false],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[4,"if",[[23,0,["isInMailCompose"]]],null,{"statements":[[4,"if",[[23,0,["inMailTooLong"]]],null,{"statements":[[0,"          "],[5,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@classNames","@type","@message"],["msg-form__compose-error p2","error",[28,"t",["i18n_inmail_too_long","msg-ui/components/thread"],[["messagelength"],[[23,0,["longMessageLength"]]]]]]]],[0,"\\n"]],"parameters":[]},null],[4,"if",[[23,0,["composeViewContext"]]],null,{"statements":[[4,"if",[[23,0,["composeViewContext","footerText"]]],null,{"statements":[[0,"            "],[7,"section",true],[11,"class",[29,["msg-inmail-credits-display pv2 ph4 ",[28,"if",[[23,0,["msgAdapterOptions","recipientOpenToFreeMessages"]],"justify-flex-end"],null]]]],[8],[0,"\\n"],[4,"if",[[23,0,["composeViewContext","footerIcon"]]],null,{"statements":[[0,"                "],[7,"span",true],[10,"class","a11y-text"],[8],[0,"\\n                  "],[1,[28,"t",["i18n_a11y_premium_badge","msg-ui/components/thread"],null],false],[0,"\\n                "],[9],[0,"\\n                "],[1,[28,"artdeco-icons-web@li-icon",null,[["type","size"],["premium-badge","8dp"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"              "],[7,"p",true],[10,"class","t-12 t-black--light t-normal"],[8],[0,"\\n                "],[1,[28,"text-view-model@text-view-model",[[23,0,["composeViewContext","footerText"]]],null],false],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[0,"          "],[6,[23,2,["inmailCreditsDisplay"]],[],[["@recipient","@recipientOpenToFreeMessages"],[[23,0,["firstRecipient"]],[23,0,["msgAdapterOptions","recipientOpenToFreeMessages"]]]]],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null],[0,"      "],[7,"footer",true],[10,"class","msg-form__footer flex-shrink-zero"],[8],[0,"\\n        "],[7,"div",true],[10,"class","msg-form__left-actions display-flex"],[8],[0,"\\n"],[4,"unless",[[23,0,["hasResharedContent"]]],null,{"statements":[[0,"            "],[6,[23,2,["uploadAttachment"]],[],[["@buttonClasses","@icon","@labelText","@acceptTypes","@disabled","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--1 artdeco-button--circle artdeco-button--muted m0",[28,"artdeco-icons-web@li-icon",null,[["type","size"],["image-icon","small"]]],[28,"t",[[28,"if",[[23,0,["conversation","isNew"]],"a11y_attach_image_new","a11y_attach_image"],null],"msg-ui/components/thread"],[["names"],[[28,"t",[[28,"if",[[23,0,["conversation","groupChat"]],[28,"if",[[23,0,["conversation","name"]],[23,0,["conversation","name"]],"i18n_participants_full_names"],null],"i18n_participants_full_names"],null],"msg-ui/components/thread"],[["names"],[[28,"t",["i18n_participants_full_names","msg-ui/components/thread"],[["names"],[[23,0,["converation","participantNames"]]]]]]]]]]],[23,4,["supportedImageAttachmentTypes"]],[23,0,["isMessageRequestCompose"]],[28,"concat",[[23,0,["actionTrackingPrefix"]],"image"],null]]]],[0,"\\n"]],"parameters":[]},null],[4,"unless",[[23,0,["hasResharedContent"]]],null,{"statements":[[0,"            "],[6,[23,2,["uploadAttachment"]],[],[["@buttonClasses","@icon","@labelText","@acceptTypes","@disabled","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--1 artdeco-button--circle artdeco-button--muted m0",[28,"artdeco-icons-web@li-icon",null,[["type","size"],["paperclip-icon","small"]]],[28,"t",[[28,"if",[[23,0,["conversation","isNew"]],"a11y_attach_file_new","a11y_attach_file"],null],"msg-ui/components/thread"],[["names"],[[28,"t",[[28,"if",[[23,0,["conversation","groupChat"]],[28,"if",[[23,0,["conversation","name"]],[23,0,["conversation","name"]],"i18n_participants_full_names"],null],"i18n_participants_full_names"],null],"msg-ui/components/thread"],[["names"],[[28,"t",["i18n_participants_full_names","msg-ui/components/thread"],[["names"],[[23,0,["converation","participantNames"]]]]]]]]]]],[23,4,["supportedFileAttachmentTypes"]],[23,0,["isMessageRequestCompose"]],[28,"concat",[[23,0,["actionTrackingPrefix"]],"file"],null]]]],[0,"\\n"]],"parameters":[]},null],[4,"if",[[23,0,["enableGifButton"]]],null,{"statements":[[0,"            "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],{"statements":[[0,"\\n"],[4,"if",[[23,8,["state","fulfilled"]]],null,{"statements":[[0,"                "],[5,"tenor-gif@gif-button",[],[["@size","@trackingPrefix","@conversation","@openGIFPopover","@disabled"],[1,[23,0,["actionTrackingPrefix"]],[23,0,["conversation"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"isGifSearchPopoverOpen",true],null],[23,0,["isMessageRequestCompose"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"            "]],"parameters":[8]}],[0,"\\n"],[4,"if",[[23,0,["isGifSearchPopoverOpen"]]],null,{"statements":[[0,"              "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],{"statements":[[0,"\\n"],[4,"if",[[23,7,["state","fulfilled"]]],null,{"statements":[[0,"                  "],[5,"tenor-gif@search-popover",[],[["@conversation","@trackingPrefix","@closeHovercard","@handleGIFSend","@afterSend","@prefilledSearchTerm","@isOverlay"],[[23,0,["conversation"]],[23,0,["actionTrackingPrefix"]],[28,"action",[[23,0,[]],"closeGIFPopover"],null],[28,"action",[[23,0,[]],[23,3,["handleGIFSend"]]],null],[28,"action",[[23,0,[]],[23,3,["focusTextarea"]]],null],[23,0,["prefilledGIFSearchTerm"]],[23,17,[]]]]],[0,"\\n"]],"parameters":[]},null],[0,"              "]],"parameters":[7]}],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["emoji-picker"]],{"statements":[[0,"\\n"],[4,"if",[[23,6,["state","fulfilled"]]],null,{"statements":[[0,"              "],[5,"emoji-picker@emoji-hoverable",[],[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@hoverableOutletId","@onHoverableHide","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses","@triggerData"],[true,[28,"action",[[23,0,[]],[23,3,["updateTextareaWithEmoji"]]],null],"msg_overlay_emoji","msg-overlay__emoji-hoverable-outlet",[28,"action",[[23,0,[]],[23,3,["focusComposeAfterEmojiPickerClose"]]],null],"overlay.close_emoji_picker","overlay.open_emoji_picker","overlay.select_emoji","overlay.select_searched_emoji","msg-form__footer-action",[28,"hash",null,[["bubbleId","conversationUrn"],[[23,0,["bubbleId"]],[23,0,["conversation","entityUrn"]]]]]]]],[0,"\\n"]],"parameters":[]},null],[0,"          "]],"parameters":[6]}],[0,"\\n          "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],{"statements":[[0,"\\n"],[4,"if",[[23,5,["state","fulfilled"]]],null,{"statements":[[0,"              "],[5,"msg-shared-modals@virtual-meeting-cta",[],[["@bubbleId","@conversationUrn","@ctaSize","@isOverlay","@parentRefocusElement"],[[23,16,[]],[23,0,["conversation","entityUrn"]],1,[23,0,["isOverlay"]],[28,"concat",["#",[23,0,["msgFormId"]]],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"          "]],"parameters":[5]}],[0,"\\n        "],[9],[0,"\\n        "],[7,"div",true],[10,"class","msg-form__right-actions display-flex align-items-center"],[8],[0,"\\n"],[4,"if",[[23,0,["isInMailCompose"]]],null,{"statements":[[0,"            "],[6,[23,2,["sendControls"]],[],[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",false]]],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[6,[23,2,["sendControls"]],[],[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",[23,0,["messagingSettings","pressEnterToSend"]]]]],[0,"\\n            "],[6,[23,2,["sendModeToggle"]],[],[["@messagingSettings","@afterToggleAction","@triggerButtonSize"],[[23,0,["messagingSettings"]],[28,"action",[[23,0,[]],[23,3,["focusTextarea"]]],null],1]]],[0,"\\n"]],"parameters":[]}],[0,"        "],[9],[0,"\\n      "],[9],[0,"\\n    "]],"parameters":[2,3,4]}],[0,"\\n\\n"],[0,"    "],[5,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-mentions"]],{"statements":[[0,"\\n"],[4,"if",[[23,1,["state","fulfilled"]]],null,{"statements":[[0,"        "],[5,"msg-mentions@mention-to-invite-toast",[],[["@conversation","@membersToInvite","@onToastDismiss","@actionTrackingPrefix"],[[23,0,["conversation"]],[23,0,["membersToInvite"]],[28,"action",[[23,0,[]],"focusMessageInput"],null],[23,0,["actionTrackingPrefix"]]]]],[0,"\\n"]],"parameters":[]},null],[0,"    "]],"parameters":[1]}],[0,"\\n  "]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[23,0,["selectedInMailReplySmartAction"]]],null,{"statements":[[0,"  "],[5,"msg-ui@inmail-reply-panel",[],[["@replyTo","@quickReply","@cancel","@send","@trackingPrefix"],[[23,0,["conversation","latestEvent"]],[23,0,["selectedInMailReplySmartAction"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"selectedInMailReplySmartAction",[27]],null],[28,"action",[[23,0,[]],"onSendCustomInmailReply"],null],[23,0,["actionTrackingPrefix"]]]]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}],[0,"\\n"],[4,"if",[[23,0,["declineInmailReasonModalIsOpen"]]],null,{"statements":[[0,"  "],[5,"msg-shared-modals@decline-inmail-reason-modal",[],[["@trackingPrefix","@dismissModal"],[[23,0,["actionTrackingPrefix"]],[28,"ember-simple-set-helper@set",[[23,0,[]],"declineInmailReasonModalIsOpen",false],null]]]],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[23,0,["shareInfoModalIsOpen"]]],null,{"statements":[[0,"  "],[5,"msg-shared-modals@share-profile-info-modal",[],[["@emailAddresses","@participant","@shareInfoModalIsOpen","@selectedEmailAddress","@confirmedPhoneNumbers","@recruiter","@conversation","@onShareContactInfoAccept","@sendInMailReply"],[[23,0,["profileContactInfo","confirmedEmailAddresses"]],[23,0,["authenticatedUser","miniProfile"]],[23,0,["shareInfoModalIsOpen"]],[23,0,["profileContactInfo","confirmedEmailAddresses","firstObject"]],[23,0,["profileContactInfo","confirmedPhoneNumbers"]],[23,0,["conversation","latestParticipants","firstObject"]],[23,0,["conversation"]],[28,"action",[[23,0,[]],"onShareContactInfoAccept"],null],[28,"action",[[23,0,[]],"onShareContactInfoDecline"],null]]]],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"msg-ui/components/thread.hbs"}}),{ACTION_TYPES:Ie,MESSAGE_TYPE:De,INMAIL_ACTION:Re,SMART_ACTIONS:Ae,INMAIL_MAX_CHARACTERS:je,INMAIL_SUBJECT_MAX_CHARACTERS:Ne}=o.default
let Fe=(b=Ember.inject.service("msg-data@data-manager"),f=Ember.inject.service("tracking"),v=Ember.inject.service("lix"),y=Ember.inject.service("authentication@authenticated-user"),_=Ember.inject.service("store"),E=Ember.inject.service("global-services@a11y-notification"),w=Ember.inject.service("i18n"),M=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),k=Ember.computed.readOnly("eventsWithCustomLssFooter.lastObject.eventContent.customContent.salesFooter"),C=Ember.computed.filterBy("conversation.sortedEvents","eventContent.customContent.salesFooter.mainText.text").readOnly(),T=Ember.computed("conversation.id","isNew","invitationUrn"),x=Ember.computed("conversation.viewerCurrentParticipant","conversation.latestEvent.isInMail","conversation.latestEvent.quickReplyRecommendations","conversation.isPendingMessageRequest","conversation.isDeclinedMessageRequest","composeIsFullyExpanded").readOnly(),P=Ember.computed("conversation.latestEvent.isInMail","conversation.latestEvent.isRecruiterInMail","conversation.latestEvent.isPremiumInMail","conversation.latestEvent.isSalesInMail","conversation.latestEvent.isInMailReply","conversation.latestEvent.inMailDeclineExplained","selectedInMailReplySmartAction").readOnly(),O=Ember.computed("conversation.latestEvent.isRecruiterInMail").readOnly(),S=Ember.computed("conversation.viewerCurrentParticipant","selectedInMailReplySmartAction").readOnly(),I=Ember.computed("conversation.latestEvent.isInMail","conversation.latestEvent.from.isLoggedInUser","conversation.withNonConnection"),D=Ember.computed("conversation.latestEvent","conversation.withNonConnection"),R=Ember.computed.map("conversation.latestEvent.quickReplyRecommendations",(function(e){return{text:Ember.get(e,"content.text"),reply:e}})).readOnly(),A=Ember.computed("conversation.latestEvent"),j=Ember.computed("hasResharedContent","isMessageRequestCompose"),N=Ember.computed("conversation.isPendingMessageRequest","conversation.participants").readOnly(),F=Ember.computed("conversation.isDeclinedMessageRequest","conversation.participants").readOnly(),L=Ember.computed.or("forwardedEvent","update").readOnly(),U=Ember.computed.not("isInMailCompose").readOnly(),q=Ember.computed.readOnly("messageRecipients.0"),z=Ember.computed.readOnly("conversation.latestEvent.eventContent.customContent.requestContactInfo"),B=Ember.computed("subject"),H=(0,r.on)("messageSendSuccess"),W=(0,r.on)("messageSendFail"),G=Ember._action,V=Ember._action,K=Ember._action,Q=Ember._action,$=Ember._action,Y=Ember._action,J=Ember._action,Z=Ember._action,X=Ember._action,ee=Ember._action,te=Ember._action,se=Ember._action,ne=Ember._action,ie=Ember._action,re=Ember._action,ae=Ember.computed("isInMailCompose","isInMail","hasResharedContent"),oe=Ember.computed("conversation.muted","composeIsFullyExpanded","conversation.blocked").readOnly(),le=Ember._action,me=Ember._action,ce=Ember._action,pe=Ember._action,de=Ember._action,ue=Ember._action,ge=class extends Ember.Component{constructor(){super(...arguments);(0,s.default)(this,"tagName","");(0,s.default)(this,"msgFormId",`msg-form-${Ember.guidFor(this)}`);(0,s.default)(this,"subjectLineInputId",`msg-form__subject-line-input${Ember.guidFor(this)}`);(0,t.default)(this,"msgDataManager",he,this);(0,t.default)(this,"tracking",be,this);(0,t.default)(this,"lix",fe,this);(0,t.default)(this,"authenticatedUser",ve,this);(0,t.default)(this,"store",ye,this);(0,t.default)(this,"a11yNotification",_e,this);(0,t.default)(this,"i18n",Ee,this);(0,t.default)(this,"persistentToastManager",we,this);(0,t.default)(this,"customLssFooter",Me,this);(0,t.default)(this,"eventsWithCustomLssFooter",ke,this);(0,t.default)(this,"quickRepliesList",Ce,this);(0,t.default)(this,"hasResharedContent",Te,this);(0,t.default)(this,"showExpandButton",xe,this);(0,t.default)(this,"firstRecipient",Pe,this);(0,t.default)(this,"inMailRequestContactInfo",Oe,this);(0,s.default)(this,"composeIsFullyExpanded",!1);(0,s.default)(this,"shareInfoModalIsOpen",!1);(0,s.default)(this,"declineInmailReasonModalIsOpen",!1);(0,s.default)(this,"blockedInmailReplyHelpCenterLink","/help/linkedin/answer/124531")}init(){super.init()
Ember.setProperties(this,{composeIsFullyExpanded:this.isInMailCompose||this.hasResharedContent,gdprNoticeType:[a.GDPR_NOTICE_POLICY_TYPE.MESSAGE_CONTROL],funnelTrackingData:m.default.createFunnelTrackingData(),enableNewQuickReplies:this.lix.getTreatmentIsEnabled("voyager.web.messaging-new-quick-replies"),enableThorV3:this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3"),enableOlympusKeys:this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-backend-urn"),enableScrollToLatestMessageIndicator:this.lix.getTreatmentIsEnabled("voyager.web.messaging-scroll-to-latest-message"),enableDismissQRWhenScrolling:this.lix.getTreatmentIsEnabled("voyager.web.messaging-dismiss-quick-replies-scrolling"),enableMessageSendAutoRetry:this.lix.getTreatmentIsEnabled("voyager.web.messaging-auto-retry-send")})
this.msgDataManager.setMessageSendSubscriber(this,this.msgFormId)}get showMessageList(){return!this.isNew||Ember.get(this,"conversation.id")&&!this.invitationUrn}get showQuickReplies(){return!this.composeIsFullyExpanded&&Ember.get(this,"conversation.viewerCurrentParticipant")&&(!Ember.get(this,"conversation.latestEvent.isInMail")||!this.enableDismissQRWhenScrolling)&&!Ember.get(this,"conversation.isPendingMessageRequest")&&!Ember.get(this,"conversation.isDeclinedMessageRequest")&&Ember.get(this,"conversation.latestEvent.quickReplyRecommendations.length")}get showInMailQuickReplies(){return Ember.get(this,"conversation.latestEvent.isInMail")&&(!Ember.get(this,"conversation.latestEvent.isRecruiterInMail")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3"))&&(!Ember.get(this,"conversation.latestEvent.isPremiumInMail")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-premium"))&&(!Ember.get(this,"conversation.latestEvent.isSalesInMail")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-lss"))&&(!Ember.get(this,"conversation.latestEvent.isInMailReply")||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-decline")&&!Ember.get(this,"conversation.latestEvent.inMailDeclineExplained"))&&!this.selectedInMailReplySmartAction}get showThorV2(){return Ember.get(this,"conversation.latestEvent.isRecruiterInMail")&&!this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3")}get showMessageForm(){return(0,u.enableUserReplies)(this.conversation)&&!this.selectedInMailReplySmartAction}get blockedByNoResponse(){return Ember.get(this,"conversation.latestEvent.isInMail")&&Ember.get(this,"conversation.latestEvent.from.isLoggedInUser")&&Ember.get(this,"conversation.withNonConnection")}get blockedByDecline(){return Ember.get(this,"conversation.latestEvent.isInMailDecline")&&!Ember.get(this,"conversation.latestEvent.from.isLoggedInUser")&&Ember.get(this,"conversation.withNonConnection")}get selectedInMailReplySmartAction(){if(!this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3"))return Ember.set(this,"selectedInMailReplySmartAction",void 0)
if(Ember.get(this,"conversation.latestEvent")){let e
this.inmailReplyDeepLink&&Ember.get(this,"conversation.latestEvent.isInMail")&&!Ember.get(this,"conversation.isDeclined")&&(this.inmailReplyDeepLink.endsWith("sent_accepted")?e=this.quickRepliesList.findBy("reply.replyType","INMAIL_ACCEPT"):this.inmailReplyDeepLink.endsWith("sent_rejected")&&(e=this.quickRepliesList.findBy("reply.replyType","INMAIL_DECLINE")))
return Ember.set(this,"selectedInMailReplySmartAction",e)}}get enableAttachmentDragAndDrop(){return!this.hasResharedContent&&!this.isMessageRequestCompose}get isGroupMessageRequest(){return Ember.get(this,"conversation.isPendingMessageRequest")&&Ember.get(this,"conversation.participants").length>1}get showDeclinedMessageRequestAccept(){return Ember.get(this,"conversation.isDeclinedMessageRequest")&&1===Ember.get(this,"conversation.participants").length}get subjectDisplay(){return Ember.get(this,"subject.string")||this.subject||""}_onMessageSendSuccess(e){var t
const s=Ember.get(e,"secondLatestEvent")
m.default.fireClientFunnelEvent(this.tracking,{secondLatestEvent:s,conversationBackendUrn:Ember.get(e,"backendUrn"),currentUserEntityUrn:Ember.get(this,"authenticatedUser.miniProfile.entityUrn"),eventBackendUrn:Ember.get(e,"latestEvent.backendUrn"),isFirstMessage:!s,isOverlay:this.isOverlay,trackingId:Ember.get(this,"funnelTrackingData.id")})
null===(t=this.didSubmitMessage)||void 0===t||t.call(this,e,this.isNew)
const n=Ember.get(e,"id")
if(!this.msgDataManager.getEventCollection(n)){const e=this.msgDataManager.initEventCollection({name:`${n}`,conversationId:n}).load({})
Ember.set(this,"fetchedEventsProxy",e)}this.update&&Ember.set(this,"update",null)
this.smpContent&&Ember.set(this,"smpContent",null)
Ember.setProperties(this,{conversation:e,isNew:!1,isInMailCompose:!1,forwardedEvent:void 0,attachments:void 0,showDraftGroupConversation:!1,funnelTrackingData:m.default.createFunnelTrackingData()})
const i=this.messageActions||{}
i.afterSend&&i.afterSend()
return e}_onMessageSendFail(e){const t=Ember.get(this,"conversation.secondLatestEvent")
m.default.fireClientFunnelEvent(this.tracking,{secondLatestEvent:t,conversationBackendUrn:Ember.get(this,"conversation.backendUrn"),currentUserEntityUrn:Ember.get(this,"authenticatedUser.miniProfile.entityUrn"),isFirstMessage:!t,isOverlay:this.isOverlay,trackingId:Ember.get(this,"funnelTrackingData.id")})
let s=(0,h.default)(e)
if(!s){const e=this.isInMailCompose?"i18n_inmail_send_error":"i18n_conversation_send_error"
s=this.i18n.lookupTranslation("component","msg-ui@i18n-shared",e)()}this.persistentToastManager.error({message:s})
throw e}handleMessageSendSuccess(e){const t=Ember.get(e,"conversation")
this._onMessageSendSuccess(t)}handleMessageSendFail(e){this._onMessageSendFail(e)}_submitMessage(e){const t=!this.conversation
this.tracking.fireInteractionEvent(this.sendMessageControlName)
if(this.isNew){const t=this.messageRecipients
if(!t)return
e.senderID=Ember.get(this,"authenticatedUser.miniProfile.entityUrn")
e.recipientIDs=t.map(e=>Ember.get(e,"entityUrn"))}e.name=Ember.get(this,"draftConversation.name")
e.forward=this.forwardedEvent
e.trackingId=Ember.get(this,"funnelTrackingData.id")
if(this.isInMailCompose){e.messageReplyType=De.INMAIL
e.withNonConnection=!0
e.subject=e.subject.substring(0,Ne)}Ember.get(this,"msgAdapterOptions.groupUrn")&&t&&(e.messageReplyType=De.M2GM)
e.isOverlay=this.isOverlay
let s
const n=this.messageActions||{}
s=this.invitationUrn&&t?this._replyToInvitation:t?this._saveConversation:this._sendReply
n.willSend&&n.willSend(e)
return(n.willSendAsync?n.willSendAsync(e):Ember.RSVP.Promise.resolve()).then(()=>s.call(this,e)).then(e=>this.isDestroying||!t&&this.enableMessageSendAutoRetry?e:this._onMessageSendSuccess(e)).catch(e=>{this.isDestroying||!t&&this.enableMessageSendAutoRetry||this._onMessageSendFail(e)})}_sendReply(e){const{conversation:t}=e
e.recipientIDs=Ember.get(t,"participants").map(e=>(0,c.entityUrnToId)(Ember.get(e,"miniProfile.entityUrn")))
const s=this.isNew?this.firstMessageTrackingReferrer:void 0,n=Ember.get(this,"customTrackingObject.moduleKey")||this.conversationDetailModuleKey
l.default.fireDetailActionEvent({conversation:t,referrer:s,actionType:Ie.SEND_MESSAGE,controlName:this.sendMessageControlName,moduleKey:n,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
e.forward&&l.default.fireDetailActionEvent({conversation:t,referrer:s,actionType:Ember.get(e.forward,"isInMail")?Ie.FORWARD_INMAIL:Ie.FORWARD,controlName:this.sendMessageControlName,moduleKey:n,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
e.subscriberId=this.msgFormId
return this.msgDataManager.createAndSaveMessageEvent({participants:Ember.get(this,"authenticatedUser.miniProfile.entityUrn"),conversation:t,msgData:e}).then(e=>Ember.get(e,"conversation"))}_saveConversation(e){const t=Ember.get(this,"customTrackingObject.moduleKey")||(this.isOpenedFromMsgButton?this.tracking.getCurrentPageKey():this.composeModuleKey)
return this.msgDataManager.createAndSaveConversation(e).then(s=>{l.default.fireDetailActionEvent({conversation:s,moduleKey:t,actionType:Ie.SEND_MESSAGE,controlName:this.sendMessageControlName,referrer:this.firstMessageTrackingReferrer,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
e.forward&&l.default.fireDetailActionEvent({conversation:s,moduleKey:t,actionType:Ie.FORWARD,controlName:this.sendMessageControlName,referrer:this.firstMessageTrackingReferrer,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
return s})}_focusMessageInput(){if(p.default&&window.getSelection().toString())return
const e=document.querySelector(`#${this.msgFormId} .msg-form__contenteditable`)
e&&e.focus()}_handleMentionToInvite(e){const t=e.getMentionedMembers(),{conversation:s}=this
if(!t||!s)return
const n=(0,d.default)(t,s)
Ember.isEmpty(n)||Ember.set(this,"membersToInvite",n)}_fetchContactInfo(){const e=Ember.get(this,"authenticatedUser.memberId"),{store:t}=this
return t.findRecord("com.linkedin.voyager.deco.identity.normalizedprofile.shared.WebApplicantProfile",e,{adapterOptions:{url:`/voyager/api/identity/normalizedProfiles/${e}`}}).then(e=>{this.isDestroying||Ember.setProperties(this,{profileContactInfo:e,shareInfoModalIsOpen:!0})})}_clickReplyToRecruiterInMail(e,t){const{conversation:s}=this
Ember.set(this,"isInMailClickReplyPending",!0)
return this.msgDataManager.clickReplyToInMail(s,e,t).then(()=>{this.a11yNotify("i18n_a11y_send_successful")
this.msgDataManager.getEventCollection(Ember.get(s,"id")).load()}).catch(e=>{const t=this.i18n.lookupTranslation("component","msg-ui@i18n-shared","i18n_conversation_send_error")()
this.persistentToastManager.error({message:t})
throw e}).finally(()=>{Ember.set(this,"isInMailClickReplyPending",!1)})}a11yNotify(e){const t=this.i18n.lookupTranslation("component","msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}_replyToInvitation(e){const{invitationUrn:t}=this
return this.msgDataManager.replyToInvitation(t,e).then(e=>{const t=this.isOpenedFromMsgButton?this.tracking.getCurrentPageKey():this.composeModuleKey
l.default.fireDetailActionEvent({conversation:e,moduleKey:t,actionType:Ie.SEND_MESSAGE,controlName:this.sendMessageControlName,referrer:this.firstMessageTrackingReferrer,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
return e})}openInMailReplyPanel(e){Ember.set(this,"selectedInMailReplySmartAction",e)}showInmailDeclineReasonModal(){Ember.set(this,"declineInmailReasonModalIsOpen",!0)}openGIFPopover(e){Ember.setProperties(this,{isGifSearchPopoverOpen:!0,prefilledGIFSearchTerm:e})}closeGIFPopover(){Ember.setProperties(this,{isGifSearchPopoverOpen:!1,prefilledGIFSearchTerm:""})}toggleConversationMute(){const{conversation:e}=this,t=this.msgDataManager.toggleConversationMute(e),s=Ember.get(e,"muted")?Ie.MUTE:Ie.UNMUTE
l.default.fireDetailActionEvent({conversation:e,actionType:s,controlName:this.muteConversationControlName,shouldUseOlympusKeys:this.enableOlympusKeys,trackingService:this.tracking})
return t}beforeUpload(e){let t,{attachment:s,isPasteEvent:n}=e
t=s.isImage?n?this.imagePasteControlName:this.imageUploadControlName:this.fileUploadControlName
this.tracking.fireInteractionEvent(t)}loadMoreMessages(){return this.conversation&&Ember.get(this,"conversation.id")?this.msgDataManager.getEventCollection(Ember.get(this,"conversation.id")).loadMore():Ember.RSVP.reject()}resendMessage(e){Ember.set(e,"createdAt",Date.now())
this.msgDataManager.retrySaveMessage(e)}submitQuickReply(e,t){const s={message:Ember.get(e,"content.text"),conversation:t,messageReplyType:De.M2M,adapterOptions:{quickReplyExtension:{extensionContentType:"QUICK_REPLY",quickReply:Ember.get(e,"objectUrn")}}}
return this._submitMessage(s)}submitMessage(e){this._focusMessageInput()
if("INMAIL_REPLY"===e.messageReplyType&&this.inMailRequestContactInfo&&this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3")){Ember.set(this,"inMailReplyPayload",e)
return this._fetchContactInfo().catch(t=>{this._submitMessage(e).finally(()=>{this.isDestroying||Ember.set(this,"inMailReplyPayload",void 0)})
throw t})}return this._submitMessage(e)}toggleExpandComposeField(){Ember.set(this,"composeIsFullyExpanded",!this.composeIsFullyExpanded)}updateFormState(e){Ember.set(this,"hasDraft",!!e)}onBeforeFormSubmit(e){Ember.get(this,"conversation.groupChat")&&Ember.get(this,"conversation.hasAddParticipantFeature")&&this._handleMentionToInvite(e)}focusMessageInput(){this._focusMessageInput()}showMessageEditForm(e,t){Ember.setProperties(this,{messageToEdit:e,messageEventToEdit:t,shouldShowMessageEditForm:!0})}get enableGifButton(){return!this.isInMailCompose&&!this.isInMail&&!this.hasResharedContent}get showConversationMuteBanner(){return Ember.get(this,"conversation.muted")&&!this.composeIsFullyExpanded&&!Ember.get(this,"conversation.blocked")}validateForm(e){if(this.isNew){const{isInMailCompose:t}=this
let s=!1
if(t){const t=this.inMailTooLong
if(s=e.length>je){t||this.a11yNotify("i18n_inmail_too_long")
Ember.set(this,"longMessageLength",e.length)}else t&&this.a11yNotify("i18n_inmail_not_too_long_any_more")
Ember.set(this,"inMailTooLong",s)}return Ember.get(this,"messageRecipients.length")&&(!t||Ember.isPresent(e)&&!s)}return!0}oneClickReplyToMessageRequest(e){Ember.set(this,"isMessageRequestClickReplyPending",!0)
return this.msgDataManager.clickReplyToMessageRequest(this.conversation,e,this.isGroupMessageRequest).then(()=>{if(!e){const{handleSuccessfulDiscardRequest:e}=this
e&&e(this.conversation)}this.a11yNotify("i18n_a11y_send_successful")}).catch(e=>{const t=this.i18n.lookupTranslation("component","msg-ui@i18n-shared","i18n_conversation_send_error")()
this.persistentToastManager.error({message:t})
throw e}).finally(()=>{Ember.set(this,"isMessageRequestClickReplyPending",!1)})}oneClickReplyToRecruiterInMail(e){return e&&this.inMailRequestContactInfo?this._fetchContactInfo().catch(t=>{this._clickReplyToRecruiterInMail(e)
throw t}):this._clickReplyToRecruiterInMail(e)}onSendCustomInmailReply(e,t){const s=Ember.get(e,"replyType")===Ae.INMAIL_DECLINE,{conversation:n}=this,i=s?Re.DECLINE:Re.ACCEPT
if(t){const e={message:t,conversation:n,messageReplyType:De.INMAIL_REPLY,inMailResponseAction:i}
if(!s&&this.inMailRequestContactInfo){Ember.set(this,"inMailReplyPayload",e)
return this._fetchContactInfo().catch(t=>{this._submitMessage(e).finally(()=>{this.isDestroying||Ember.setProperties(this,{selectedInMailReplySmartAction:void 0,inMailReplyPayload:void 0})})
throw t})}Ember.set(this,"selectedInMailReplySmartAction",void 0)
return this._submitMessage(e)}return s?this._clickReplyToRecruiterInMail(!1).then(()=>{this.isDestroying||Ember.set(this,"selectedInMailReplySmartAction",void 0)}):Ember.RSVP.resolve().then(()=>{const e=this.i18n.getMessageRenderer("component","msg-ui@i18n-shared","i18n_inmail_empty_body_error")()
this.persistentToastManager.error({errorMessage:e})})}onShareContactInfoAccept(e,t,s){const n=(0,g.default)({i18nService:this.i18n,participant:Ember.get(this,"conversation.participants.firstObject"),email:e,number:t,wechatId:s}),i=this.inMailReplyPayload
if(i){Ember.set(this,"selectedInMailReplySmartAction",void 0)
Ember.set(i,"inMailContactInfo",n)
return this._submitMessage(i).finally(()=>{this.isDestroying||Ember.set(this,"inMailReplyPayload",void 0)})}return this._clickReplyToRecruiterInMail(!0,n)}onShareContactInfoDecline(){const e=this.inMailReplyPayload
if(e){Ember.set(this,"selectedInMailReplySmartAction",void 0)
Ember.set(e,"inMailContactInfo",{})
this._submitMessage(e).finally(()=>{this.isDestroying||Ember.set(this,"inMailReplyPayload",void 0)})}else this._clickReplyToRecruiterInMail(!0,{})}},he=(0,n.default)(ge.prototype,"msgDataManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=(0,n.default)(ge.prototype,"tracking",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=(0,n.default)(ge.prototype,"lix",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,n.default)(ge.prototype,"authenticatedUser",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,n.default)(ge.prototype,"store",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,n.default)(ge.prototype,"a11yNotification",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,n.default)(ge.prototype,"i18n",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,n.default)(ge.prototype,"persistentToastManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,n.default)(ge.prototype,"customLssFooter",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,n.default)(ge.prototype,"eventsWithCustomLssFooter",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(ge.prototype,"showMessageList",[T],Object.getOwnPropertyDescriptor(ge.prototype,"showMessageList"),ge.prototype),(0,n.default)(ge.prototype,"showQuickReplies",[x],Object.getOwnPropertyDescriptor(ge.prototype,"showQuickReplies"),ge.prototype),(0,n.default)(ge.prototype,"showInMailQuickReplies",[P],Object.getOwnPropertyDescriptor(ge.prototype,"showInMailQuickReplies"),ge.prototype),(0,n.default)(ge.prototype,"showThorV2",[O],Object.getOwnPropertyDescriptor(ge.prototype,"showThorV2"),ge.prototype),(0,n.default)(ge.prototype,"showMessageForm",[S],Object.getOwnPropertyDescriptor(ge.prototype,"showMessageForm"),ge.prototype),(0,n.default)(ge.prototype,"blockedByNoResponse",[I],Object.getOwnPropertyDescriptor(ge.prototype,"blockedByNoResponse"),ge.prototype),(0,n.default)(ge.prototype,"blockedByDecline",[D],Object.getOwnPropertyDescriptor(ge.prototype,"blockedByDecline"),ge.prototype),Ce=(0,n.default)(ge.prototype,"quickRepliesList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(ge.prototype,"selectedInMailReplySmartAction",[A],Object.getOwnPropertyDescriptor(ge.prototype,"selectedInMailReplySmartAction"),ge.prototype),(0,n.default)(ge.prototype,"enableAttachmentDragAndDrop",[j],Object.getOwnPropertyDescriptor(ge.prototype,"enableAttachmentDragAndDrop"),ge.prototype),(0,n.default)(ge.prototype,"isGroupMessageRequest",[N],Object.getOwnPropertyDescriptor(ge.prototype,"isGroupMessageRequest"),ge.prototype),(0,n.default)(ge.prototype,"showDeclinedMessageRequestAccept",[F],Object.getOwnPropertyDescriptor(ge.prototype,"showDeclinedMessageRequestAccept"),ge.prototype),Te=(0,n.default)(ge.prototype,"hasResharedContent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,n.default)(ge.prototype,"showExpandButton",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,n.default)(ge.prototype,"firstRecipient",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,n.default)(ge.prototype,"inMailRequestContactInfo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(ge.prototype,"subjectDisplay",[B],Object.getOwnPropertyDescriptor(ge.prototype,"subjectDisplay"),ge.prototype),(0,n.default)(ge.prototype,"handleMessageSendSuccess",[H],Object.getOwnPropertyDescriptor(ge.prototype,"handleMessageSendSuccess"),ge.prototype),(0,n.default)(ge.prototype,"handleMessageSendFail",[W],Object.getOwnPropertyDescriptor(ge.prototype,"handleMessageSendFail"),ge.prototype),(0,n.default)(ge.prototype,"openInMailReplyPanel",[G],Object.getOwnPropertyDescriptor(ge.prototype,"openInMailReplyPanel"),ge.prototype),(0,n.default)(ge.prototype,"showInmailDeclineReasonModal",[V],Object.getOwnPropertyDescriptor(ge.prototype,"showInmailDeclineReasonModal"),ge.prototype),(0,n.default)(ge.prototype,"openGIFPopover",[K],Object.getOwnPropertyDescriptor(ge.prototype,"openGIFPopover"),ge.prototype),(0,n.default)(ge.prototype,"closeGIFPopover",[Q],Object.getOwnPropertyDescriptor(ge.prototype,"closeGIFPopover"),ge.prototype),(0,n.default)(ge.prototype,"toggleConversationMute",[$],Object.getOwnPropertyDescriptor(ge.prototype,"toggleConversationMute"),ge.prototype),(0,n.default)(ge.prototype,"beforeUpload",[Y],Object.getOwnPropertyDescriptor(ge.prototype,"beforeUpload"),ge.prototype),(0,n.default)(ge.prototype,"loadMoreMessages",[J],Object.getOwnPropertyDescriptor(ge.prototype,"loadMoreMessages"),ge.prototype),(0,n.default)(ge.prototype,"resendMessage",[Z],Object.getOwnPropertyDescriptor(ge.prototype,"resendMessage"),ge.prototype),(0,n.default)(ge.prototype,"submitQuickReply",[X],Object.getOwnPropertyDescriptor(ge.prototype,"submitQuickReply"),ge.prototype),(0,n.default)(ge.prototype,"submitMessage",[ee],Object.getOwnPropertyDescriptor(ge.prototype,"submitMessage"),ge.prototype),(0,n.default)(ge.prototype,"toggleExpandComposeField",[te],Object.getOwnPropertyDescriptor(ge.prototype,"toggleExpandComposeField"),ge.prototype),(0,n.default)(ge.prototype,"updateFormState",[se],Object.getOwnPropertyDescriptor(ge.prototype,"updateFormState"),ge.prototype),(0,n.default)(ge.prototype,"onBeforeFormSubmit",[ne],Object.getOwnPropertyDescriptor(ge.prototype,"onBeforeFormSubmit"),ge.prototype),(0,n.default)(ge.prototype,"focusMessageInput",[ie],Object.getOwnPropertyDescriptor(ge.prototype,"focusMessageInput"),ge.prototype),(0,n.default)(ge.prototype,"showMessageEditForm",[re],Object.getOwnPropertyDescriptor(ge.prototype,"showMessageEditForm"),ge.prototype),(0,n.default)(ge.prototype,"enableGifButton",[ae],Object.getOwnPropertyDescriptor(ge.prototype,"enableGifButton"),ge.prototype),(0,n.default)(ge.prototype,"showConversationMuteBanner",[oe],Object.getOwnPropertyDescriptor(ge.prototype,"showConversationMuteBanner"),ge.prototype),(0,n.default)(ge.prototype,"validateForm",[le],Object.getOwnPropertyDescriptor(ge.prototype,"validateForm"),ge.prototype),(0,n.default)(ge.prototype,"oneClickReplyToMessageRequest",[me],Object.getOwnPropertyDescriptor(ge.prototype,"oneClickReplyToMessageRequest"),ge.prototype),(0,n.default)(ge.prototype,"oneClickReplyToRecruiterInMail",[ce],Object.getOwnPropertyDescriptor(ge.prototype,"oneClickReplyToRecruiterInMail"),ge.prototype),(0,n.default)(ge.prototype,"onSendCustomInmailReply",[pe],Object.getOwnPropertyDescriptor(ge.prototype,"onSendCustomInmailReply"),ge.prototype),(0,n.default)(ge.prototype,"onShareContactInfoAccept",[de],Object.getOwnPropertyDescriptor(ge.prototype,"onShareContactInfoAccept"),ge.prototype),(0,n.default)(ge.prototype,"onShareContactInfoDecline",[ue],Object.getOwnPropertyDescriptor(ge.prototype,"onShareContactInfoDecline"),ge.prototype),ge)
e.default=Fe
Ember._setComponentTemplate(Se,Fe)})
define.alias("ember-vector-upload-manager/components/vector-upload-manager","msg-ui/components/vector-upload-manager")
define.alias("ember-vector-upload-manager/components/vector-upload","msg-ui/components/vector-upload")
define("msg-ui/components/visible-beacon",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@glimmer/component","ember-batcher","global-utils/utils/intersection-observer"],function(e,t,s,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,a
const o=Ember.HTMLBars.template({id:"mKKvBIWI",block:'{"symbols":["&default"],"statements":[[7,"div",false],[3,"did-insert",[[23,0,["handleDidInsert"]]]],[8],[0,"\\n    "],[14,1],[0,"\\n"],[9]],"hasEval":false}',meta:{moduleName:"msg-ui/components/visible-beacon.hbs"}})
let l=(r=Ember._action,a=class extends s.default{get buffer(){return this.args.buffer||300}_fireInView(){this.isDestroying||this.args.inView()}handleDidInsert(e){(0,i.onInViewportOnce)(e,()=>{(0,n.mutateDOM)(()=>{(0,n.mutateDOM)(this._fireInView.bind(this))})},{rootMargin:`0px 0px ${this.buffer}px`})}},(0,t.default)(a.prototype,"handleDidInsert",[r],Object.getOwnPropertyDescriptor(a.prototype,"handleDidInsert"),a.prototype),a)
e.default=l
Ember._setComponentTemplate(o,l)})
define("msg-ui/config/environment",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="msg-ui/config/environment",s=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(s))}catch(n){t={}}var s=t
e.default=s})
define.alias("ember-m3/adapters/interop-debug-adapter","msg-ui/data-adapter")
define.alias("@css-blocks/ember-cli/helpers/-css-blocks-classnames","msg-ui/helpers/-css-blocks-classnames")
define.alias("@css-blocks/ember-cli/helpers/-css-blocks-concat","msg-ui/helpers/-css-blocks-concat")
define.alias("ember-truth-helpers/helpers/and","msg-ui/helpers/and")
define.alias("ember-cli-pemberly-i18n/helpers/bidi-dir","msg-ui/helpers/bidi-dir")
define("msg-ui/helpers/date-group-heading",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-ui/helpers/is-current-year"],function(e,t,s,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,c,p,d
let u=(a=Ember.inject.service("i18n"),o=Ember.inject.service("formatter"),l=Ember.inject.service("date"),m=class extends Ember.Helper{constructor(){super(...arguments);(0,t.default)(this,"i18n",c,this);(0,t.default)(this,"formatter",p,this);(0,t.default)(this,"date",d,this)}compute(e){const t=e[0],s=this.date.now(),n=s-t
let i
if(t>=new Date(s).setHours(0,0,0,0))return this.i18n.lookupTranslation("component","msg-ui@message-list","i18n_today")()
i=n<6048e5?"fmt_d":(0,r.isCurrentYear)(t,this.date)?"fmt_md_medium":"fmt_mdy_medium"
return this.formatter.formatDate(t,i,!0)}},c=(0,n.default)(m.prototype,"i18n",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,n.default)(m.prototype,"formatter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,n.default)(m.prototype,"date",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m)
e.default=u})
define.alias("ember-truth-helpers/helpers/equal","msg-ui/helpers/eq")
define.alias("ember-cli-pemberly-i18n/helpers/format-currency","msg-ui/helpers/format-currency")
define.alias("ember-cli-pemberly-i18n/helpers/format-date","msg-ui/helpers/format-date")
define.alias("ember-cli-pemberly-i18n/helpers/format-name","msg-ui/helpers/format-name")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","msg-ui/helpers/format-number")
define.alias("ember-cli-pemberly-i18n/helpers/format-time","msg-ui/helpers/format-time")
define.alias("ember-cli-pemberly-i18n/helpers/format-truncate","msg-ui/helpers/format-truncate")
define.alias("ember-truth-helpers/helpers/gt","msg-ui/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","msg-ui/helpers/gte")
define.alias("ember-cli-pemberly-i18n/helpers/is-any-locale","msg-ui/helpers/is-any-locale")
define.alias("ember-truth-helpers/helpers/is-array","msg-ui/helpers/is-array")
define("msg-ui/helpers/is-authenticated-user",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper"],function(e,t,s,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.isAuthenticatedUser=l
e.default=void 0
var r,a,o
function l(e,t){return t&&Ember.get(e,"miniProfile.entityUrn")&&Ember.get(e,"miniProfile.entityUrn")===Ember.get(t,"miniProfile.entityUrn")}let m=(r=Ember.inject.service("authentication@authenticated-user"),a=class extends Ember.Helper{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",o,this)}compute(e){let[t]=e
return l(this.authenticatedUser,t)}},o=(0,n.default)(a.prototype,"authenticatedUser",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=m})
define.alias("ember-cli-pemberly-i18n/helpers/is-cjk-language","msg-ui/helpers/is-cjk-language")
define("msg-ui/helpers/is-current-year",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper"],function(e,t,s,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.isCurrentYear=l
e.default=void 0
var r,a,o
function l(e,t){const s=t.now()
return new Date(s).getFullYear()===new Date(e).getFullYear()}let m=(r=Ember.inject.service("date"),a=class extends Ember.Helper{constructor(){super(...arguments);(0,t.default)(this,"dateService",o,this)}compute(e){let[t]=e
return l(t,this.dateService)}},o=(0,n.default)(a.prototype,"dateService",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=m})
define.alias("ember-truth-helpers/helpers/is-empty","msg-ui/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","msg-ui/helpers/is-equal")
define.alias("ember-cli-pemberly-i18n/helpers/is-rtl-content","msg-ui/helpers/is-rtl-content")
define.alias("ember-cli-pemberly-i18n/helpers/is-rtl-language","msg-ui/helpers/is-rtl-language")
define.alias("artdeco-icons-web/helpers/li-icon","msg-ui/helpers/li-icon")
define.alias("ember-truth-helpers/helpers/lt","msg-ui/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","msg-ui/helpers/lte")
define.alias("ember-truth-helpers/helpers/not-equal","msg-ui/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","msg-ui/helpers/not")
define.alias("ember-truth-helpers/helpers/or","msg-ui/helpers/or")
define("msg-ui/helpers/participant-names-with-self",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@babel/runtime/helpers/esm/toConsumableArray"],function(e,t,s,n,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.participantNamesWithSelf=p
e.default=void 0
var a,o,l,m,c
function p(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0
if(!e)return[]
const i=Ember.get(e,"participantNames")
return Ember.get(e,"viewerCurrentParticipant")?[].concat((0,r.default)(i),[s?{firstName:n.lookupTranslation("component","msg-ui@i18n-shared","i18n_you")(),lastName:""}:{firstName:Ember.get(t,"firstName"),lastName:Ember.get(t,"lastName")}]):i}let d=(a=Ember.inject.service("authentication@authenticated-user"),o=Ember.inject.service("i18n"),l=class extends Ember.Helper{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",m,this);(0,t.default)(this,"i18n",c,this)}compute(e){let[t,s=!1]=e
return p(t,Ember.get(this,"authenticatedUser.miniProfile"),s,this.i18n)}},m=(0,n.default)(l.prototype,"authenticatedUser",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=(0,n.default)(l.prototype,"i18n",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=d})
define.alias("ember-app-scheduler/helpers/route-idle","msg-ui/helpers/route-idle")
define.alias("ember-simple-set-helper/helpers/set","msg-ui/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t-link-to","msg-ui/helpers/t-link-to")
define.alias("ember-cli-pemberly-i18n/helpers/t-make-name","msg-ui/helpers/t-make-name")
define.alias("ember-cli-pemberly-i18n/helpers/t","msg-ui/helpers/t")
define.alias("ember-truth-helpers/helpers/xor","msg-ui/helpers/xor")
define("msg-ui/initializers/artdeco",["exports","artdeco-eyeglass"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=i
e.default=void 0
const s=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function n(e,t){const n=e[t]
e[t]=function(){s.forEach(e=>e&&"function"==typeof e.teardown&&e.teardown())
n&&"function"==typeof n&&n.call(e)}}function i(e){if("undefined"!=typeof document){s.forEach(e=>e.install())
"function"==typeof e.willDestroy?n(e,"willDestroy"):"function"==typeof e.destroy&&n(e,"destroy")}}var r={name:"artdeco",initialize:i}
e.default=r})
define("msg-ui/initializers/ember-faker",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=t
e.default=void 0
function t(){}var s={name:"ember-faker",initialize:t}
e.default=s})
define.alias("ember-cli-pemberly-i18n/initializers/i18n","msg-ui/initializers/i18n")
define("msg-ui/initializers/icons",["exports","artdeco-icons-web/src/icons","msg-ui/config/environment"],function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function n(e){throw e}var i={name:"icons",initialize:function(){const{environment:e,APP:i}=s.default
let r,a
i&&({artdecoCustomSpriteUrl:r,artdecoCustomSpriteName:a}=i)
const o="test"!==e
t.default.load(o,r,a).catch(n)}}
e.default=i})
define.alias("ember-m3/initializers/m3-store","msg-ui/initializers/m3-store")
define("msg-ui/initializers/override-safestring",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=i
e.default=void 0
const t="ember-glimmer",s="ember-htmlbars/utils/string",n="@ember/-internals/glimmer"
function i(){let e,i=Ember.__loader.require.has
if(i(n))e=Ember.__loader.require(n).SafeString
else if(i(t))e=Ember.__loader.require(t).SafeString
else{if(!i(s))throw new Error("Cannot locate SafeString class for overriding")
e=Ember.__loader.require(s).SafeString}e.prototype.toHTML=function(){return jSecure.sanitizeHTML(this.toString())}
e.prototype.toString=function(){return`${this.string}`}}var r={name:"override-safestring",initialize:i}
e.default=r})
define("msg-ui/instance-initializers/-t-link-to",["exports","ember-stdlib/utils/is-browser"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=s
e.default=void 0
function s(e){t.default&&e.lookup("service:-t-link-to")}var n={name:"-t-link-to",initialize:s}
e.default=n})
define.alias("@ember/render-modifiers/modifiers/did-insert","msg-ui/modifiers/did-insert")
define.alias("@ember/render-modifiers/modifiers/did-update","msg-ui/modifiers/did-update")
define.alias("ember-sortable/modifiers/sortable-group","msg-ui/modifiers/sortable-group")
define.alias("ember-sortable/modifiers/sortable-handle","msg-ui/modifiers/sortable-handle")
define.alias("ember-sortable/modifiers/sortable-item","msg-ui/modifiers/sortable-item")
define.alias("@ember/render-modifiers/modifiers/will-destroy","msg-ui/modifiers/will-destroy")
define.alias("ember-cli-pemberly-i18n/services/-t-link-to","msg-ui/services/-t-link-to")
define.alias("artdeco-hoverables/services/artdeco-hoverable","msg-ui/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","msg-ui/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast-time-ago","msg-ui/services/artdeco-toast-time-ago")
define.alias("artdeco-toast/services/artdeco-toast","msg-ui/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","msg-ui/services/client-sensor")
define.alias("ember-cli-pemberly-i18n/services/formatter","msg-ui/services/formatter")
define.alias("ember-cli-pemberly-i18n/services/i18n","msg-ui/services/i18n")
define.alias("@linkedin/ember-pem/services/internal-event-utils","msg-ui/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","msg-ui/services/internal-pem-tracking")
define.alias("ember-cli-pemberly-i18n/services/locale","msg-ui/services/locale")
define.alias("ember-m3/services/m3-schema-manager","msg-ui/services/m3-schema-manager")
define("msg-ui/services/messaging-user-settings",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","global-utils/utils/is-browser","msg-shared/utils/constants","msg-data/utils/messaging-settings","global-utils/utils/api-compat"],function(e,t,s,n,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,c,p,d,u,g,h,b,f
const{ENTER_LOCAL_STORAGE_KEY:v}=a.default
let y=(m=Ember.inject.service("authentication@authenticated-user"),c=Ember.inject.service("global-services@identity-store"),p=Ember.inject.service("lix"),d=Ember.inject.service("global-services@local-storage"),u=class extends Ember.Service{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",g,this);(0,t.default)(this,"identityStore",h,this);(0,t.default)(this,"lix",b,this);(0,t.default)(this,"ls",f,this)}getMsgSettings(){return r.default?this._getLocalStorageSettings():this._getMsgSettings()}syncUserSettings(){return this._getMsgSettings()}getRealtimeSettingExplicitlyChosen(){return(0,o.findMessagingSettingsRequest)(this.identityStore,this.lix,"com.linkedin.voyager.identity.profile.MessagingSettings",(0,l.entityUrnToId)(Ember.get(this,"authenticatedUser.miniProfile.entityUrn"))).then(e=>e.get("messagingSeenReceipts")&&e.get("messagingTypingIndicators"))}_getLocalStorageSettings(){const e="true"===(this.ls.getItem(v)||"true")
return Ember.Object.create({pressEnterToSend:e})}_getMsgSettings(){const e=(0,l.entityUrnToId)(Ember.get(this,"authenticatedUser.miniProfile.entityUrn"))
return(0,o.findMessagingSettingsRequest)(this.identityStore,this.lix,"com.linkedin.voyager.identity.profile.MessagingSettings",e).then(e=>{const t=Ember.get(e,"pressEnterToSend")
if(Ember.isEmpty(t))return this._getLocalStorageSettings()
this.ls.setItem(v,t)
return e}).catch(()=>this._getLocalStorageSettings())}},g=(0,n.default)(u.prototype,"authenticatedUser",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,n.default)(u.prototype,"identityStore",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,n.default)(u.prototype,"lix",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.default)(u.prototype,"ls",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=y})
define.alias("@linkedin/ember-pem/services/pem-tracking","msg-ui/services/pem-tracking")
define.alias("ember-cli-pemberly-m3/services/store","msg-ui/services/store")
define.alias("ember-singularity/services/unified-event-handler","msg-ui/services/unified-event-handler")
define("msg-ui/services/update-message-compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper"],function(e,t,s,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,a,o
let l=(r=Ember.inject.service("jet"),a=class extends Ember.Service{constructor(){super(...arguments);(0,s.default)(this,"overlayBaseFormSubscriberList",[]);(0,t.default)(this,"jet",o,this)}setBaseFormSubscriber(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.overlayBaseFormSubscriberList.push(e):this.pillarBaseForm=e}removeBaseFormSubscriber(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.overlayBaseFormSubscriberList.splice(this.overlayBaseFormSubscriberList.indexOf(e),1):this.pillarBaseForm=null}_getBaseFormSubscriber(e,t){return t?this.overlayBaseFormSubscriberList.findBy("bubbleId",e):this.pillarBaseForm}triggerFocusMessageCompose(e){let{bubbleId:t,isOverlay:s}=e
const n=this._getBaseFormSubscriber(t,s)
n?Ember.sendEvent(n,"focusMessageCompose"):this.logErrorForNoBaseFormFound("triggerFocusMessageCompose",t)}triggerUpdateMessageCompose(e){let{bubbleId:t,isOverlay:s,messageText:n}=e
const i=this._getBaseFormSubscriber(t,s)
i?Ember.sendEvent(i,"updateMessageCompose",[n]):this.logErrorForNoBaseFormFound("triggerUpdateMessageCompose",t)}logErrorForNoBaseFormFound(e,t,s){const n=this.overlayBaseFormSubscriberList.map(e=>Ember.get(e,"conversation.entityUrn")),i=[`${e}()`]
t&&i.push(`bubbleId: ${t}`)
s&&i.push(`conversationUrn: ${s}`)
i.push(`baseFormConversationUrns: ${n.join(", ")}`)
this.jet.error(new Error("No baseFormSubscriber was found from conversation entityUrn"),i)}},o=(0,n.default)(a.prototype,"jet",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=l})
define("msg-ui/utils/attributed-text-manager",["exports","global-utils/utils/get-ie-version","global-utils/utils/is-browser","rich-text/utils/mentions-texteditor-helpers"],function(e,t,s,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i={mention:"STRONG",wrapper:"P",newLine:"BR",nonVisual:["STYLE","#comment"],grammarly:"G",text:"#text"},r="gr_",a="msg-form__mention-highlight",o="msg-form__mention-in-progress",l="data-id"
function m(e){return-1!==i.nonVisual.indexOf(e.nodeName)}e.default=class{constructor(){this.resetModel()
s.default?this.needsBlankChar=window.navigator.userAgent.indexOf("Firefox")>-1||this._isIEOrEdgeBrowser():this.needsBlankChar=!1}resetModel(){this.Model={text:"",attributes:[],cursor:0}
this.isBrowser=s.default
this.didAttributesChange=!0
this.EntityMap={}
this.History=n.History.create()}getModel(){return this.Model}setModel(e){this.History.addToUndo(e)
this.Model=e
return this}updateModelCursorPosition(e){this.History.addToUndo(this.Model)
this.Model={text:this.Model.text,attributes:this.Model.attributes,cursor:e}
return this.Model}updateModelFromHTML(e){const t=e.childNodes
this.History.clearRedo()
this.didAttributesChange=!1
if(""===e.textContent){this.resetModel()
return}let s=0
const n={text:"",attributes:[]}
if(this.needsBlankChar&&1===e.textContent.length){n.text=e.textContent
n.position=1
n.cursor=1
this.setModel(n)
this.didAttributesChange=!0
return}for(let a=0;a<t.length;a+=1){const e=t[a]
if(e.nodeName===i.wrapper){const t=e.childNodes
for(let e=0;e<t.length;e+=1){const i=t[e]
if(this.isMentionNode(i)){const e=i.getAttribute(l),t=this.EntityMap[e]
if(t){const r={start:s,length:i.textContent.length,entity:t,urn:e}
n.attributes.push(r)}}if(!m(i)){n.text+=i.textContent
s+=i.textContent.length}}}if(this._shouldInsertReturn(t,e,a)){n.text+="\n"
s+=1}else if(1===t.length&&1===e.childNodes.length&&e.childNodes[0]===i.newLine){n.text+="\n"
s+=1
n.cursor=1}}if(!n.cursor){const{end:t}=this.getCaretPosition(e)
n.cursor=t}const r=n.text.length<this.Model.text.length
this.cleanModel(n,r)}getCaretPosition(e){return(0,n.getCaretPosition)(e,this.isBrowser)}setCaretPosition(e,t){let s,n,r,a
if(!this.isBrowser)return
s=document.createRange()
n=window.getSelection()
let o=e,l=!1
const m=t.childNodes
for(let c=0;c<m.length;c+=1){let e=!1
const t=m[c].textContent.length
if(o-t>0){o-=t
c<m.length-1&&(o-=1)}else{a=m[c].childNodes
for(r=0;r<a.length;r+=1){const t=a[r].textContent.length
if(!(o-t>0)){a[r].nodeName===i.mention&&(l=!0)
e=!0
break}o-=t}if(e)break}}if(a&&a.length&&r>-1){l?s.setStart(a[r].childNodes[0],o):s.setStart(a[r],o)
s.collapse(!0)
n.removeAllRanges()
n.addRange(s)
t.focus()}}correctClickPosition(e){if(!this.needsBlankChar)return
const{text:t}=this.getModel()
t.length||this.setCaretPosition(0,e)}cleanModel(e,t){const s={text:e.text,attributes:[],cursor:e.cursor}
let n=0
e.attributes.sort((e,t)=>e.start-t.start)
e.attributes.forEach(i=>{const r=e.text.substr(i.start,i.length)
if(i.mentionInProgress||!this.isMentionEntity(Ember.get(i,"entity.miniProfile.entityUrn"))){s.attributes.push(i)
return}const a=this.EntityMap[i.urn],o=Ember.get(a,"miniProfile")
let{firstName:l="",lastName:m=""}=Ember.getProperties(o,"firstName","lastName")
r.indexOf(`@${l}`)>-1?l=`@${l}`:r.indexOf(`@${m}`)>-1&&(m=`@${m}`)
const c=r.split(" ")
if(c.length>1&&""===c[c.length-1]){c.splice(c.length-1,1)
c[c.length-1]+=" "
this.didAttributesChange=!0}const p=l.split(" ").concat(m.split(" "))
l.match(/[\u3400-\u9FBF]/)&&m.length&&m.match(/[\u3400-\u9FBF]/)&&p.unshift(m+l)
let d=0
for(let e=0;e<p.length;e+=1)if(c[d]&&c[d]===p[e]){if(d===c.length-1){const{start:e,length:t,entity:r,urn:a}=i
s.attributes.push({start:e+n,length:t,entity:r,urn:a})
return}d+=1}else if(!t){this.didAttributesChange=!0
if(d===c.length-1&&c[d]&&0===c[d].indexOf(p[e])){const t=c[d].length-p[e].length,{start:n,length:r,entity:a,urn:o}=i
s.attributes.push({start:n,length:r-t,entity:a,urn:o})
return}if(0===d){const t=c[d].indexOf(p[e])
if(t>0){const{start:e,length:n,entity:r,urn:a}=i
s.attributes.push({start:e+t,length:n-t,entity:r,urn:a})
return}}}if(t){const t=this.generateRemainingMentionText(c,p),{diffPosition:r}=t
let{finalMentionText:a}=t
a=a.indexOf("@")>-1?a:`@${a}`
const o=this.updateModelWithNewMentionText(a,i,e.text,r),{cursor:l,diff:m,mention:d,text:u}=o
n+=m
d&&s.attributes.push(d)
s.text=u
s.cursor=l
this.didAttributesChange=!0}})
const i=0!==this.getModel().attributes.length,r=0===s.attributes.length
i&&r&&(this.didAttributesChange=!0)
this.setModel(s)}generateRemainingMentionText(e,t){let s,n="",i=0,r=0,a=!1
const o=e
for(let l=0;l<t.length&&i<o.length;l+=1){const e=t[l],m=o[i]
if(m.trim()===e){n+=`${m} `
r=l
i<o.length-1&&(i+=1)}else if(0===m.indexOf(e)){s=n.trim().length
a=!0
const t=m.replace(e,"")
o[i]=t}else if(l===t.length-1&&i<o.length-1){l=r
i+=1
s=n.trim().length
a=!0}else s||a||(s=n.trim().length)}return{finalMentionText:n,diffPosition:s}}updateModelWithNewMentionText(e,t,s,n){if(e&&"@"!==e){const i=e.trim(),r=i.length-t.length,a=s.substr(0,t.start)+i+s.substr(t.start+t.length),o=t.start+n
t.length=i.length
return{text:a,cursor:o,diff:r,mention:t}}delete this.EntityMap[t.urn]
return{text:s.substr(0,t.start)+s.substr(t.start+t.length),cursor:t.start,diff:-t.length}}createHTMLFromModel(){let e="",t=0
const{text:s}=this.Model
if(!s)return jSecure.sanitizeHTML(this._carriageReturnHandler(this.needsBlankChar))
this.Model.attributes.sort((e,t)=>e.start-t.start).forEach(n=>{const{start:i,length:r}=n
e=`${e}${jSecure.htmlEncode(s.substring(t,i))}${this.createHTMLForAttribute(n)}`
t=i+r})
e+=jSecure.htmlEncode(s.substring(t))
return jSecure.sanitizeHTML(e.split("\n").map(e=>Ember.isPresent(e)?jSecure.mk`<${i.wrapper}>${new jSecure.UnsafeString(jSecure.sanitizeHTML(e))}</${i.wrapper}>`:this._carriageReturnHandler(this.needsBlankChar)).join(""))}createHTMLForAttribute(e){let{entity:t,start:s,length:n,mentionInProgress:i}=e
return`<strong class="${i?o:a}" ${l}="${jSecure.htmlEncode(t?Ember.get(t,"miniProfile.entityUrn"):"mention-in-progress")}">${jSecure.htmlEncode(this.Model.text.substring(s,s+n))}</strong>`}insertText(e,t){let{start:s,end:n}=t
if(!e)return
const{text:i,attributes:r}=this.Model,a=this._calcOffset(e,i,s),o={attributes:r.reduce((t,i)=>{if(i.start+i.length<=s)return t.concat(i)
if(i.start>=n){const r={start:s+e.length+(i.start-n),length:i.length,entity:i.entity,urn:i.urn}
return t.concat(r)}return t},[]),cursor:s+e.length+a,text:`${i.slice(0,s)}${e}${i.slice(n)}`}
this.didAttributesChange=!0
this.setModel(o)
return this}_calcOffset(e,t){let s=0
if(this.needsBlankChar)if("\n"===e){const{length:e}=t,n=" "===t[e-1]?t.slice(0,-1):t
"\n"===n[n.length-1]&&(s=1)}else s=(e.match(/\n\n/g)||[]).length
return s}insertAttribute(e){const t=Ember.getProperties(e,["match","entity","mentionInProgress"]),s=this.getModel(),{text:n}=s,{start:i,end:r}=e.tokenSelection,a=e.match.text.length-(r-i),o={text:`${n.substring(0,i)}${e.match.text}${n.substring(r)}`,attributes:s.attributes.reduce((e,t)=>{if(t.start>=r){const{start:s,length:n,entity:i,urn:r}=t
e.push({urn:r,length:n,entity:i,start:s+a})}else e.push(t)
return e},[]),cursor:i+e.match.text.length}
this.didAttributesChange=!0
const l=Ember.get(t,"entity"),m=Ember.get(t,"entity.miniProfile.entityUrn"),c={urn:m,entity:l,start:i,length:t.match.length}
t.mentionInProgress&&(c.mentionInProgress=!0)
o.attributes.push(c)
this.EntityMap[m]=l
this.setModel(o)
return this}removeMentionInProgress(){const e=this.getModel()
e.attributes=e.attributes.filter(e=>!e.mentionInProgress)
this.setModel(e)
this.didAttributesChange=!0}handleUndoRedo(e){let t
if((t=e.shiftKey?this.History.redo():this.History.undo())&&t.model){this.setModel(t.model)
this.didAttributesChange=!0}return this}getTextBeforeCursor(e){const{text:t}=this.Model,s=this.Model.attributes.sort((e,t)=>t.start-e.start).find(t=>t.entity&&t.start+t.length<=e.start&&this.isMentionEntity(Ember.get(t,"entity.miniProfile.entityUrn")))
if(s){const n=s.start+s.length
return t.substring(n,e.end)}return t.substring(0,e.end)}isMentionNode(e){return e.className===a&&e.getAttribute(l)}isMentionEntity(e){return e&&e.includes("urn:li:member")||e.includes("miniProfile")||e.includes("urn:li:fs_conversation")}mentionAtPosition(e){return this.getModel().attributes.find(t=>{let{start:s,length:n}=t
return e>=s&&e<=s+n-1})}_isGrammarly(e){return e.nodeName===i.grammarly&&e.classList.contains(r)}_shouldInsertReturn(e,t,s){const{nodeName:n}=t
return s<e.length-1&&!this._isGrammarly(t)&&n!==i.mention&&(n===i.newLine||n!==i.text)}_isIEOrEdgeBrowser(){return!(Ember.testing||!s.default||!(0,t.default)(window.navigator.userAgent))}_carriageReturnHandler(e){return e?jSecure.mk`<${i.wrapper}>&nbsp;<br /></${i.wrapper}>`:jSecure.mk`<${i.wrapper}><br /></${i.wrapper}>`}}})
define("msg-ui/utils/conversation-properties",["exports","msg-shared/utils/constants"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.enableUserReplies=function(e){return!e||Ember.get(e,"viewerCurrentParticipant")}
e.getReplyMessageType=function(e){if(Ember.get(e,"isInMail"))return s.INMAIL_REPLY
if(Ember.get(e,"isSponsoredConversation"))return s.SPONSORED_MESSAGE_REPLY
return s.M2M}
const{MESSAGE_TYPE:s}=t.default})
define.alias("client-sensor-web/utils/counter-buffer","msg-ui/utils/counter-buffer")
define("msg-ui/utils/events-grouper",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function t(e,t){return Ember.get(e,"isSystemMessage")||Ember.get(t,"isSystemMessage")||Ember.get(e,"from.mini.id")!==Ember.get(t,"from.mini.id")}function s(e,s,n){let i=!1
const r=t(e,s)
if(!Ember.get(s,"isSystemMessage")&&r){i=Ember.isEmpty(n)||Ember.get(s,"from.mini.id")===Ember.get(n,"from.mini.id")?2:1}return i}function n(e,t){if(!Object.keys(e).length&&Ember.get(t,"conversation.hasTopBanner"))return!1
const s=new Date(Number(Ember.get(e,"createdAt"))).setHours(0,0,0,0),n=new Date(Number(Ember.get(t,"createdAt"))).setHours(0,0,0,0),i=Number(n)
return s!==i&&{timestamp:i}}function i(e,s){const n=t(e,s),i=Ember.get(s,"createdAt")-Ember.get(e,"createdAt")>6e4
return n||i}var r={groupEvents:function(e){let t,r,a
const o=[]
for(let l=0,m=e.length;l<m;l++){r=e[l]
t=e[l-1]||{}
a=e[l+1]||{}
o.push({id:Ember.guidFor(r.content),messageIndex:m-l-1,event:r,dateBoundary:n(t,r),senderGroupMessageCount:s(t,r,a),showMeta:!!Ember.get(r,"eventContent.recalledAt")||!Ember.get(r,"isSystemMessage")&&i(t,r),isLastInGroup:i(r,a)})}return o}}
e.default=r})
define.alias("client-sensor-web/utils/helpers","msg-ui/utils/helpers")
define("msg-ui/utils/mentions-helper",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){const s=Ember.get(t,"participants").reduce((e,t)=>{e.set(Ember.get(t,"miniProfile.entityUrn"),!0)
return e},new Map)
return e.filter(e=>!s.has(Ember.get(e,"entityUrn")))}})
define("msg-ui/utils/message-request-helper",["exports","msg-shared/utils/constants"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.extractMessageRequestMetaData=function(e){const t=Ember.get(e,"contextText.attributes.firstObject")
let n,i
switch(Ember.get(t,"type")){case s.type:n=Ember.get(t,"miniGroup.groupName")
i=s.icon}return{context:n,contextIcon:i}}
const{MESSAGE_REQUEST_CONTEXT_TYPE:{GROUP_NAME:s}}=t.default})
define("msg-ui/utils/notification-sounds",["exports","global-utils/utils/is-browser"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.soundPlaybackUtils=e.notificationSounds=void 0
const s=t.default&&window.Audio?{TYPING:new window.Audio("https://media.licdn.com/media/AAMB_wQiAAgAAQAAAAAAAA0WAAAAJGY1ZGY1NGUxLTY2MzUtNDY0OC1hNGYxLWMwYjRiZDdmMWE4Ng.bin"),SEND:new window.Audio("https://media.licdn.com/media/AAMB_wQiAAgAAQAAAAAAAAukAAAAJDE2NTM5ZDVkLTU0ZWItNDU0ZS1hMTFlLThlNmM3MjFhMGEyNQ.bin"),RECEIVE:new window.Audio("https://media.licdn.com/media/AAMBAQQiAAgAAQAAAAAAAAriAAAAJDg2ZWY0MzhjLWQ5YTUtNDgyMy1hZjQ3LWYzM2RlOWRjZmZkYg.bin")}:{}
e.notificationSounds=s
const n={prevTypingSound:null,playSound(e){e===s.TYPING&&(this.prevTypingSound=e)
Ember.testing||e.play()},stopTypingSound(){Ember.testing||!this.prevTypingSound||this.prevTypingSound.paused||this.prevTypingSound.pause()}}
e.soundPlaybackUtils=n})
define("msg-ui/utils/realtime-onboarding",["exports","global-utils/utils/get-csrf-token"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t,s,n,i){this.legoResolver=e
this.legoTracking=t
this.msgUserSettings=s
this.store=n
this.tracking=i
this._legoWidgetTrackingToken=void 0}run(){this._fetchLegoWidget().then(()=>this.msgUserSettings.getRealtimeSettingExplicitlyChosen()).then(e=>{if(!e){this.tracking.firePageViewEvent("flagship3_messaging_realtime_onboarding")
return this._enableRealtimeSettings()}}).then(()=>this._dismissLegoWidget())}_fetchLegoWidget(){return this.legoResolver.fireLegoCall({pageKey:"messaging_realtime",slotId:"onboarding",groupId:"onboarding_group",widgetId:"realtime_onboarding"}).then(e=>{if(!e)return Ember.RSVP.reject()
this._legoWidgetTrackingToken=Ember.get(e,"trackingToken")
return e})}_dismissLegoWidget(){this.legoTracking.sendLegoAction(this._legoWidgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}_enableRealtimeSettings(){return this.store.adapterFor("-ember-m3").ajax("/psettings/seen-receipts","post",{data:{seenReceiptsEnabled:!0,csrfToken:(0,t.default)()},headers:{"x-requested-with":"XMLHttpRequest"}}).then(e=>{const t=Ember.get(e,"result.responseCode")
if(200!==t)throw new Error(`failed to set realtime setting, responseCode: ${t}`)})}}})
define("msg-ui/utils/reregister-impression-tracking",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){e.on("didTransition",()=>{this.isDestroying||t()})}})
define.alias("client-sensor-web/utils/run-loop-helpers","msg-ui/utils/run-loop-helpers")
define("msg-ui/utils/search-history-helper",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.fetchSearchHistory=function(e){return e.queryURL("messaging/peripheral/messagingSearchHistory",{reload:!0,params:{q:"type"}}).then(e=>Ember.get(e,"elements"))}
e.saveProfileSearchHistory=function(e,n){const r={[t]:{profile:{entityUrn:Ember.get(n,"entityUrn")},backendUrn:Ember.get(n,"objectUrn")}}
return e.adapterFor("-ember-m3").ajax(s,"post",{data:i("PEOPLE",r)})}
e.saveQuerySearchHistory=function(e,t){if(!t)return Ember.RSVP.reject()
const n={"com.linkedin.voyager.search.SearchQuery":{parameters:[{name:"keywords",value:t}]}}
return e.adapterFor("-ember-m3").ajax(s,"post",{data:i("ALL",n)})}
e.clearSearchHistory=function(e){return e.adapterFor("-ember-m3").ajax(n,"post")}
const t="com.linkedin.voyager.search.SearchHistoryProfile",s="/voyager/api/messaging/peripheral/messagingSearchHistory?action=createOrUpdate",n="/voyager/api/messaging/peripheral/messagingSearchHistory?action=clear"
function i(e,t){return{searchHistory:{displayText:"",searchType:e,historyInfo:t}}}})
define("msg-ui/utils/send-typing-indicator",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){if(!e)return
if(!t)return
t.adapterFor("application").ajax("/voyager/api/messaging/conversations?action=typing","post",{data:{conversationId:e}}).catch((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{status:t,message:s}=e
if(!(!navigator.onLine||0===t||500===t||s&&s.includes("returned a 500")))throw e}))}})
define("msg-ui/utils/share-contact-info-helper",["exports","urn-utils"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){const{email:s,number:n,wechatId:i}=e,r={email:(0,t.extractEntityInfoFromUrn)(Ember.get(s,"entityUrn")).id}
n&&(r.phoneNumber={number:n})
i&&(r.wechatId=i)
return r}})
define.alias("ember-vector-images/utils/vector-url","msg-ui/utils/vector-url")
define("msg-ui/utils/virtual-meeting-constants",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MEETING_PROVIDERS=void 0
e.MEETING_PROVIDERS={bluejeans:{class:"msg-unrolled-virtual-meeting__icon-bluejeans",controlName:"virtual_meetings_open_link_bluejeans",name:"BlueJeans",regex:/^(https?:\/\/)?(.*\.)?bluejeans\.com\/(\d+)([\/\?].*)?$/},teams:{class:"msg-unrolled-virtual-meeting__icon-teams",controlName:"virtual_meetings_open_link_teams",name:"Microsoft Teams",regex:/^(https?:\/\/)?(.*\.)?teams\.microsoft\.com(:\d+)?\/.+meetup-join.*$/},zoom:{class:"msg-unrolled-virtual-meeting__icon-zoom",controlName:"virtual_meetings_open_link_zoom",name:"Zoom",regex:/^(https?:\/\/)?(.*\.)?zoom\.(com|us)\/.+\/(\d+)([\/\?].*)?$/}}})

//# sourceMappingURL=engine.map